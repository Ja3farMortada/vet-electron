import{a as Oe}from"./chunk-FBW3PZHK.js";import{c as N}from"./chunk-65IROLXL.js";import"./chunk-MEMFBDSU.js";import{b as q}from"./chunk-R5TBYHGB.js";import{a as Q,b as We,c as je}from"./chunk-F55XOBOM.js";import{a as Qe}from"./chunk-3MNELIWF.js";import{a as qe}from"./chunk-QNGQUUWN.js";import{a as Ne,b as Le,c as L}from"./chunk-MM2ILL2R.js";import{a as Te}from"./chunk-CXRP5GN6.js";import"./chunk-GOWH2OVL.js";import{b as Be}from"./chunk-QSZWY6W5.js";import{a as Me,b as Ie}from"./chunk-JBIETLWA.js";import{a as ke,b as Pe}from"./chunk-D3SSBNZN.js";import{b as de}from"./chunk-6W2INIPT.js";import{a as Fe}from"./chunk-HKBVJRXU.js";import{a as Ee,b as He}from"./chunk-UPEO3OJJ.js";import{b as Ce,c as xe,f as ve,k as Se,l as be,q as we}from"./chunk-5RWI34IA.js";import{b as De}from"./chunk-X2LN5D3L.js";import"./chunk-LSU6PTXH.js";import{b as Ve}from"./chunk-5HBZH4F2.js";import"./chunk-LQIUUWFA.js";import{a as ae,b as se}from"./chunk-VZUVB6OR.js";import{i as fe,j as he}from"./chunk-IQYDCUJX.js";import{$a as k,Aa as l,Ba as M,Bc as le,Cb as Z,Db as O,Fa as h,Ga as y,Ha as a,K as H,Mc as pe,N as S,Na as I,Nc as ce,O as W,Oa as V,Oc as me,P as D,Pa as E,Pc as ue,Ra as s,Sa as C,Ta as x,Ub as j,V as c,Va as b,W as m,Wa as w,Xa as T,_a as F,_b as ee,ab as Y,ba as R,ed as _e,fd as ge,ga as z,gd as ye,ha as p,hb as v,hc as te,i as U,ib as P,kb as B,kc as ie,nc as ne,ra as f,rc as oe,ta as u,vc as re,wa as K,wb as G,xb as J,ya as $,yb as X,za as r}from"./chunk-ZWYFQ3XA.js";var Ke=["barcodeInput"],$e=["invoiceTable"],Ye=["editQty"],Ge=["editPrice"],Je=["payment_input"],Xe=["notes_input"],Ze=()=>({width:"65vw"}),et=()=>({"1199px":"75vw","575px":"95vw"}),tt=i=>({"ng-invalid ng-dirty":i}),it=()=>({standalone:!0}),Ae=i=>({invalid:i}),nt=(i,d)=>({"text-red-500":i,"text-orange-500":d}),ot=i=>({"text-red-500":i}),rt=i=>({selected:i});function lt(i,d){if(i&1&&(r(0,"h2",25),s(1),v(2,"currency"),l()),i&2){let e=a();p(),x(" USD: ",B(2,1,e.invoiceTotal.subtotal_dollar,"USD","symbol","1.3-3")," ")}}function at(i,d){if(i&1&&(r(0,"h2",26),s(1),v(2,"dollar"),l()),i&2){let e=a();p(),x(" Total: ",P(2,1,e.invoiceTotal.subtotal_dollar)," ")}}function st(i,d){if(i&1){let e=h();r(0,"div",27)(1,"div",28)(2,"label",32),s(3,"Payment"),l(),r(4,"p-inputNumber",33,2),T("ngModelChange",function(t){c(e);let o=a(2);return w(o.payment_amount,t)||(o.payment_amount=t),m(t)}),y("onFocus",function(t){c(e);let o=a(2);return m(o.select(t.target))}),l()()(),r(6,"div",27)(7,"div",28)(8,"label",34),s(9,"Notes"),l(),r(10,"input",35,3),T("ngModelChange",function(t){c(e);let o=a(2);return w(o.journal_notes,t)||(o.journal_notes=t),m(t)}),l()()(),r(12,"div",36)(13,"table",37)(14,"tr")(15,"th",38),s(16,"Old Balance:"),l(),r(17,"th")(18,"app-text-with-loading",39)(19,"span"),s(20),v(21,"currency"),l()()()(),r(22,"tr")(23,"th",38),s(24,"Current Invoice:"),l(),r(25,"th"),s(26),v(27,"currency"),l()(),r(28,"tr")(29,"th",38),s(30,"Payment:"),l(),r(31,"th"),s(32),v(33,"currency"),l()(),r(34,"tr")(35,"td",40),M(36,"p-divider",41),l()(),r(37,"tr")(38,"th",38),s(39,"New Balance:"),l(),r(40,"th")(41,"app-text-with-loading",42)(42,"span"),s(43),v(44,"currency"),l()()()()()()}if(i&2){let e=a(2);p(4),b("ngModel",e.payment_amount),u("ngModelOptions",F(22,it))("buttonLayout","horizontal")("step",1)("min",0),p(6),b("ngModel",e.journal_notes),p(8),u("isLoading",e.supplier_balance_loading())("loadingBar",!0),p(2),C(P(21,14,e.supplier_balance.balance)),p(6),x(" ",P(27,16,e.invoiceTotal.subtotal_dollar)," "),p(6),x(" ",P(33,18,e.payment_amount())," "),p(9),u("isLoading",e.supplier_balance_loading())("loadingBar",!0),p(2),C(P(44,20,e.calculateNewBalance(e.invoiceTotal.subtotal_dollar,e.supplier_balance.balance,e.payment_amount())))}}function pt(i,d){if(i&1){let e=h();r(0,"div",14)(1,"div",27)(2,"div",28)(3,"label",29),s(4,"Supplier"),r(5,"span",30),s(6," *"),l()(),r(7,"p-dropdown",31),T("ngModelChange",function(t){c(e);let o=a();return w(o.selected_supplier_id,t)||(o.selected_supplier_id=t),m(t)}),y("onShow",function(){c(e);let t=a();return m(t.dropDownVisible=!0)})("onHide",function(){c(e);let t=a();return m(t.dropDownVisible=!1)})("ngModelChange",function(){c(e);let t=a();return m(t.getSupplierBalance())}),l()()(),f(8,st,45,23),l()}if(i&2){let e=a();p(7),u("loading",e.suppliersLoading()),b("ngModel",e.selected_supplier_id),u("options",e.suppliers)("filter",!0)("showClear",!0)("autoOptionFocus",!1)("ngClass",k(8,tt,e.submited()&&!e.selected_supplier_id())),p(),$(e.selected_supplier_id()?8:-1)}}function ct(i,d){i&1&&(r(0,"tr")(1,"th",43),s(2,"#"),l(),r(3,"th",44),s(4,"Barcode"),l(),r(5,"th",45),s(6,"Description"),l(),r(7,"th",46),s(8,"Expiry Date"),l(),r(9,"th",46),s(10,"Price"),l(),r(11,"th",43),s(12,"Qty"),l(),r(13,"th",46),s(14,"Total"),l(),r(15,"th",43),s(16,"Del?"),l()())}function mt(i,d){if(i&1){let e=h();r(0,"p-inputNumber",54,4),T("ngModelChange",function(t){c(e);let o=a().$implicit;return w(o.unit_price,t)||(o.unit_price=t),m(t)}),y("ngModelChange",function(){c(e);let t=a().$implicit,o=a();return m(o.setPrice(t))})("onFocus",function(t){c(e);let o=a(2);return m(o.select(t.target))}),l()}if(i&2){let e=a().$implicit;b("ngModel",e.unit_price),u("maxFractionDigits",3)("min",0)}}function ut(i,d){i&1&&M(0,"i",57)}function dt(i,d){if(i&1&&(r(0,"span",55),s(1),v(2,"currency"),r(3,"span"),f(4,ut,1,0,"i",56),l()()),i&2){let e=a().$implicit,n=a();u("ngClass",Y(8,nt,!e.unit_price,n.getPriceWarining(e))),p(),C(B(2,3,e.unit_price,"USD","symbol","1.3-3")),p(3),u("ngIf",n.getPriceWarining(e))}}function _t(i,d){if(i&1){let e=h();r(0,"p-inputNumber",58,5),T("ngModelChange",function(t){c(e);let o=a().$implicit;return w(o.quantity,t)||(o.quantity=t),m(t)}),y("onFocus",function(t){c(e);let o=a(2);return m(o.select(t.target))})("ngModelChange",function(){c(e);let t=a().$implicit,o=a();return m(o.setQty(t))}),l()}if(i&2){let e=a().$implicit;b("ngModel",e.quantity),u("maxFractionDigits",2)("minFractionDigits",0)}}function gt(i,d){if(i&1&&(r(0,"span",55),s(1),l()),i&2){let e=a().$implicit;u("ngClass",k(2,ot,!e.quantity)),p(),C(e.quantity)}}function yt(i,d){if(i&1&&(r(0,"td"),s(1),v(2,"currency"),l()),i&2){let e=a().$implicit;p(),x(" ",e.currency=="lira"?e.unit_price*e.quantity:B(2,1,e.unit_price*e.quantity,"USD","symbol","1.3-3")," ")}}function ft(i,d){if(i&1){let e=h();r(0,"tr")(1,"td"),s(2),l(),r(3,"td"),s(4),l(),r(5,"td"),s(6),l(),r(7,"td"),s(8),l(),r(9,"td",47)(10,"p-cellEditor"),f(11,mt,2,3,"ng-template",48)(12,dt,5,11,"ng-template",49),l()(),r(13,"td",50)(14,"p-cellEditor"),f(15,_t,2,3,"ng-template",48)(16,gt,2,4,"ng-template",49),l()(),f(17,yt,3,6,"td",51),r(18,"td",52),y("click",function(){let t=c(e).rowIndex,o=a();return m(o.removeRow(t))}),M(19,"i",53),l()()}if(i&2){let e=d.$implicit,n=d.rowIndex,t=a();p(2),C(n+1),p(2),C(e.barcode||"---"),p(2),C(e.product_name),p(2),C(e.expiry_date||"---"),p(),u("pEditableColumn",e.unit_price)("ngClass",k(9,Ae,!e.unit_price)),p(4),u("pEditableColumn",e.quantity)("ngClass",k(11,Ae,!e.quantity)),p(4),u("ngIf",t.view_currency=="dollar")}}function ht(i,d){if(i&1&&(r(0,"h4",60),s(1),l()),i&2){let e=a(2);p(),x(" Total units: ",e.invoiceTotal.total_qty," ")}}function Ct(i,d){if(i&1&&f(0,ht,2,1,"h4",59),i&2){let e=a();u("ngIf",e.invoiceTotal.total_qty)}}function xt(i,d){i&1&&(r(0,"tr",61)(1,"td",62),s(2,"No data yet!"),l()())}function vt(i,d){if(i&1){let e=h();r(0,"p-autoComplete",63,6),T("ngModelChange",function(t){c(e);let o=a();return w(o.search_product,t)||(o.search_product=t),m(t)}),y("completeMethod",function(t){c(e);let o=a();return m(o.searchItem(t))})("onKeyUp",function(t){c(e);let o=a();return m(o.submitInvoiceInput(t))}),l()}if(i&2){let e=a();b("ngModel",e.search_product),u("suggestions",e.searchedItems)("delay",150)}}function St(i,d){if(i&1){let e=h();r(0,"p-button",64),y("onClick",function(){c(e);let t=a();return m(t.clearInvoice())}),l(),r(1,"p-button",65),y("onClick",function(){c(e);let t=a();return m(t.checkout())}),l()}if(i&2){let e=a();u("disabled",e.invoice().length==0),p(),u("loading",e.loading())("disabled",e.invoice().length==0)}}function bt(i,d){if(i&1){let e=h();r(0,"div",67)(1,"div",70),y("click",function(){let t=c(e).$implicit,o=a(2);return m(o.selectedVariant=t)}),r(2,"p"),s(3),M(4,"br"),r(5,"small"),s(6),l()()()()}if(i&2){let e=d.$implicit,n=a(2);p(),u("ngClass",k(3,rt,n.selectedVariant==e)),p(2),x(" ",e.expiry_date," "),p(3),x("Current qty: ",e.variant_quantity,"")}}function wt(i,d){if(i&1){let e=h();r(0,"div",14),f(1,bt,7,5,"div",66),r(2,"div",67)(3,"div",68),y("click",function(){c(e);let t=a();return m(t.openVariantsDialog("add",t.productToAdd))}),r(4,"p"),s(5,"Add Variant"),l(),r(6,"small"),M(7,"i",69),l()()()()}if(i&2){let e=a();p(),u("ngForOf",e.productToAdd==null?null:e.productToAdd.variants_records)}}function Tt(i,d){if(i&1){let e=h();r(0,"p-button",71),y("onClick",function(){c(e);let t=a();return m(t.variantDialogVisible=!1)}),l(),r(1,"p-button",72),y("onClick",function(){c(e);let t=a();return m(t.submitVariant())}),l()}}var Ue=(()=>{class i{constructor(){this.suppliersService=S(Qe),this.stockService=S(Te),this.supplyService=S(je),this.notificationsService=S(ie),this.confirmationService=S(ee),this.localStorageService=S(Oe),this.dateService=S(Ve),this.dropDownVisible=!1,this.vh=this.localStorageService.getSupplyPageViewHeight(),this.invoiceTotal=new Q,this.search_product=null,this.searchedItems=[],this.suppliers=[],this.view_currency="dollar",this.dialog_products_visible=!1,this.invoice=this.supplyService.invoice,this.submited=this.supplyService.signal_submited,this.products=this.stockService.products,this.loading=this.supplyService.signal_submit_loading,this.stockTableLoading=this.stockService.tableLoading,this.suppliersLoading=this.suppliersService.suppliersLoading,this.subscriptions=new U,this.priceTypes=Object.keys(We),this.today=this.dateService.getCurrentDate(),this.variantDialogVisible=!1,this.productToAdd=null,this.selectedVariant=null,this.payment_amount=this.supplyService.payment_amount,this.journal_notes=this.supplyService.journal_notes,this.selected_supplier_id=this.supplyService.selected_customer,this.supplier_balance_loading=this.suppliersService.signal_balanceLoading,this.supplier_balance={id:0,balance:"0"},this.variantsDialogVisible=!1}onKeyDown(e){if(this.dropDownVisible||this.dialog_products_visible)return;let n=this.notes_input?this.notes_input.nativeElement:null;if(document.activeElement===n)return;[this.editPrice,this.editQty,this.payment_input,n].some(_=>_?.focused===!0)||this.focusBarcodeInput()}focusBarcodeInput(){this.barcodeInput.nativeElement.children[0].children[0].focus()}ngOnInit(){this.messages=[{severity:"info",detail:"No Invoice Yet!"}],this.subscriptions.add(this.suppliersService.suppliers$.subscribe(e=>{this.suppliers=e})),this.calculateTotal(),this.subscriptions.add(this.supplyService.reset$.subscribe(e=>{e&&(this.init(),this.supplyService.reset$.next(!1))})),this.subscriptions.add(this.supplyService.barcodeResponse.subscribe(e=>{e&&(this.addProduct(e),this.supplyService.barcodeResponse.next(null))})),this.subscriptions.add(this.suppliersService.supplierTotalDebts$.subscribe(e=>{e.id==this.selected_supplier_id()&&(this.supplier_balance=e)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setPrice(e){this.calculateTotal()}setQty(e){this.calculateTotal()}select(e){e.select()}init(){this.supplyService.selected_customer.set(null),this.supplyService.payment_amount.set(0),this.supplyService.invoice.set([]),this.supplyService.journal_notes.set(null),this.submited.set(!1),this.calculateTotal()}clearInvoice(){this.confirmationService.confirm({key:"home",message:"Are you sure that you want to clear invoice?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.init()}})}searchItem(e){let n=this.products(),t=[],o=e.query;for(let _=0;_<n.length;_++){let g=n[_];g.product_name.toLowerCase().indexOf(o.toLowerCase())>-1&&t.push(g)}this.searchedItems=t}addProduct(e){this.productToAdd=e,e.has_variants?this.variantDialogVisible=!0:this.addProductToInvoice(e)}addProductToInvoice(e,n=null){let t=this.supplyService.factor(),o=structuredClone(this.invoice()),_=o.find(g=>g.product_id===e.product_id&&g.variant_id===n?.variant_id);_?_.quantity+=t:o.push({product_id:e.product_id,barcode:e.barcode,product_name:e.product_name,unit_cost:e.unit_cost_usd,unit_price:e.unit_cost_usd,quantity:t,variant_id:n?.variant_id,expiry_date:n?.expiry_date,stock_management:e.stock_management}),this.invoice.set(o),this.supplyService.factor.set(1),this.calculateTotal()}submitVariant(){this.addProductToInvoice(this.productToAdd,this.selectedVariant),this.variantDialogVisible=!1}resetVariantsDialog(){this.variantDialogVisible=!1,this.productToAdd=null,this.selectedVariant=null}submitInvoiceInput(e){e.key==="Enter"&&this.search_product&&(typeof this.search_product=="string"?this.submitBarcode(this.search_product):this.supplyService.barcodeResponse.next(this.search_product),this.search_product=null)}submitBarcode(e){if(e){let n=-1,t=["*","+"];for(let g=0;g<t.length;g++)if(e.indexOf(t[g])!==-1){n=e.indexOf(t[g]);break}let o=e.substring(0,n)||1,_=parseInt(e.substring(n+1,e.length));n!=-1&&n!=0?(this.supplyService.factor.set(parseInt(o)),this.supplyService.submitBarcode(_)):this.supplyService.submitBarcode(e)}}removeRow(e){this.invoice().splice(e,1),this.calculateTotal(),this.validateItems()}assignSelectedProducts(e){this.dialog_products_visible=!1,e.forEach(n=>{this.addProduct(n)})}calculateTotal(){let e=new Q,n=this.invoice();return n.length>0&&(n.forEach(t=>{e.total_qty+=t.quantity,e.cost_dollar+=t.unit_cost*t.quantity,e.subtotal_dollar+=t.unit_price*t.quantity}),e.total_dollar=e.subtotal_dollar-e.discount_dollar),this.invoiceTotal=e,e}parseFloat(e){return parseFloat(e)}validateItems(){return!!this.invoice().find(n=>!n.unit_price||!n.quantity)}getPriceWarining(e){if(!e.unit_price)return!1;let n=e.unit_cost||0,t=e.unit_price;return typeof n=="string"&&(n=parseFloat(n)),typeof t=="string"&&(t=parseFloat(t)),t<n}checkout(){let e=this.validateItems();!e&&this.selected_supplier_id()?this.confirmationService.confirm({key:"home",message:'Are you sure that you want to submit invoice"?',header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-success",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.supplyService.checkout({partner_id_fk:this.selected_supplier_id(),exchange_rate:this.stockService.exchangeRate().rate_value,total_cost:this.invoiceTotal.subtotal_dollar,items:this.invoice()},this.payment_amount(),this.journal_notes())}}):(this.submited.set(!0),e&&this.notificationsService.showError("Please enter price for all items","home"))}getSupplierBalance(){this.selected_supplier_id()?this.suppliersService.getAccountTotalBalance(this.selected_supplier_id()):this.supplier_balance={id:0,balance:"0"}}calculateNewBalance(e,n=0,t=0){return n=parseFloat(n),n+e-t}openVariantsDialog(e,n){this.productExpanded=n,this.variantsDialogMode=e,this.variantsDialogVisible=!0}variantDialogClosed(){this.variantsDialogVisible=!1,this.productExpanded=null}variantSubmitted(e){this.productToAdd=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=W({type:i,selectors:[["app-supply-home"]],viewQuery:function(n,t){if(n&1&&(I(Ke,5,R),I($e,5),I(Ye,5),I(Ge,5),I(Je,5),I(Xe,5)),n&2){let o;V(o=E())&&(t.barcodeInput=o.first),V(o=E())&&(t.invoiceTable=o.first),V(o=E())&&(t.editQty=o.first),V(o=E())&&(t.editPrice=o.first),V(o=E())&&(t.payment_input=o.first),V(o=E())&&(t.notes_input=o.first)}},hostBindings:function(n,t){n&1&&y("keydown",function(_){return t.onKeyDown(_)},!1,z)},decls:25,vars:16,consts:[["desktopTable",""],["invoiceTable",""],["payment_input",""],["notes_input",""],["editPrice",""],["editQty",""],["barcodeInput",""],[1,"grid","m-1"],[1,"col-12"],["styleClass","mb-3 p-2"],["pTemplate","left"],["pTemplate","right"],["pTemplate","body"],["styleClass","mt-2"],[1,"grid"],["dataKey","product_id","styleClass","p-datatable-sm ","editMode","cell",3,"value"],["pTemplate","header"],["pTemplate","summary"],["pTemplate","emptymessage"],["styleClass","mt-2 p-2"],["position","top","header","Choose Variant","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints","closeOnEscape","closable"],["pTemplate","content"],["pTemplate","footer"],["price","cost",3,"onHide","onSubmit","visible","products","tableLoading"],[3,"OnClose","OnSubmit","visible","dialog_mode","selected_product"],[1,"text-green-600","m-2"],[1,"text-primary","m-2"],[1,"col-2"],[1,"flex","flex-column","gap-2"],["for","supplier"],[1,"text-red-500"],["styleClass","p-inputtext-sm","id","supplier","appendTo","body","optionLabel","name","optionValue","account_id","placeholder","Select Supplier","filterBy","name",3,"ngModelChange","onShow","onHide","loading","ngModel","options","filter","showClear","autoOptionFocus","ngClass"],["for","currency"],["inputId","currency-us","mode","currency","currency","USD","locale","en-US","styleClass","w-full",1,"p-inputtext-sm",3,"ngModelChange","onFocus","ngModel","ngModelOptions","buttonLayout","step","min"],["for","notes"],["pInputText","","styleClass","w-full",1,"p-inputtext-sm",3,"ngModelChange","ngModel"],[1,"col-6","flex","justify-content-end"],[1,"text-right"],[1,"text-green-500"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","50%",3,"isLoading","loadingBar"],["colspan","2"],["styleClass","m-0"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","63%",3,"isLoading","loadingBar"],["width","5%"],["width","15%"],["width","40%"],["width","10%"],["pEditableColumnField","unit_price",3,"pEditableColumn","ngClass"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","quantity",3,"pEditableColumn","ngClass"],[4,"ngIf"],[1,"danger-hover",3,"click"],[1,"pi","pi-trash"],["styleClass","input-align-center","step","0",1,"p-inputtext-sm","priceEditable",3,"ngModelChange","onFocus","ngModel","maxFractionDigits","min"],[3,"ngClass"],["class","pi pi-exclamation-triangle ml-2",4,"ngIf"],[1,"pi","pi-exclamation-triangle","ml-2"],["min","0.1","step","0.1",1,"p-inputtext-sm","editable",3,"ngModelChange","onFocus","ngModel","maxFractionDigits","minFractionDigits"],["class","text-center m-0",4,"ngIf"],[1,"text-center","m-0"],[1,"surface-300"],["colspan","9"],["field","product_name","name","barcodeInput","placeholder","scan or search ...","spellcheck","false",1,"p-inputtext-sm",3,"ngModelChange","completeMethod","onKeyUp","ngModel","suggestions","delay"],["label","Clear","icon","pi pi-times","severity","danger","size","small","styleClass","mx-2",3,"onClick","disabled"],["label","Checkout","icon","pi pi-cart-plus","severity","success","size","small",3,"onClick","loading","disabled"],["class","col-12 md:col-3",4,"ngFor","ngForOf"],[1,"col-12","md:col-3"],[1,"success-hover","shadow-2","p-3","text-center","border-round",3,"click"],[1,"pi","pi-plus"],[1,"dark-hover","shadow-2","p-3","text-center","border-round",3,"click","ngClass"],["size","small","label","Cancel","icon","pi pi-times","severity","secondary","styleClass","w-full mt-2 md:w-auto md:ml-2",3,"onClick"],["size","small","label","Finish","icon","pi pi-check","severity","success","styleClass","w-full mt-2 md:w-auto md:ml-2",3,"onClick"]],template:function(n,t){if(n&1){let o=h();r(0,"div",7)(1,"div",8)(2,"p-toolbar",9),f(3,lt,3,6,"ng-template",10)(4,at,3,3,"ng-template",11),l(),r(5,"p-card"),f(6,pt,9,10,"ng-template",12),l(),r(7,"p-card",13,0)(9,"div",14)(10,"div",8)(11,"p-table",15,1),f(13,ct,17,0,"ng-template",16)(14,ft,20,13,"ng-template",12)(15,Ct,1,1,"ng-template",17)(16,xt,3,0,"ng-template",18),l(),r(17,"p-toolbar",19),f(18,vt,2,3,"ng-template",10)(19,St,2,3,"ng-template",11),l()()()()()(),r(20,"p-dialog",20),T("visibleChange",function(g){return c(o),w(t.variantDialogVisible,g)||(t.variantDialogVisible=g),m(g)}),y("onHide",function(){return c(o),m(t.resetVariantsDialog())}),f(21,wt,8,1,"ng-template",21)(22,Tt,2,0,"ng-template",22),l(),r(23,"products-dialog",23),y("onHide",function(){return c(o),m(t.dialog_products_visible=!1)})("onSubmit",function(g){return c(o),m(t.assignSelectedProducts(g))}),l(),r(24,"variants-dialog",24),y("OnClose",function(){return c(o),m(t.variantDialogClosed())})("OnSubmit",function(g){return c(o),m(t.variantSubmitted(g))}),l()}n&2&&(p(11),u("value",t.invoice()),p(9),K(F(14,Ze)),b("visible",t.variantDialogVisible),u("modal",!0)("breakpoints",F(15,et))("closeOnEscape",!1)("closable",!0),p(3),u("visible",t.dialog_products_visible)("products",t.products)("tableLoading",t.stockTableLoading()),p(),u("visible",t.variantsDialogVisible)("dialog_mode",t.variantsDialogMode)("selected_product",t.productExpanded))},dependencies:[G,J,X,L,ae,te,Me,pe,Ne,Ee,Ce,ve,Se,be,N,fe,ne,oe,re,_e,q,me,Z,qe],styles:["[_nghost-%COMP%]  .p-fieldset .p-fieldset-content{padding:.5rem}.editable[_ngcontent-%COMP%]{width:40px;height:28px}.priceEditable[_ngcontent-%COMP%]{width:60px;height:28px;text-align:center}[_nghost-%COMP%]  .p-inputnumber-input{width:100%}td[_ngcontent-%COMP%]:has(span.p-inputnumber.p-component){padding:0}td[_ngcontent-%COMP%]:has(.no-padding){padding:0}.input-align-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .editable[_ngcontent-%COMP%]     span.p-inputnumber.p-component .p-inputnumber-input{text-align:center}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}[_nghost-%COMP%]  .small-button{font-size:.5rem!important;padding:.2rem .4rem!important;width:2rem!important}[_nghost-%COMP%]  .small-input>span>input{padding:.3rem!important;width:2rem!important;text-align:center}[_nghost-%COMP%]  .invoice-body>div>div{padding:0!important}[_nghost-%COMP%]  .p-dataview-emptymessage{display:none}[_nghost-%COMP%]  .p-card-content{padding:0!important}.invalid[_ngcontent-%COMP%]{border-color:var(--red-500)!important}.category-cards[_ngcontent-%COMP%]{border-radius:6px;color:#343a40;text-align:center;padding:1rem;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.selected[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}"]})}}return i})();var Mt=[{path:"",component:Ue}],Re=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=D({type:i})}static{this.\u0275inj=H({imports:[j.forChild(Mt),j]})}}return i})();var ze=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=D({type:i});static \u0275inj=H({imports:[O,ye,Pe,Fe,ke]})}return i})();var Ri=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=D({type:i})}static{this.\u0275inj=H({imports:[O,Re,L,se,Ie,de,ce,De,Le,He,xe,we,N,he,Be,ze,le,ge,q,ue]})}}return i})();export{Ri as SupplyModule};
