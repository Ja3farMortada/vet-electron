import{a as ke}from"./chunk-ZHQXWMOJ.js";import{c as N}from"./chunk-72VNWM2U.js";import"./chunk-QCDHZ2RI.js";import{b as q}from"./chunk-6RCNJMZZ.js";import{a as R,b as Oe,c as Ne}from"./chunk-AGRBHBHI.js";import{a as Le}from"./chunk-CNH3CGWV.js";import{a as Pe,b as Fe,c as Be,d as L}from"./chunk-QCGHLK6S.js";import{a as Se}from"./chunk-ZOQNULCM.js";import"./chunk-Y7KVAEHZ.js";import{b as De}from"./chunk-6Q3VJBXM.js";import{a as be,b as we}from"./chunk-RUV3PDHP.js";import{a as Ve,b as Ee}from"./chunk-QQB3U3LQ.js";import{b as ce}from"./chunk-4DAZMRP4.js";import{a as He}from"./chunk-75V4G5UR.js";import{a as Te,b as Ie}from"./chunk-P4S3XV2Y.js";import{b as fe,c as ye,f as he,k as xe,l as Ce,q as ve}from"./chunk-GUBD7BBI.js";import{b as Me}from"./chunk-PR6BDFI2.js";import"./chunk-4UOS5OHZ.js";import{a as je}from"./chunk-LOGEYN6E.js";import"./chunk-FMSO7P7I.js";import{a as le,b as ae}from"./chunk-MIQXFEQ7.js";import{i as _e,j as ge}from"./chunk-KSZMNY5K.js";import{$a as k,Aa as l,Ab as Z,Ba as b,Bb as O,Fa as h,Ga as g,Ha as a,K as M,Kc as se,Lc as pe,N as S,Na as E,O as W,Oa as H,P as V,Pa as D,Ra as p,Sa as x,Sb as U,Ta as C,V as c,Va as w,W as m,Wa as T,Xa as I,Yb as ee,_a as F,ab as $,ba as z,cd as me,dd as de,ed as ue,fc as te,g as Ae,ga as K,ha as s,hb as v,i as j,ib as P,ic as ie,jb as B,pc as ne,ra as y,ta as u,tc as oe,vb as G,wa as Y,wb as J,xb as X,ya as Q,za as o,zc as re}from"./chunk-EJ4AR435.js";var We=Ae(je());var ze=["barcodeInput"],Ke=["invoiceTable"],Ye=["editQty"],$e=["editPrice"],Ge=["payment_input"],Je=()=>({width:"65vw"}),Xe=()=>({"1199px":"75vw","575px":"95vw"}),Ze=i=>({"ng-invalid ng-dirty":i}),et=()=>({standalone:!0}),qe=i=>({invalid:i}),tt=(i,d)=>({"text-red-500":i,"text-orange-500":d}),it=i=>({"text-red-500":i}),nt=i=>({selected:i});function ot(i,d){if(i&1&&(o(0,"h2",24),p(1),v(2,"currency"),l()),i&2){let e=a();s(),C(" USD: ",B(2,1,e.invoiceTotal.subtotal_dollar,"USD","symbol","1.3-3")," ")}}function rt(i,d){if(i&1&&(o(0,"h2",25),p(1),v(2,"dollar"),l()),i&2){let e=a();s(),C(" Total: ",P(2,1,e.invoiceTotal.subtotal_dollar)," ")}}function lt(i,d){if(i&1){let e=h();o(0,"div",27)(1,"label",32),p(2,"Payment"),l(),o(3,"p-inputNumber",33,2),I("ngModelChange",function(t){c(e);let r=a(2);return T(r.payment_amount,t)||(r.payment_amount=t),m(t)}),g("onFocus",function(t){c(e);let r=a(2);return m(r.select(t.target))}),l()()}if(i&2){let e=a(2);s(3),w("ngModel",e.payment_amount),u("ngModelOptions",F(5,et))("buttonLayout","horizontal")("step",1)("min",0)}}function at(i,d){if(i&1&&(o(0,"div",31)(1,"table",34)(2,"tr")(3,"th",35),p(4,"Old Balance:"),l(),o(5,"th")(6,"app-text-with-loading",36)(7,"span"),p(8),v(9,"currency"),l()()()(),o(10,"tr")(11,"th",35),p(12,"Current Invoice:"),l(),o(13,"th"),p(14),v(15,"currency"),l()(),o(16,"tr")(17,"th",35),p(18,"Payment:"),l(),o(19,"th"),p(20),v(21,"currency"),l()(),o(22,"tr")(23,"td",37),b(24,"p-divider",38),l()(),o(25,"tr")(26,"th",35),p(27,"New Balance:"),l(),o(28,"th")(29,"app-text-with-loading",39)(30,"span"),p(31),v(32,"currency"),l()()()()()()),i&2){let e=a(2);s(6),u("isLoading",e.supplier_balance_loading())("loadingBar",!0),s(2),x(P(9,8,e.supplier_balance.balance)),s(6),C(" ",P(15,10,e.invoiceTotal.subtotal_dollar)," "),s(6),C(" ",P(21,12,e.payment_amount())," "),s(9),u("isLoading",e.supplier_balance_loading())("loadingBar",!0),s(2),x(P(32,14,e.calculateNewBalance(e.invoiceTotal.subtotal_dollar,e.supplier_balance.balance,e.payment_amount())))}}function st(i,d){if(i&1){let e=h();o(0,"div",13)(1,"div",26)(2,"div",27)(3,"label",28),p(4,"Supplier"),o(5,"span",29),p(6," *"),l()(),o(7,"p-dropdown",30),I("ngModelChange",function(t){c(e);let r=a();return T(r.selected_supplier_id,t)||(r.selected_supplier_id=t),m(t)}),g("onShow",function(){c(e);let t=a();return m(t.dropDownVisible=!0)})("onHide",function(){c(e);let t=a();return m(t.dropDownVisible=!1)})("ngModelChange",function(){c(e);let t=a();return m(t.getSupplierBalance())}),l()()(),o(8,"div",26),y(9,lt,5,6,"div",27),l(),y(10,at,33,16,"div",31),l()}if(i&2){let e=a();s(7),u("loading",e.suppliersLoading()),w("ngModel",e.selected_supplier_id),u("options",e.suppliers)("filter",!0)("showClear",!0)("autoOptionFocus",!1)("ngClass",k(9,Ze,e.submited()&&!e.selected_supplier_id())),s(2),Q(e.selected_supplier_id()?9:-1),s(),Q(e.selected_supplier_id()?10:-1)}}function pt(i,d){i&1&&(o(0,"tr")(1,"th",40),p(2,"#"),l(),o(3,"th",41),p(4,"Barcode"),l(),o(5,"th",42),p(6,"Description"),l(),o(7,"th",43),p(8,"Expiry Date"),l(),o(9,"th",43),p(10,"Price"),l(),o(11,"th",40),p(12,"Qty"),l(),o(13,"th",43),p(14,"Total"),l(),o(15,"th",40),p(16,"Del?"),l()())}function ct(i,d){if(i&1){let e=h();o(0,"p-inputNumber",51,3),I("ngModelChange",function(t){c(e);let r=a().$implicit;return T(r.unit_price,t)||(r.unit_price=t),m(t)}),g("ngModelChange",function(){c(e);let t=a().$implicit,r=a();return m(r.setPrice(t))})("onFocus",function(t){c(e);let r=a(2);return m(r.select(t.target))}),l()}if(i&2){let e=a().$implicit;w("ngModel",e.unit_price),u("maxFractionDigits",3)("min",0)}}function mt(i,d){i&1&&b(0,"i",54)}function dt(i,d){if(i&1&&(o(0,"span",52),p(1),v(2,"currency"),o(3,"span"),y(4,mt,1,0,"i",53),l()()),i&2){let e=a().$implicit,n=a();u("ngClass",$(8,tt,!e.unit_price,n.getPriceWarining(e))),s(),x(B(2,3,e.unit_price,"USD","symbol","1.3-3")),s(3),u("ngIf",n.getPriceWarining(e))}}function ut(i,d){if(i&1){let e=h();o(0,"p-inputNumber",55,4),I("ngModelChange",function(t){c(e);let r=a().$implicit;return T(r.quantity,t)||(r.quantity=t),m(t)}),g("onFocus",function(t){c(e);let r=a(2);return m(r.select(t.target))})("ngModelChange",function(){c(e);let t=a().$implicit,r=a();return m(r.setQty(t))}),l()}if(i&2){let e=a().$implicit;w("ngModel",e.quantity),u("maxFractionDigits",2)("minFractionDigits",0)}}function _t(i,d){if(i&1&&(o(0,"span",52),p(1),l()),i&2){let e=a().$implicit;u("ngClass",k(2,it,!e.quantity)),s(),x(e.quantity)}}function gt(i,d){if(i&1&&(o(0,"td"),p(1),v(2,"currency"),l()),i&2){let e=a().$implicit;s(),C(" ",e.currency=="lira"?e.unit_price*e.quantity:B(2,1,e.unit_price*e.quantity,"USD","symbol","1.3-3")," ")}}function ft(i,d){if(i&1){let e=h();o(0,"tr")(1,"td"),p(2),l(),o(3,"td"),p(4),l(),o(5,"td"),p(6),l(),o(7,"td"),p(8),l(),o(9,"td",44)(10,"p-cellEditor"),y(11,ct,2,3,"ng-template",45)(12,dt,5,11,"ng-template",46),l()(),o(13,"td",47)(14,"p-cellEditor"),y(15,ut,2,3,"ng-template",45)(16,_t,2,4,"ng-template",46),l()(),y(17,gt,3,6,"td",48),o(18,"td",49),g("click",function(){let t=c(e).rowIndex,r=a();return m(r.removeRow(t))}),b(19,"i",50),l()()}if(i&2){let e=d.$implicit,n=d.rowIndex,t=a();s(2),x(n+1),s(2),x(e.barcode||"---"),s(2),x(e.product_name),s(2),x(e.expiry_date||"---"),s(),u("pEditableColumn",e.unit_price)("ngClass",k(9,qe,!e.unit_price)),s(4),u("pEditableColumn",e.quantity)("ngClass",k(11,qe,!e.quantity)),s(4),u("ngIf",t.view_currency=="dollar")}}function yt(i,d){if(i&1&&(o(0,"h4",57),p(1),l()),i&2){let e=a(2);s(),C(" Total units: ",e.invoiceTotal.total_qty," ")}}function ht(i,d){if(i&1&&y(0,yt,2,1,"h4",56),i&2){let e=a();u("ngIf",e.invoiceTotal.total_qty)}}function xt(i,d){i&1&&(o(0,"tr",58)(1,"td",59),p(2,"No data yet!"),l()())}function Ct(i,d){if(i&1){let e=h();o(0,"p-autoComplete",60,5),I("ngModelChange",function(t){c(e);let r=a();return T(r.search_product,t)||(r.search_product=t),m(t)}),g("completeMethod",function(t){c(e);let r=a();return m(r.searchItem(t))})("onKeyUp",function(t){c(e);let r=a();return m(r.submitInvoiceInput(t))}),l()}if(i&2){let e=a();w("ngModel",e.search_product),u("suggestions",e.searchedItems)("delay",150)}}function vt(i,d){if(i&1){let e=h();o(0,"p-button",61),g("onClick",function(){c(e);let t=a();return m(t.clearInvoice())}),l(),o(1,"p-button",62),g("onClick",function(){c(e);let t=a();return m(t.checkout())}),l()}if(i&2){let e=a();u("disabled",e.invoice().length==0),s(),u("loading",e.loading())("disabled",e.invoice().length==0)}}function St(i,d){if(i&1){let e=h();o(0,"div",64)(1,"div",67),g("click",function(){let t=c(e).$implicit,r=a(2);return m(r.selectedVariant=t)}),o(2,"p"),p(3),b(4,"br"),o(5,"small"),p(6),l()()()()}if(i&2){let e=d.$implicit,n=a(2);s(),u("ngClass",k(3,nt,n.selectedVariant==e)),s(2),C(" ",e.expiry_date," "),s(3),C("Current qty: ",e.variant_quantity,"")}}function bt(i,d){if(i&1){let e=h();o(0,"div",13),y(1,St,7,5,"div",63),o(2,"div",64)(3,"div",65),g("click",function(){c(e);let t=a();return m(t.openVariantsDialog("add",t.productToAdd))}),o(4,"p"),p(5,"Add Variant"),l(),o(6,"small"),b(7,"i",66),l()()()()}if(i&2){let e=a();s(),u("ngForOf",e.productToAdd==null?null:e.productToAdd.variants_records)}}function wt(i,d){if(i&1){let e=h();o(0,"p-button",68),g("onClick",function(){c(e);let t=a();return m(t.variantDialogVisible=!1)}),l(),o(1,"p-button",69),g("onClick",function(){c(e);let t=a();return m(t.submitVariant())}),l()}}var Qe=(()=>{class i{constructor(){this.suppliersService=S(Le),this.stockService=S(Se),this.supplyService=S(Ne),this.notificationsService=S(ie),this.confirmationService=S(ee),this.localStorageService=S(ke),this.dropDownVisible=!1,this.vh=this.localStorageService.getSupplyPageViewHeight(),this.invoiceTotal=new R,this.search_product=null,this.searchedItems=[],this.suppliers=[],this.view_currency="dollar",this.dialog_products_visible=!1,this.invoice=this.supplyService.invoice,this.submited=this.supplyService.signal_submited,this.products=this.stockService.products,this.loading=this.supplyService.signal_submit_loading,this.stockTableLoading=this.stockService.tableLoading,this.suppliersLoading=this.suppliersService.suppliersLoading,this.subscriptions=new j,this.priceTypes=Object.keys(Oe),this.today=(0,We.default)().format("YYYY-MM-DD"),this.variantDialogVisible=!1,this.productToAdd=null,this.selectedVariant=null,this.payment_amount=this.supplyService.payment_amount,this.selected_supplier_id=this.supplyService.selected_customer,this.supplier_balance_loading=this.suppliersService.signal_balanceLoading,this.supplier_balance={id:0,balance:"0"},this.variantsDialogVisible=!1}onKeyDown(e){if(this.dropDownVisible||this.dialog_products_visible)return;let n=this.editPrice||this.editQty||this.payment_input;(!n||!n.focused)&&this.focusBarcodeInput()}focusBarcodeInput(){this.barcodeInput.nativeElement.children[0].children[0].focus()}ngOnInit(){this.messages=[{severity:"info",detail:"No Invoice Yet!"}],this.subscriptions.add(this.suppliersService.suppliers$.subscribe(e=>{this.suppliers=e})),this.calculateTotal(),this.subscriptions.add(this.supplyService.reset$.subscribe(e=>{e&&(this.init(),this.supplyService.reset$.next(!1))})),this.subscriptions.add(this.supplyService.barcodeResponse.subscribe(e=>{e&&(this.addProduct(e),this.supplyService.barcodeResponse.next(null))})),this.subscriptions.add(this.suppliersService.supplierTotalDebts$.subscribe(e=>{e.id==this.selected_supplier_id()&&(this.supplier_balance=e)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setPrice(e){this.calculateTotal()}setQty(e){this.calculateTotal()}select(e){e.select()}init(){this.supplyService.selected_customer.set(null),this.supplyService.payment_amount.set(0),this.supplyService.invoice.set([]),this.submited.set(!1),this.calculateTotal()}clearInvoice(){this.confirmationService.confirm({key:"home",message:"Are you sure that you want to clear invoice?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.init()}})}searchItem(e){let n=this.products(),t=[],r=e.query;for(let f=0;f<n.length;f++){let _=n[f];_.product_name.toLowerCase().indexOf(r.toLowerCase())>-1&&t.push(_)}this.searchedItems=t}addProduct(e){this.productToAdd=e,e.has_variants?this.variantDialogVisible=!0:this.addProductToInvoice(e)}addProductToInvoice(e,n=null){let t=this.supplyService.factor(),r=structuredClone(this.invoice()),f=r.find(_=>_.product_id===e.product_id&&_.variant_id===n?.variant_id);f?f.quantity+=t:r.push({product_id:e.product_id,barcode:e.barcode,product_name:e.product_name,unit_cost:e.unit_cost_usd,unit_price:e.unit_cost_usd,quantity:t,variant_id:n?.variant_id,expiry_date:n?.expiry_date,stock_management:e.stock_management}),this.invoice.set(r),this.supplyService.factor.set(1),this.calculateTotal()}submitVariant(){this.addProductToInvoice(this.productToAdd,this.selectedVariant),this.variantDialogVisible=!1}resetVariantsDialog(){this.variantDialogVisible=!1,this.productToAdd=null,this.selectedVariant=null}submitInvoiceInput(e){e.key==="Enter"&&this.search_product&&(typeof this.search_product=="string"?this.submitBarcode(this.search_product):this.supplyService.barcodeResponse.next(this.search_product),this.search_product=null)}submitBarcode(e){if(e){let n=-1,t=["*","+"];for(let _=0;_<t.length;_++)if(e.indexOf(t[_])!==-1){n=e.indexOf(t[_]);break}let r=e.substring(0,n)||1,f=parseInt(e.substring(n+1,e.length));n!=-1&&n!=0?(this.supplyService.factor.set(parseInt(r)),this.supplyService.submitBarcode(f)):this.supplyService.submitBarcode(e)}}removeRow(e){this.invoice().splice(e,1),this.calculateTotal(),this.validateItems()}assignSelectedProducts(e){this.dialog_products_visible=!1,e.forEach(n=>{this.addProduct(n)})}calculateTotal(){let e=new R,n=this.invoice();return n.length>0&&(n.forEach(t=>{e.total_qty+=t.quantity,e.cost_dollar+=t.unit_cost*t.quantity,e.subtotal_dollar+=t.unit_price*t.quantity}),e.total_dollar=e.subtotal_dollar-e.discount_dollar),this.invoiceTotal=e,e}parseFloat(e){return parseFloat(e)}validateItems(){return!!this.invoice().find(n=>!n.unit_price||!n.quantity)}getPriceWarining(e){if(!e.unit_price)return!1;let n=e.unit_cost||0,t=e.unit_price;return typeof n=="string"&&(n=parseFloat(n)),typeof t=="string"&&(t=parseFloat(t)),t<n}checkout(){let e=this.validateItems();!e&&this.selected_supplier_id()?this.confirmationService.confirm({key:"home",message:'Are you sure that you want to submit invoice"?',header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-success",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.supplyService.checkout({partner_id_fk:this.selected_supplier_id(),exchange_rate:this.stockService.exchangeRate().rate_value,total_cost:this.invoiceTotal.subtotal_dollar,items:this.invoice()},this.payment_amount())}}):(this.submited.set(!0),e&&this.notificationsService.showError("Please enter price for all items","home"))}getSupplierBalance(){this.selected_supplier_id()?this.suppliersService.getAccountTotalBalance(this.selected_supplier_id()):this.supplier_balance={id:0,balance:"0"}}calculateNewBalance(e,n=0,t=0){return n=parseFloat(n),n+e-t}openVariantsDialog(e,n){this.productExpanded=n,this.variantsDialogMode=e,this.variantsDialogVisible=!0}variantDialogClosed(){this.variantsDialogVisible=!1,this.productExpanded=null}variantSubmitted(e){this.productToAdd=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=W({type:i,selectors:[["app-supply-home"]],viewQuery:function(n,t){if(n&1&&(E(ze,5,z),E(Ke,5),E(Ye,5),E($e,5),E(Ge,5)),n&2){let r;H(r=D())&&(t.barcodeInput=r.first),H(r=D())&&(t.invoiceTable=r.first),H(r=D())&&(t.editQty=r.first),H(r=D())&&(t.editPrice=r.first),H(r=D())&&(t.payment_input=r.first)}},hostBindings:function(n,t){n&1&&g("keydown",function(f){return t.onKeyDown(f)},!1,K)},decls:25,vars:16,consts:[["desktopTable",""],["invoiceTable",""],["payment_input",""],["editPrice",""],["editQty",""],["barcodeInput",""],[1,"grid","m-1"],[1,"col-12"],["styleClass","mb-3 p-2"],["pTemplate","left"],["pTemplate","right"],["pTemplate","body"],["styleClass","mt-2"],[1,"grid"],["dataKey","product_id","styleClass","p-datatable-sm ","editMode","cell",3,"value"],["pTemplate","header"],["pTemplate","summary"],["pTemplate","emptymessage"],["styleClass","mt-2 p-2"],["position","top","header","Choose Variant","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints","closeOnEscape","closable"],["pTemplate","content"],["pTemplate","footer"],["price","cost",3,"onHide","onSubmit","visible","products","tableLoading"],[3,"OnClose","OnSubmit","visible","dialog_mode","selected_product"],[1,"text-green-600","m-2"],[1,"text-primary","m-2"],[1,"col-2"],[1,"flex","flex-column","gap-2"],["for","supplier"],[1,"text-red-500"],["styleClass","p-inputtext-sm","id","supplier","appendTo","body","optionLabel","name","optionValue","account_id","placeholder","Select Supplier","filterBy","name",3,"ngModelChange","onShow","onHide","loading","ngModel","options","filter","showClear","autoOptionFocus","ngClass"],[1,"col-8","flex","justify-content-end"],["for","currency"],["inputId","currency-us","mode","currency","currency","USD","locale","en-US","styleClass","w-full",1,"p-inputtext-sm",3,"ngModelChange","onFocus","ngModel","ngModelOptions","buttonLayout","step","min"],[1,"text-right"],[1,"text-green-500"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","50%",3,"isLoading","loadingBar"],["colspan","2"],["styleClass","m-0"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","63%",3,"isLoading","loadingBar"],["width","5%"],["width","15%"],["width","40%"],["width","10%"],["pEditableColumnField","unit_price",3,"pEditableColumn","ngClass"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","quantity",3,"pEditableColumn","ngClass"],[4,"ngIf"],[1,"danger-hover",3,"click"],[1,"pi","pi-trash"],["styleClass","input-align-center","step","0",1,"p-inputtext-sm","priceEditable",3,"ngModelChange","onFocus","ngModel","maxFractionDigits","min"],[3,"ngClass"],["class","pi pi-exclamation-triangle ml-2",4,"ngIf"],[1,"pi","pi-exclamation-triangle","ml-2"],["min","0.1","step","0.1",1,"p-inputtext-sm","editable",3,"ngModelChange","onFocus","ngModel","maxFractionDigits","minFractionDigits"],["class","text-center m-0",4,"ngIf"],[1,"text-center","m-0"],[1,"surface-300"],["colspan","9"],["field","product_name","name","barcodeInput","placeholder","scan or search ...","spellcheck","false",1,"p-inputtext-sm",3,"ngModelChange","completeMethod","onKeyUp","ngModel","suggestions","delay"],["label","Clear","icon","pi pi-times","severity","danger","size","small","styleClass","mx-2",3,"onClick","disabled"],["label","Checkout","icon","pi pi-cart-plus","severity","success","size","small",3,"onClick","loading","disabled"],["class","col-12 md:col-3",4,"ngFor","ngForOf"],[1,"col-12","md:col-3"],[1,"success-hover","shadow-2","p-3","text-center","border-round",3,"click"],[1,"pi","pi-plus"],[1,"dark-hover","shadow-2","p-3","text-center","border-round",3,"click","ngClass"],["size","small","label","Cancel","icon","pi pi-times","severity","secondary","styleClass","w-full mt-2 md:w-auto md:ml-2",3,"onClick"],["size","small","label","Finish","icon","pi pi-check","severity","success","styleClass","w-full mt-2 md:w-auto md:ml-2",3,"onClick"]],template:function(n,t){if(n&1){let r=h();o(0,"div",6)(1,"div",7)(2,"p-toolbar",8),y(3,ot,3,6,"ng-template",9)(4,rt,3,3,"ng-template",10),l(),o(5,"p-card"),y(6,st,11,11,"ng-template",11),l(),o(7,"p-card",12,0)(9,"div",13)(10,"div",7)(11,"p-table",14,1),y(13,pt,17,0,"ng-template",15)(14,ft,20,13,"ng-template",11)(15,ht,1,1,"ng-template",16)(16,xt,3,0,"ng-template",17),l(),o(17,"p-toolbar",18),y(18,Ct,2,3,"ng-template",9)(19,vt,2,3,"ng-template",10),l()()()()()(),o(20,"p-dialog",19),I("visibleChange",function(_){return c(r),T(t.variantDialogVisible,_)||(t.variantDialogVisible=_),m(_)}),g("onHide",function(){return c(r),m(t.resetVariantsDialog())}),y(21,bt,8,1,"ng-template",20)(22,wt,2,0,"ng-template",21),l(),o(23,"products-dialog",22),g("onHide",function(){return c(r),m(t.dialog_products_visible=!1)})("onSubmit",function(_){return c(r),m(t.assignSelectedProducts(_))}),l(),o(24,"variants-dialog",23),g("OnClose",function(){return c(r),m(t.variantDialogClosed())})("OnSubmit",function(_){return c(r),m(t.variantSubmitted(_))}),l()}n&2&&(s(11),u("value",t.invoice()),s(9),Y(F(14,Je)),w("visible",t.variantDialogVisible),u("modal",!0)("breakpoints",F(15,Xe))("closeOnEscape",!1)("closable",!0),s(3),u("visible",t.dialog_products_visible)("products",t.products)("tableLoading",t.stockTableLoading()),s(),u("visible",t.variantsDialogVisible)("dialog_mode",t.variantsDialogMode)("selected_product",t.productExpanded))},dependencies:[G,J,X,L,le,te,be,se,Pe,Te,fe,he,xe,Ce,N,_e,ne,oe,me,q,Z,Be],styles:["[_nghost-%COMP%]  .p-fieldset .p-fieldset-content{padding:.5rem}.editable[_ngcontent-%COMP%]{width:40px;height:28px}.priceEditable[_ngcontent-%COMP%]{width:60px;height:28px;text-align:center}[_nghost-%COMP%]  .p-inputnumber-input{width:100%}td[_ngcontent-%COMP%]:has(span.p-inputnumber.p-component){padding:0}td[_ngcontent-%COMP%]:has(.no-padding){padding:0}.input-align-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .editable[_ngcontent-%COMP%]     span.p-inputnumber.p-component .p-inputnumber-input{text-align:center}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}[_nghost-%COMP%]  .small-button{font-size:.5rem!important;padding:.2rem .4rem!important;width:2rem!important}[_nghost-%COMP%]  .small-input>span>input{padding:.3rem!important;width:2rem!important;text-align:center}[_nghost-%COMP%]  .invoice-body>div>div{padding:0!important}[_nghost-%COMP%]  .p-dataview-emptymessage{display:none}[_nghost-%COMP%]  .p-card-content{padding:0!important}.invalid[_ngcontent-%COMP%]{border-color:var(--red-500)!important}.category-cards[_ngcontent-%COMP%]{border-radius:6px;color:#343a40;text-align:center;padding:1rem;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.selected[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}"]})}}return i})();var Tt=[{path:"",component:Qe}],Ue=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=V({type:i})}static{this.\u0275inj=M({imports:[U.forChild(Tt),U]})}}return i})();var Re=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=V({type:i});static \u0275inj=M({imports:[O,ue,Ee,He,Ve]})}return i})();var Qi=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=V({type:i})}static{this.\u0275inj=M({imports:[O,Ue,L,ae,we,ce,pe,Me,Fe,Ie,ye,ve,N,ge,De,Re,re,de,q]})}}return i})();export{Qi as SupplyModule};
