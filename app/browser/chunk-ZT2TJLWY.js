import{a as fi,b as pi}from"./chunk-KCAPO77J.js";import{a as gi,b as st}from"./chunk-6RCNJMZZ.js";import{a as yi,b as bi,c as Si,d as wi}from"./chunk-5FQKITII.js";import{a as ft}from"./chunk-D6USIEBE.js";import{a as hi}from"./chunk-PPSWS372.js";import{a as G}from"./chunk-ZOQNULCM.js";import{a as Zn}from"./chunk-Y7KVAEHZ.js";import{a as pt,b as dt}from"./chunk-EAGYWWQX.js";import{a as mi,b as _i}from"./chunk-GVO6VKIV.js";import{a as vi,b as ct}from"./chunk-VEMBXGE4.js";import{a as ii,b as ri}from"./chunk-4DAZMRP4.js";import{a as ge,b as si}from"./chunk-P4S3XV2Y.js";import{b as ve,c as lt,f as Z,g as oi,h as ai,i as ee,j as li,o as ui,p as ci,q as ut}from"./chunk-GUBD7BBI.js";import{b as di}from"./chunk-PR6BDFI2.js";import"./chunk-4UOS5OHZ.js";import"./chunk-LOGEYN6E.js";import"./chunk-FMSO7P7I.js";import{a as nt,b as it}from"./chunk-MIQXFEQ7.js";import{i as ot,j as at}from"./chunk-KSZMNY5K.js";import{$a as N,Aa as o,Ab as Ke,Ac as tt,Ba as g,Bb as Je,Fa as b,Ga as h,Ha as d,Jc as me,K as Ue,Kc as j,Lb as Kn,Lc as _e,Mc as J,N as S,Na as re,Nc as rt,O as T,Oa as oe,P as Xe,Pa as ae,Q as zn,Qa as fe,Ra as c,Sa as x,Sb as Rt,Ta as q,U as Un,V as m,Va as C,W as _,Wa as O,X as Xn,Xa as k,Yb as Ze,Za as $e,_ as se,_a as w,ab as Qn,ba as $n,cd as A,dd as he,e as v,fc as M,g as lo,ga as Wn,ha as s,hb as le,i as Hn,ib as We,ic as et,jb as Dt,jc as Jn,lc as pe,nc as I,pc as $,qc as W,ra as y,rc as ei,sb as Pt,sc as Ie,ta as p,tb as Yn,uc as Q,vb as Qe,vc as Y,wa as V,wc as K,xb as Ye,xc as ti,ya as It,yc as de,za as a,zc as ni}from"./chunk-EJ4AR435.js";var D=v(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});function yo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var bo=function t(e,n){yo(this,t),this.data=e,this.text=n.text||e,this.options=n};Mt.default=bo});var Ci=v(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.CODE39=void 0;var So=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),wo=D(),xo=Eo(wo);function Eo(t){return t&&t.__esModule?t:{default:t}}function Co(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ko(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var To=function(t){ko(e,t);function e(n,i){return Co(this,e),n=n.toUpperCase(),i.mod43&&(n+=Po(Ro(n))),Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return So(e,[{key:"encode",value:function(){for(var i=At("*"),r=0;r<this.data.length;r++)i+=At(this.data[r])+"0";return i+=At("*"),{data:i,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(xo.default),xi=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Io=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function At(t){return Do(Ei(t))}function Do(t){return Io[t].toString(2)}function Po(t){return xi[t]}function Ei(t){return xi.indexOf(t)}function Ro(t){for(var e=0,n=0;n<t.length;n++)e+=Ei(t[n]);return e=e%43,e}_t.CODE39=To});var ye=v(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var Ve;function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oi=E.SET_A=0,ki=E.SET_B=1,Ti=E.SET_C=2,Zf=E.SHIFT=98,Vo=E.START_A=103,Mo=E.START_B=104,Ao=E.START_C=105,ep=E.MODULO=103,tp=E.STOP=106,np=E.FNC1=207,ip=E.SET_BY_CODE=(Ve={},Bt(Ve,Vo,Oi),Bt(Ve,Mo,ki),Bt(Ve,Ao,Ti),Ve),rp=E.SWAP={101:Oi,100:ki,99:Ti},op=E.A_START_CHAR="\xD0",ap=E.B_START_CHAR="\xD1",lp=E.C_START_CHAR="\xD2",up=E.A_CHARS="[\0-_\xC8-\xCF]",cp=E.B_CHARS="[ -\x7F\xC8-\xCF]",sp=E.C_CHARS="(\xCF*[0-9]{2}\xCF*)",fp=E.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var Me=v(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});var Bo=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Fo=D(),Lo=No(Fo),R=ye();function No(t){return t&&t.__esModule?t:{default:t}}function qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Go(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ho=function(t){Go(e,t);function e(n,i){qo(this,e);var r=jo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),i));return r.bytes=n.split("").map(function(l){return l.charCodeAt(0)}),r}return Bo(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var i=this.bytes,r=i.shift()-105,l=R.SET_BY_CODE[r];if(l===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&i.unshift(R.FNC1);var u=e.next(i,1,l);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(r)+u.result+e.getBar((u.checksum+r)%R.MODULO)+e.getBar(R.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var i=this.options.ean128||!1;return typeof i=="string"&&(i=i.toLowerCase()==="true"),i}}],[{key:"getBar",value:function(i){return R.BARS[i]?R.BARS[i].toString():""}},{key:"correctIndex",value:function(i,r){if(r===R.SET_A){var l=i.shift();return l<32?l+64:l-32}else return r===R.SET_B?i.shift()-32:(i.shift()-48)*10+i.shift()-48}},{key:"next",value:function(i,r,l){if(!i.length)return{result:"",checksum:0};var u=void 0,f=void 0;if(i[0]>=200){f=i.shift()-105;var L=R.SWAP[f];L!==void 0?u=e.next(i,r+1,L):((l===R.SET_A||l===R.SET_B)&&f===R.SHIFT&&(i[0]=l===R.SET_A?i[0]>95?i[0]-96:i[0]:i[0]<32?i[0]+96:i[0]),u=e.next(i,r+1,l))}else f=e.correctIndex(i,l),u=e.next(i,r+1,l);var X=e.getBar(f),ao=f*r;return{result:X+u.result,checksum:ao+u.checksum}}}]),e}(Lo.default);Ft.default=Ho});var Vi=v(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var te=ye(),Ii=function(e){return e.match(new RegExp("^"+te.A_CHARS+"*"))[0].length},Di=function(e){return e.match(new RegExp("^"+te.B_CHARS+"*"))[0].length},Pi=function(e){return e.match(new RegExp("^"+te.C_CHARS+"*"))[0]};function Lt(t,e){var n=e?te.A_CHARS:te.B_CHARS,i=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(i)return i[1]+"\xCC"+Ri(t.substring(i[1].length));var r=t.match(new RegExp("^"+n+"+"))[0];return r.length===t.length?t:r+String.fromCharCode(e?205:206)+Lt(t.substring(r.length),!e)}function Ri(t){var e=Pi(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var i=Ii(t)>=Di(t);return e+String.fromCharCode(i?206:205)+Lt(t,i)}Nt.default=function(t){var e=void 0,n=Pi(t).length;if(n>=2)e=te.C_START_CHAR+Ri(t);else{var i=Ii(t)>Di(t);e=(i?te.A_START_CHAR:te.B_START_CHAR)+Lt(t,i)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,l){return"\xCB"+l})}});var Ai=v(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});var zo=Me(),Uo=Mi(zo),Xo=Vi(),$o=Mi(Xo);function Mi(t){return t&&t.__esModule?t:{default:t}}function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yo=function(t){Qo(e,t);function e(n,i){if(Wo(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var r=qt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,$o.default)(n),i));else var r=qt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return qt(r)}return e}(Uo.default);jt.default=Yo});var Fi=v(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Ko=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Jo=Me(),Zo=ea(Jo),Bi=ye();function ea(t){return t&&t.__esModule?t:{default:t}}function ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function na(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ia(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ra=function(t){ia(e,t);function e(n,i){return ta(this,e),na(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Bi.A_START_CHAR+n,i))}return Ko(e,[{key:"valid",value:function(){return new RegExp("^"+Bi.A_CHARS+"+$").test(this.data)}}]),e}(Zo.default);Gt.default=ra});var Ni=v(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var oa=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),aa=Me(),la=ua(aa),Li=ye();function ua(t){return t&&t.__esModule?t:{default:t}}function ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pa=function(t){fa(e,t);function e(n,i){return ca(this,e),sa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Li.B_START_CHAR+n,i))}return oa(e,[{key:"valid",value:function(){return new RegExp("^"+Li.B_CHARS+"+$").test(this.data)}}]),e}(la.default);Ht.default=pa});var ji=v(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var da=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ma=Me(),_a=ha(ma),qi=ye();function ha(t){return t&&t.__esModule?t:{default:t}}function va(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ga(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ya(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ba=function(t){ya(e,t);function e(n,i){return va(this,e),ga(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,qi.C_START_CHAR+n,i))}return da(e,[{key:"valid",value:function(){return new RegExp("^"+qi.C_CHARS+"+$").test(this.data)}}]),e}(_a.default);zt.default=ba});var Gi=v(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.CODE128C=z.CODE128B=z.CODE128A=z.CODE128=void 0;var Sa=Ai(),wa=ht(Sa),xa=Fi(),Ea=ht(xa),Ca=Ni(),Oa=ht(Ca),ka=ji(),Ta=ht(ka);function ht(t){return t&&t.__esModule?t:{default:t}}z.CODE128=wa.default;z.CODE128A=Ea.default;z.CODE128B=Oa.default;z.CODE128C=Ta.default});var be=v(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});var bp=ne.SIDE_BIN="101",Sp=ne.MIDDLE_BIN="01010",wp=ne.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},xp=ne.EAN2_STRUCTURE=["LL","LG","GL","GG"],Ep=ne.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Cp=ne.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var Se=v(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var Ia=be(),Da=function(e,n,i){var r=e.split("").map(function(u,f){return Ia.BINARIES[n[f]]}).map(function(u,f){return u?u[e[f]]:""});if(i){var l=e.length-1;r=r.map(function(u,f){return f<l?u+i:u})}return r.join("")};Ut.default=Da});var $t=v(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var Pa=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),we=be(),Ra=Se(),Hi=zi(Ra),Va=D(),Ma=zi(Va);function zi(t){return t&&t.__esModule?t:{default:t}}function Aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ba(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var La=function(t){Fa(e,t);function e(n,i){Aa(this,e);var r=Ba(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.fontSize=!i.flat&&i.fontSize>i.width*10?i.width*10:i.fontSize,r.guardHeight=i.height+r.fontSize/2+i.textMargin,r}return Pa(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(i,r){return this.text.substr(i,r)}},{key:"leftEncode",value:function(i,r){return(0,Hi.default)(i,r)}},{key:"rightText",value:function(i,r){return this.text.substr(i,r)}},{key:"rightEncode",value:function(i,r){return(0,Hi.default)(i,r)}},{key:"encodeGuarded",value:function(){var i={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:we.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:i},{data:we.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:i},{data:we.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){var i=[we.SIDE_BIN,this.leftEncode(),we.MIDDLE_BIN,this.rightEncode(),we.SIDE_BIN];return{data:i.join(""),text:this.text}}}]),e}(Ma.default);Xt.default=La});var Xi=v(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});var Na=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ae=function t(e,n,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(r===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,n,i)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(i)}},qa=be(),ja=$t(),Ga=Ha(ja);function Ha(t){return t&&t.__esModule?t:{default:t}}function za(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ua(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ui=function(e){var n=e.substr(0,12).split("").map(function(i){return+i}).reduce(function(i,r,l){return l%2?i+r*3:i+r},0);return(10-n%10)%10},$a=function(t){Xa(e,t);function e(n,i){za(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=Ui(n));var r=Ua(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.lastChar=i.lastChar,r}return Na(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Ui(this.data)}},{key:"leftText",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var i=this.data.substr(1,6),r=qa.EAN13_STRUCTURE[this.data[0]];return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,i,r)}},{key:"rightText",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var i=this.data.substr(7,6);return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,i,"RRRRRR")}},{key:"encodeGuarded",value:function(){var i=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(i.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(i.push({data:"00"}),i.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),i}}]),e}(Ga.default);Wt.default=$a});var Wi=v(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});var Wa=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),vt=function t(e,n,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(r===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,n,i)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(i)}},Qa=$t(),Ya=Ka(Qa);function Ka(t){return t&&t.__esModule?t:{default:t}}function Ja(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Za(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function el(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $i=function(e){var n=e.substr(0,7).split("").map(function(i){return+i}).reduce(function(i,r,l){return l%2?i+r:i+r*3},0);return(10-n%10)%10},tl=function(t){el(e,t);function e(n,i){return Ja(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=$i(n)),Za(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return Wa(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===$i(this.data)}},{key:"leftText",value:function(){return vt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var i=this.data.substr(0,4);return vt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,i,"LLLL")}},{key:"rightText",value:function(){return vt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var i=this.data.substr(4,4);return vt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,i,"RRRR")}}]),e}(Ya.default);Qt.default=tl});var Yi=v(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});var nl=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),il=be(),rl=Se(),ol=Qi(rl),al=D(),ll=Qi(al);function Qi(t){return t&&t.__esModule?t:{default:t}}function ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fl=function(e){var n=e.split("").map(function(i){return+i}).reduce(function(i,r,l){return l%2?i+r*9:i+r*3},0);return n%10},pl=function(t){sl(e,t);function e(n,i){return ul(this,e),cl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return nl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var i=il.EAN5_STRUCTURE[fl(this.data)];return{data:"1011"+(0,ol.default)(this.data,i,"01"),text:this.text}}}]),e}(ll.default);Yt.default=pl});var Ji=v(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});var dl=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ml=be(),_l=Se(),hl=Ki(_l),vl=D(),gl=Ki(vl);function Ki(t){return t&&t.__esModule?t:{default:t}}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wl=function(t){Sl(e,t);function e(n,i){return yl(this,e),bl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return dl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var i=ml.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,hl.default)(this.data,i,"01"),text:this.text}}}]),e}(gl.default);Kt.default=wl});var Zt=v(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});var xl=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();gt.checksum=Jt;var El=Se(),xe=Zi(El),Cl=D(),Ol=Zi(Cl);function Zi(t){return t&&t.__esModule?t:{default:t}}function kl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Il(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dl=function(t){Il(e,t);function e(n,i){kl(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Jt(n));var r=Tl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.displayValue=i.displayValue,i.fontSize>i.width*10?r.fontSize=i.width*10:r.fontSize=i.fontSize,r.guardHeight=i.height+r.fontSize/2+i.textMargin,r}return xl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Jt(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var i="";return i+="101",i+=(0,xe.default)(this.data.substr(0,6),"LLLLLL"),i+="01010",i+=(0,xe.default)(this.data.substr(6,6),"RRRRRR"),i+="101",{data:i,text:this.text}}},{key:"guardedEncoding",value:function(){var i=[];return this.displayValue&&i.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),i.push({data:"101"+(0,xe.default)(this.data[0],"L"),options:{height:this.guardHeight}}),i.push({data:(0,xe.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),i.push({data:"01010",options:{height:this.guardHeight}}),i.push({data:(0,xe.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),i.push({data:(0,xe.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&i.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),i}}]),e}(Ol.default);function Jt(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}gt.default=Dl});var nr=v(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var Pl=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Rl=Se(),Vl=tr(Rl),Ml=D(),Al=tr(Ml),Bl=Zt();function tr(t){return t&&t.__esModule?t:{default:t}}function Fl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ll(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nl=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],ql=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],jl=function(t){Ll(e,t);function e(n,i){Fl(this,e);var r=en(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));if(r.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)r.middleDigits=n,r.upcA=er(n,"0"),r.text=i.text||""+r.upcA[0]+n+r.upcA[r.upcA.length-1],r.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(r.middleDigits=n.substring(1,n.length-1),r.upcA=er(r.middleDigits,n[0]),r.upcA[r.upcA.length-1]===n[n.length-1])r.isValid=!0;else return en(r);else return en(r);return r.displayValue=i.displayValue,i.fontSize>i.width*10?r.fontSize=i.width*10:r.fontSize=i.fontSize,r.guardHeight=i.height+r.fontSize/2+i.textMargin,r}return Pl(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var i="";return i+="101",i+=this.encodeMiddleDigits(),i+="010101",{data:i,text:this.text}}},{key:"guardedEncoding",value:function(){var i=[];return this.displayValue&&i.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),i.push({data:"101",options:{height:this.guardHeight}}),i.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),i.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&i.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),i}},{key:"encodeMiddleDigits",value:function(){var i=this.upcA[0],r=this.upcA[this.upcA.length-1],l=ql[parseInt(r)][parseInt(i)];return(0,Vl.default)(this.middleDigits,l)}}]),e}(Al.default);function er(t,e){for(var n=parseInt(t[t.length-1]),i=Nl[n],r="",l=0,u=0;u<i.length;u++){var f=i[u];f==="X"?r+=t[l++]:r+=f}return r=""+e+r,""+r+(0,Bl.checksum)(r)}tn.default=jl});var ir=v(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.UPCE=P.UPC=P.EAN2=P.EAN5=P.EAN8=P.EAN13=void 0;var Gl=Xi(),Hl=Ee(Gl),zl=Wi(),Ul=Ee(zl),Xl=Yi(),$l=Ee(Xl),Wl=Ji(),Ql=Ee(Wl),Yl=Zt(),Kl=Ee(Yl),Jl=nr(),Zl=Ee(Jl);function Ee(t){return t&&t.__esModule?t:{default:t}}P.EAN13=Hl.default;P.EAN8=Ul.default;P.EAN5=$l.default;P.EAN2=Ql.default;P.UPC=Kl.default;P.UPCE=Zl.default});var rr=v(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});var Bp=Be.START_BIN="1010",Fp=Be.END_BIN="11101",Lp=Be.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var rn=v(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var eu=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),yt=rr(),tu=D(),nu=iu(tu);function iu(t){return t&&t.__esModule?t:{default:t}}function ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ou(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function au(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lu=function(t){au(e,t);function e(){return ru(this,e),ou(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return eu(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var i=this,r=this.data.match(/.{2}/g).map(function(l){return i.encodePair(l)}).join("");return{data:yt.START_BIN+r+yt.END_BIN,text:this.text}}},{key:"encodePair",value:function(i){var r=yt.BINARIES[i[1]];return yt.BINARIES[i[0]].split("").map(function(l,u){return(l==="1"?"111":"1")+(r[u]==="1"?"000":"0")}).join("")}}]),e}(nu.default);nn.default=lu});var ar=v(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var uu=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),cu=rn(),su=fu(cu);function fu(t){return t&&t.__esModule?t:{default:t}}function pu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function du(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var or=function(e){var n=e.substr(0,13).split("").map(function(i){return parseInt(i,10)}).reduce(function(i,r,l){return i+r*(3-l%2*2)},0);return Math.ceil(n/10)*10-n},_u=function(t){mu(e,t);function e(n,i){return pu(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=or(n)),du(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return uu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===or(this.data)}}]),e}(su.default);on.default=_u});var ur=v(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.ITF14=Ce.ITF=void 0;var hu=rn(),vu=lr(hu),gu=ar(),yu=lr(gu);function lr(t){return t&&t.__esModule?t:{default:t}}Ce.ITF=vu.default;Ce.ITF14=yu.default});var Oe=v(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var bu=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Su=D(),wu=xu(Su);function xu(t){return t&&t.__esModule?t:{default:t}}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ou(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ku=function(t){Ou(e,t);function e(n,i){return Eu(this,e),Cu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return bu(e,[{key:"encode",value:function(){for(var i="110",r=0;r<this.data.length;r++){var l=parseInt(this.data[r]),u=l.toString(2);u=Tu(u,4-u.length);for(var f=0;f<u.length;f++)i+=u[f]=="0"?"100":"110"}return i+="1001",{data:i,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(wu.default);function Tu(t,e){for(var n=0;n<e;n++)t="0"+t;return t}an.default=ku});var Fe=v(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.mod10=Iu;bt.mod11=Du;function Iu(t){for(var e=0,n=0;n<t.length;n++){var i=parseInt(t[n]);(n+t.length)%2===0?e+=i:e+=i*2%10+Math.floor(i*2/10)}return(10-e%10)%10}function Du(t){for(var e=0,n=[2,3,4,5,6,7],i=0;i<t.length;i++){var r=parseInt(t[t.length-1-i]);e+=n[i%n.length]*r}return(11-e%11)%11}});var cr=v(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var Pu=Oe(),Ru=Mu(Pu),Vu=Fe();function Mu(t){return t&&t.__esModule?t:{default:t}}function Au(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lu=function(t){Fu(e,t);function e(n,i){return Au(this,e),Bu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Vu.mod10)(n),i))}return e}(Ru.default);ln.default=Lu});var sr=v(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var Nu=Oe(),qu=Gu(Nu),ju=Fe();function Gu(t){return t&&t.__esModule?t:{default:t}}function Hu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xu=function(t){Uu(e,t);function e(n,i){return Hu(this,e),zu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,ju.mod11)(n),i))}return e}(qu.default);un.default=Xu});var pr=v(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});var $u=Oe(),Wu=Qu($u),fr=Fe();function Qu(t){return t&&t.__esModule?t:{default:t}}function Yu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ku(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ju(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zu=function(t){Ju(e,t);function e(n,i){return Yu(this,e),n+=(0,fr.mod10)(n),n+=(0,fr.mod10)(n),Ku(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return e}(Wu.default);cn.default=Zu});var mr=v(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});var ec=Oe(),tc=nc(ec),dr=Fe();function nc(t){return t&&t.__esModule?t:{default:t}}function ic(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ac=function(t){oc(e,t);function e(n,i){return ic(this,e),n+=(0,dr.mod11)(n),n+=(0,dr.mod10)(n),rc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return e}(tc.default);sn.default=ac});var _r=v(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.MSI1110=B.MSI1010=B.MSI11=B.MSI10=B.MSI=void 0;var lc=Oe(),uc=Le(lc),cc=cr(),sc=Le(cc),fc=sr(),pc=Le(fc),dc=pr(),mc=Le(dc),_c=mr(),hc=Le(_c);function Le(t){return t&&t.__esModule?t:{default:t}}B.MSI=uc.default;B.MSI10=sc.default;B.MSI11=pc.default;B.MSI1010=mc.default;B.MSI1110=hc.default});var hr=v(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.pharmacode=void 0;var vc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),gc=D(),yc=bc(gc);function bc(t){return t&&t.__esModule?t:{default:t}}function Sc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ec=function(t){xc(e,t);function e(n,i){Sc(this,e);var r=wc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.number=parseInt(n,10),r}return vc(e,[{key:"encode",value:function(){for(var i=this.number,r="";!isNaN(i)&&i!=0;)i%2===0?(r="11100"+r,i=(i-2)/2):(r="100"+r,i=(i-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(yc.default);St.pharmacode=Ec});var vr=v(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.codabar=void 0;var Cc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Oc=D(),kc=Tc(Oc);function Tc(t){return t&&t.__esModule?t:{default:t}}function Ic(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rc=function(t){Pc(e,t);function e(n,i){Ic(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var r=Dc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),i));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return Cc(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var i=[],r=this.getEncodings(),l=0;l<this.data.length;l++)i.push(r[this.data.charAt(l)]),l!==this.data.length-1&&i.push("0");return{text:this.text,data:i.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(kc.default);wt.codabar=Rc});var gr=v(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});var Jp=Ne.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xFF"],Zp=Ne.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],ed=Ne.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7F":["(%)","T"]}});var pn=v(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var Vc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),xt=gr(),Mc=D(),Ac=Bc(Mc);function Bc(t){return t&&t.__esModule?t:{default:t}}function Fc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qc=function(t){Nc(e,t);function e(n,i){return Fc(this,e),Lc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return Vc(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var i=this.data.split("").flatMap(function(f){return xt.MULTI_SYMBOLS[f]||f}),r=i.map(function(f){return e.getEncoding(f)}).join(""),l=e.checksum(i,20),u=e.checksum(i.concat(l),15);return{text:this.text,data:e.getEncoding("\xFF")+r+e.getEncoding(l)+e.getEncoding(u)+e.getEncoding("\xFF")+"1"}}}],[{key:"getEncoding",value:function(i){return xt.BINARIES[e.symbolValue(i)]}},{key:"getSymbol",value:function(i){return xt.SYMBOLS[i]}},{key:"symbolValue",value:function(i){return xt.SYMBOLS.indexOf(i)}},{key:"checksum",value:function(i,r){var l=i.slice().reverse().reduce(function(u,f,L){var X=L%r+1;return u+e.symbolValue(f)*X},0);return e.getSymbol(l%47)}}]),e}(Ac.default);fn.default=qc});var yr=v(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var jc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Gc=pn(),Hc=zc(Gc);function zc(t){return t&&t.__esModule?t:{default:t}}function Uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wc=function(t){$c(e,t);function e(n,i){return Uc(this,e),Xc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return jc(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Hc.default);dn.default=Wc});var Sr=v(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.CODE93FullASCII=ke.CODE93=void 0;var Qc=pn(),Yc=br(Qc),Kc=yr(),Jc=br(Kc);function br(t){return t&&t.__esModule?t:{default:t}}ke.CODE93=Yc.default;ke.CODE93FullASCII=Jc.default});var wr=v(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.GenericBarcode=void 0;var Zc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),es=D(),ts=ns(es);function ns(t){return t&&t.__esModule?t:{default:t}}function is(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rs(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function os(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var as=function(t){os(e,t);function e(n,i){return is(this,e),rs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return Zc(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(ts.default);Et.GenericBarcode=as});var Cr=v(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var ls=Ci(),Ct=Gi(),Te=ir(),xr=ur(),qe=_r(),us=hr(),cs=vr(),Er=Sr(),ss=wr();mn.default={CODE39:ls.CODE39,CODE128:Ct.CODE128,CODE128A:Ct.CODE128A,CODE128B:Ct.CODE128B,CODE128C:Ct.CODE128C,EAN13:Te.EAN13,EAN8:Te.EAN8,EAN5:Te.EAN5,EAN2:Te.EAN2,UPC:Te.UPC,UPCE:Te.UPCE,ITF14:xr.ITF14,ITF:xr.ITF,MSI:qe.MSI,MSI10:qe.MSI10,MSI11:qe.MSI11,MSI1010:qe.MSI1010,MSI1110:qe.MSI1110,pharmacode:us.pharmacode,codabar:cs.codabar,CODE93:Er.CODE93,CODE93FullASCII:Er.CODE93FullASCII,GenericBarcode:ss.GenericBarcode}});var je=v(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});var fs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};_n.default=function(t,e){return fs({},t,e)}});var Or=v(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.default=ps;function ps(t){var e=[];function n(i){if(Array.isArray(i))for(var r=0;r<i.length;r++)n(i[r]);else i.text=i.text||"",i.data=i.data||"",e.push(i)}return n(t),e}});var kr=v(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.default=ds;function ds(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var yn=v(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.default=ms;function ms(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var Sn=v(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var _s={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};bn.default=_s});var Dr=v(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var hs=yn(),vs=Ir(hs),gs=Sn(),Tr=Ir(gs);function Ir(t){return t&&t.__esModule?t:{default:t}}function ys(t){var e={};for(var n in Tr.default)Tr.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,vs.default)(e),e}wn.default=ys});var xn=v(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.getTotalWidthOfEncodings=F.calculateEncodingAttributes=F.getBarcodePadding=F.getEncodingHeight=F.getMaximumHeightOfEncodings=void 0;var bs=je(),Ss=ws(bs);function ws(t){return t&&t.__esModule?t:{default:t}}function Pr(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Rr(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function xs(t,e,n){for(var i=0;i<t.length;i++){var r=t[i],l=(0,Ss.default)(e,r.options),u;l.displayValue?u=Os(r.text,l,n):u=0;var f=r.data.length*l.width;r.width=Math.ceil(Math.max(u,f)),r.height=Pr(r,l),r.barcodePadding=Rr(u,f,l)}}function Es(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function Cs(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function Os(t,e,n){var i;if(n)i=n;else if(typeof document<"u")i=document.createElement("canvas").getContext("2d");else return 0;i.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var r=i.measureText(t);if(!r)return 0;var l=r.width;return l}F.getMaximumHeightOfEncodings=Cs;F.getEncodingHeight=Pr;F.getBarcodePadding=Rr;F.calculateEncodingAttributes=xs;F.getTotalWidthOfEncodings=Es});var Vr=v(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var ks=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ts=je(),Is=Ds(Ts),En=xn();function Ds(t){return t&&t.__esModule?t:{default:t}}function Ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Rs=function(){function t(e,n,i){Ps(this,t),this.canvas=e,this.encodings=n,this.options=i}return ks(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var i=(0,Is.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(i,this.encodings[n]),this.drawCanvasText(i,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,En.calculateEncodingAttributes)(this.encodings,this.options,n);var i=(0,En.getTotalWidthOfEncodings)(this.encodings),r=(0,En.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=i+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,i){var r=this.canvas.getContext("2d"),l=i.data,u;n.textPosition=="top"?u=n.marginTop+n.fontSize+n.textMargin:u=n.marginTop,r.fillStyle=n.lineColor;for(var f=0;f<l.length;f++){var L=f*n.width+i.barcodePadding;l[f]==="1"?r.fillRect(L,u,n.width,n.height):l[f]&&r.fillRect(L,u,n.width,n.height*l[f])}}},{key:"drawCanvasText",value:function(n,i){var r=this.canvas.getContext("2d"),l=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var u,f;n.textPosition=="top"?f=n.marginTop+n.fontSize-n.textMargin:f=n.height+n.textMargin+n.marginTop+n.fontSize,r.font=l,n.textAlign=="left"||i.barcodePadding>0?(u=0,r.textAlign="left"):n.textAlign=="right"?(u=i.width-1,r.textAlign="right"):(u=i.width/2,r.textAlign="center"),r.fillText(i.text,u,f)}}},{key:"moveCanvasDrawing",value:function(n){var i=this.canvas.getContext("2d");i.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();Cn.default=Rs});var Mr=v(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});var Vs=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ms=je(),As=Bs(Ms),On=xn();function Bs(t){return t&&t.__esModule?t:{default:t}}function Fs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ot="http://www.w3.org/2000/svg",Ls=function(){function t(e,n,i){Fs(this,t),this.svg=e,this.encodings=n,this.options=i,this.document=i.xmlDocument||document}return Vs(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var i=0;i<this.encodings.length;i++){var r=this.encodings[i],l=(0,As.default)(this.options,r.options),u=this.createGroup(n,l.marginTop,this.svg);this.setGroupOptions(u,l),this.drawSvgBarcode(u,l,r),this.drawSVGText(u,l,r),n+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,On.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,On.getTotalWidthOfEncodings)(this.encodings),i=(0,On.getMaximumHeightOfEncodings)(this.encodings),r=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,i),this.options.background&&this.drawRect(0,0,r,i,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,i,r){var l=r.data,u;i.textPosition=="top"?u=i.fontSize+i.textMargin:u=0;for(var f=0,L=0,X=0;X<l.length;X++)L=X*i.width+r.barcodePadding,l[X]==="1"?f++:f>0&&(this.drawRect(L-i.width*f,u,i.width*f,i.height,n),f=0);f>0&&this.drawRect(L-i.width*(f-1),u,i.width*f,i.height,n)}},{key:"drawSVGText",value:function(n,i,r){var l=this.document.createElementNS(Ot,"text");if(i.displayValue){var u,f;l.setAttribute("style","font:"+i.fontOptions+" "+i.fontSize+"px "+i.font),i.textPosition=="top"?f=i.fontSize-i.textMargin:f=i.height+i.textMargin+i.fontSize,i.textAlign=="left"||r.barcodePadding>0?(u=0,l.setAttribute("text-anchor","start")):i.textAlign=="right"?(u=r.width-1,l.setAttribute("text-anchor","end")):(u=r.width/2,l.setAttribute("text-anchor","middle")),l.setAttribute("x",u),l.setAttribute("y",f),l.appendChild(this.document.createTextNode(r.text)),n.appendChild(l)}}},{key:"setSvgAttributes",value:function(n,i){var r=this.svg;r.setAttribute("width",n+"px"),r.setAttribute("height",i+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+n+" "+i),r.setAttribute("xmlns",Ot),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,i,r){var l=this.document.createElementNS(Ot,"g");return l.setAttribute("transform","translate("+n+", "+i+")"),r.appendChild(l),l}},{key:"setGroupOptions",value:function(n,i){n.setAttribute("style","fill:"+i.lineColor+";")}},{key:"drawRect",value:function(n,i,r,l,u){var f=this.document.createElementNS(Ot,"rect");return f.setAttribute("x",n),f.setAttribute("y",i),f.setAttribute("width",r),f.setAttribute("height",l),u.appendChild(f),f}}]),t}();kn.default=Ls});var Ar=v(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var Ns=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function qs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var js=function(){function t(e,n,i){qs(this,t),this.object=e,this.encodings=n,this.options=i}return Ns(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Tn.default=js});var Br=v(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var Gs=Vr(),Hs=In(Gs),zs=Mr(),Us=In(zs),Xs=Ar(),$s=In(Xs);function In(t){return t&&t.__esModule?t:{default:t}}Dn.default={CanvasRenderer:Hs.default,SVGRenderer:Us.default,ObjectRenderer:$s.default}});var Mn=v(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ws=function(t){Vn(e,t);function e(n,i){Pn(this,e);var r=Rn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidInputException",r.symbology=n,r.input=i,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return e}(Error),Qs=function(t){Vn(e,t);function e(){Pn(this,e);var n=Rn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),Ys=function(t){Vn(e,t);function e(){Pn(this,e);var n=Rn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);Ge.InvalidInputException=Ws;Ge.InvalidElementException=Qs;Ge.NoElementException=Ys});var Lr=v(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js=Dr(),An=Fr(Js),Zs=Br(),He=Fr(Zs),e0=Mn();function Fr(t){return t&&t.__esModule?t:{default:t}}function Bn(t){if(typeof t=="string")return t0(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(Bn(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return n0(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,An.default)(t),renderer:He.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,An.default)(t),renderer:He.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:He.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Ks(t))==="object"&&!t.nodeName)return{element:t,renderer:He.default.ObjectRenderer};throw new e0.InvalidElementException}}function t0(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],i=0;i<e.length;i++)n.push(Bn(e[i]));return n}}function n0(t){var e=document.createElement("canvas");return{element:e,options:(0,An.default)(t),renderer:He.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Fn.default=Bn});var Nr=v(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});var i0=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o0=function(){function t(e){r0(this,t),this.api=e}return i0(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var i=n.apply(void 0,arguments);return this.api._options.valid(!0),i}catch(r){return this.handleCatch(r),this.api}}}]),t}();Ln.default=o0});var $r=v((Sd,Xr)=>{"use strict";var a0=Cr(),ue=ie(a0),l0=je(),ze=ie(l0),u0=Or(),jr=ie(u0),c0=kr(),qr=ie(c0),s0=Lr(),f0=ie(s0),p0=yn(),d0=ie(p0),m0=Nr(),_0=ie(m0),Gr=Mn(),h0=Sn(),Hr=ie(h0);function ie(t){return t&&t.__esModule?t:{default:t}}var U=function(){},kt=function(e,n,i){var r=new U;if(typeof e>"u")throw Error("No element to render on was provided.");return r._renderProperties=(0,f0.default)(e),r._encodings=[],r._options=Hr.default,r._errorHandler=new _0.default(r),typeof n<"u"&&(i=i||{},i.format||(i.format=Ur()),r.options(i)[i.format](n,i).render()),r};kt.getModule=function(t){return ue.default[t]};for(Nn in ue.default)ue.default.hasOwnProperty(Nn)&&v0(ue.default,Nn);var Nn;function v0(t,e){U.prototype[e]=U.prototype[e.toUpperCase()]=U.prototype[e.toLowerCase()]=function(n,i){var r=this;return r._errorHandler.wrapBarcodeCall(function(){i.text=typeof i.text>"u"?void 0:""+i.text;var l=(0,ze.default)(r._options,i);l=(0,d0.default)(l);var u=t[e],f=zr(n,u,l);return r._encodings.push(f),r})}}function zr(t,e,n){t=""+t;var i=new e(t,n);if(!i.valid())throw new Gr.InvalidInputException(i.constructor.name,t);var r=i.encode();r=(0,jr.default)(r);for(var l=0;l<r.length;l++)r[l].options=(0,ze.default)(n,r[l].options);return r}function Ur(){return ue.default.CODE128?"CODE128":Object.keys(ue.default)[0]}U.prototype.options=function(t){return this._options=(0,ze.default)(this._options,t),this};U.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};U.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,ze.default)(this._options,t.options);n.format=="auto"&&(n.format=Ur()),this._errorHandler.wrapBarcodeCall(function(){var i=n.value,r=ue.default[n.format.toUpperCase()],l=zr(i,r,n);qn(t,l,n)})}}};U.prototype.render=function(){if(!this._renderProperties)throw new Gr.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)qn(this._renderProperties[t],this._encodings,this._options);else qn(this._renderProperties,this._encodings,this._options);return this};U.prototype._defaults=Hr.default;function qn(t,e,n){e=(0,jr.default)(e);for(var i=0;i<e.length;i++)e[i].options=(0,ze.default)(n,e[i].options),(0,qr.default)(e[i].options);(0,qr.default)(n);var r=t.renderer,l=new r(t.element,e,n);l.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=kt);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),kt(n,t,e)});Xr.exports=kt});var uo=()=>({width:"80vw"}),co=()=>({"1199px":"90vw","575px":"95vw"}),so=()=>[10,15,50,100],fo=()=>["product_name","barcode"];function po(t,e){t&1&&(a(0,"tr")(1,"th"),c(2,"Transaction #"),o(),a(3,"th"),c(4,"Datetime"),o(),a(5,"th"),c(6,"Type"),o(),a(7,"th"),c(8,"Quantity"),o(),a(9,"th"),c(10,"Balance"),o(),a(11,"th"),c(12,"Expiry Date"),o()())}function mo(t,e){if(t&1&&(a(0,"tr",8)(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),g(6,"p-tag",9),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),o()()),t&2){let n=e.$implicit,i=d(2);p("pSelectableRow",n),s(2),x(n.transaction_notes||"---"),s(2),x(n.transaction_datetime),s(2),p("value",n.transaction_type)("severity",i.getSeverity(n.transaction_type)),s(2),x(n.quantity),s(2),x(n.balance),s(2),x(n.expiry_date||"---")}}function _o(t,e){t&1&&(a(0,"tr")(1,"td",10),c(2,"No items yet!"),o()())}function ho(t,e){if(t&1&&(a(0,"p-table",4,0),y(2,po,13,0,"ng-template",5)(3,mo,13,8,"ng-template",6)(4,_o,3,0,"ng-template",7),o()),t&2){let n=d();p("value",n.stockHistory())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(8,so))("alwaysShowPaginator",!0)("globalFilterFields",w(9,fo))("filterDelay",0)}}function vo(t,e){if(t&1){let n=b();a(0,"p-button",11),h("onClick",function(){m(n);let r=d();return _(r.closeDialog())}),o()}}var mt=(()=>{class t{constructor(){this.visible=!1,this.onClose=new se,this.stockService=S(G),this.stockHistory=this.stockService.stockHistory}closeDialog(){this.visible=!1,this.onClose.emit()}fetchProductHistory(){this.stockService.fetchStockHistory(this.product_id)}getSeverity(n){switch(n){case"SALE":return"danger";case"SUPPLY":return"success";case"RETURN":return"success";case"DELETE":return"success";case"DISPOSE":return"danger";case"ADD":return"success";case"REMOVE":return"danger";default:return"contrast"}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["stock-transactions"]],inputs:{product_id:"product_id",visible:"visible"},outputs:{onClose:"onClose"},standalone:!0,features:[$e],decls:3,vars:10,consts:[["dt2",""],["position","top","header","Transaction History","styleClass","p-fluid",3,"visibleChange","onHide","onShow","modal","visible","breakpoints","closeOnEscape","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],["styleClass","p-datatable-sm","dataKey","transaction_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSelectableRow"],[3,"value","severity"],["colspan","7"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"]],template:function(i,r){i&1&&(a(0,"p-dialog",1),k("visibleChange",function(u){return O(r.visible,u)||(r.visible=u),u}),h("onHide",function(){return r.closeDialog()})("onShow",function(){return r.fetchProductHistory()}),y(1,ho,5,10,"ng-template",2)(2,vo,1,0,"ng-template",3),o()),i&2&&(V(w(8,uo)),p("modal",!0),C("visible",r.visible),p("breakpoints",w(9,co))("closeOnEscape",!1)("closable",!0)("maximizable",!0))},dependencies:[he,A,M,_e,j,ut,Z,ee,_i,mi]})}}return t})();var Kr=lo($r());var Wr=(()=>{class t{constructor(){this.el=S($n),this.onFocus=n=>{n.target.select()}}ngAfterViewInit(){let n=this.el.nativeElement;n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement?this.inputEl=n:this.inputEl=n.querySelector("input, textarea"),this.inputEl&&this.inputEl.addEventListener("focus",this.onFocus)}ngOnDestroy(){this.inputEl&&this.inputEl.removeEventListener("focus",this.onFocus)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=zn({type:t,selectors:[["","autoSelect",""]],standalone:!0})}}return t})();var b0=["barcodePreview"],S0=()=>({width:"55vw"}),w0=()=>({"1199px":"85vw","575px":"90vw"});function x0(t,e){if(t&1&&(a(0,"h3",27),c(1),o()),t&2){let n=d(2);s(),q(" ",n.f.shortName.value," ")}}function E0(t,e){if(t&1&&(a(0,"h3",28),c(1),le(2,"currency"),o()),t&2){let n=d(2);s(),q(" ",We(2,1,n.f.price.value)," ")}}function C0(t,e){if(t&1){let n=b();a(0,"form",4),h("ngSubmit",function(){m(n);let r=d();return _(r.submitPrint())}),a(1,"div",5)(2,"div",6)(3,"label",7),c(4,"Barcode"),o(),g(5,"input",8),o(),a(6,"div",6)(7,"label",9),c(8,"Short Name"),o(),g(9,"input",10),o(),a(10,"div",6)(11,"label",11),c(12,"Price"),o(),g(13,"p-inputNumber",12),o()(),a(14,"div",5)(15,"div",6)(16,"div",13),g(17,"p-inputSwitch",14),a(18,"label",15),c(19,"Display Barcode Value"),o()()(),a(20,"div",6)(21,"div",16),g(22,"p-inputSwitch",17),a(23,"label",18),c(24,"Show Name"),o()()(),a(25,"div",6)(26,"div",19),g(27,"p-inputSwitch",20),a(28,"label",21),c(29,"Show Price"),o()()()()(),a(30,"div",22)(31,"div",23)(32,"p-card")(33,"div",24),Xn(),g(34,"svg",null,0),o(),y(36,x0,2,1,"h3",25)(37,E0,3,3,"h3",26),o()()()}if(t&2){let n=d();p("formGroup",n.printForm),s(36),p("ngIf",n.f.showName.value),s(),p("ngIf",n.f.showPrice.value)}}function O0(t,e){if(t&1){let n=b();a(0,"p-button",29),h("onClick",function(){m(n);let r=d();return _(r.closePrintDialog())}),o(),a(1,"p-button",30),h("onClick",function(){m(n);let r=d();return _(r.submitPrint())}),o()}}var Tt=(()=>{class t{constructor(){this.printService=S(ft),this.fb=S(de),this.visible=!1,this.printData=null,this.visibleChange=new se,this.printForm=this.fb.group({barcode:[null,I.required],displayBarcodeValue:[!0,I.required],showName:[!1,I.required],shortName:[null],showPrice:[!0,I.required],price:[null]})}ngOnInit(){this.printForm.valueChanges.subscribe(()=>{this.updateBarcode()})}ngOnChanges(n){n.visible&&this.visible&&(this.printForm.patchValue(this.printData),setTimeout(()=>{this.updateBarcode()},10))}updateBarcode(){let n=this.printForm.get("barcode")?.value||"",i=this.printForm.get("displayBarcodeValue")?.value;this.barcodePreview?.nativeElement&&(0,Kr.default)(this.barcodePreview.nativeElement,n||" ",{format:"CODE128",lineColor:"#000000",fontSize:14,displayValue:i,height:60,width:1.5})}get f(){return this.printForm.controls}select(n){n.select()}closePrintDialog(){this.visibleChange.emit(!1)}submitPrint(){if(this.printForm.valid){let n={printerName:"XP-365B",barcode:this.f.barcode.value,displayBarcodeValue:this.f.displayBarcodeValue.value,shortName:this.f.showName.value?this.f.shortName.value:null,price:this.f.showPrice.value?this.f.price.value:null};this.printService.labelPrint(n),this.closePrintDialog()}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["label-print"]],viewQuery:function(i,r){if(i&1&&re(b0,5),i&2){let l;oe(l=ae())&&(r.barcodePreview=l.first)}},inputs:{visible:"visible",printData:"printData"},outputs:{visibleChange:"visibleChange"},standalone:!0,features:[Un,$e],decls:3,vars:9,consts:[["barcodePreview",""],["position","top","header","Label Print Form","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-4"],["for","barcode"],["autoSelect","","id","barcode","placeholder","Barcode","pInputText","","spellcheck","false","formControlName","barcode","required","",1,"w-full","p-inputtext-sm"],["for","shortName"],["autoSelect","","id","shortName","type","text","pInputText","","formControlName","shortName","spellcheck","false",1,"w-full","p-inputtext-sm"],["for","price"],["autoSelect","","id","price","styleClass","w-full","formControlName","price","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full"],[1,"flex","align-items-center","justify-content-start","gap-2"],["id","displayBarcodeValue","formControlName","displayBarcodeValue"],["for","displayBarcodeValue"],[1,"flex","align-items-center","justify-content-center","gap-2"],["id","showName","formControlName","showName"],["for","showName"],[1,"flex","align-items-center","justify-content-end","gap-2"],["id","showPrice","formControlName","showPrice"],["for","showPrice"],[1,"grid","mb-2"],[1,"col-4","col-offset-4"],[1,"flex","justify-content-center"],["class","text-center mt-0 mb-1 font-bold text-black",4,"ngIf"],["class","text-center m-0 font-bold text-black",4,"ngIf"],[1,"text-center","mt-0","mb-1","font-bold","text-black"],[1,"text-center","m-0","font-bold","text-black"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Print","type","submit","icon","pi pi-print","severity","contrast","size","small",3,"onClick"]],template:function(i,r){i&1&&(a(0,"p-dialog",1),k("visibleChange",function(u){return O(r.visible,u)||(r.visible=u),u}),h("onHide",function(){return r.closePrintDialog()}),y(1,C0,38,3,"ng-template",2)(2,O0,2,0,"ng-template",3),o()),i&2&&(V(w(7,S0)),C("visible",r.visible),p("modal",!0)("breakpoints",w(8,w0))("closable",!1)("maximizable",!0))},dependencies:[tt,Q,pe,$,W,ti,Y,K,Je,Ye,Ke,he,A,M,_e,j,rt,J,lt,ve,at,ct,it,nt,dt,pt,Wr]})}}return t})();var T0=()=>({width:"95vw",height:"75vh"}),I0=()=>[10,15,50,100],D0=()=>["product_name","quantity"];function P0(t,e){if(t&1){let n=b();a(0,"span",10),g(1,"i",11),a(2,"input",12,1),h("input",function(r){m(n),d();let l=fe(1);return _(l.filterGlobal(r.target.value,"contains"))}),o()()}if(t&2){d();let n=fe(1);s(2),p("value",n.filters.global==null?null:n.filters.global.value)}}function R0(t,e){t&1&&(a(0,"tr")(1,"th",13),c(2,"Description"),o(),a(3,"th",14),c(4,"Category"),o(),a(5,"th",15),c(6,"Qty"),o(),a(7,"th",15),c(8,"Threshold"),o()())}function V0(t,e){if(t&1&&(a(0,"tr",16)(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o()()),t&2){let n=e.$implicit;p("pSelectableRow",n),s(2),x(n.product_name),s(2),x(n.category_name||"---"),s(2),x(n.quantity),s(2),x(n.low_stock_threshold)}}function M0(t,e){t&1&&(a(0,"tr")(1,"td",17),c(2,"No items yet!"),o()())}function A0(t,e){if(t&1){let n=b();a(0,"p-table",5,0),k("selectionChange",function(r){m(n);let l=d();return O(l.selectedItem,r)||(l.selectedItem=r),_(r)}),y(2,P0,4,1,"ng-template",6)(3,R0,9,0,"ng-template",7)(4,V0,9,5,"ng-template",8)(5,M0,3,0,"ng-template",9),o()}if(t&2){let n=d();p("value",n.low_products),C("selection",n.selectedItem),p("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(9,I0))("alwaysShowPaginator",!0)("globalFilterFields",w(10,D0))("filterDelay",0)}}function B0(t,e){if(t&1){let n=b();a(0,"button",18),h("click",function(){m(n);let r=d();return _(r.closeDialog())}),o()}}var Jr=(()=>{class t{constructor(){this.visible=!1,this.low_products=[],this.visibleChange=new se,this.stockService=S(G),this.selectedItem=null}closeDialog(){this.visible=!1,this.visibleChange.emit(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["low-stock-dialog"]],inputs:{visible:"visible",low_products:"low_products"},outputs:{visibleChange:"visibleChange"},decls:3,vars:7,consts:[["dt2",""],["tableSearch",""],["header","Low In Stock Items","position","top",3,"visibleChange","onHide","visible","modal","closable","maximizable"],["pTemplate","body"],["pTemplate","footer"],["styleClass","p-datatable-sm","selectionMode","single","dataKey","product_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"selectionChange","value","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body","track-by","product_id"],["pTemplate","emptymessage"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm",3,"input","value"],["width","25%"],["width","15%"],["width","5%"],[3,"pSelectableRow"],["colspan","9"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary",3,"click"]],template:function(i,r){i&1&&(a(0,"p-dialog",2),k("visibleChange",function(u){return O(r.visible,u)||(r.visible=u),u}),h("onHide",function(){return r.closeDialog()}),y(1,A0,6,11,"ng-template",3)(2,B0,1,0,"ng-template",4),o()),i&2&&(V(w(6,T0)),C("visible",r.visible),p("modal",!0)("closable",!0)("maximizable",!0))},dependencies:[Z,M,ee,me,A,J]})}}return t})();var N0=["tableSearch"],q0=["barcodeInput"],j0=["itemName"],G0=["dt2"],H0=()=>[10,15,50,100],z0=()=>["product_name","barcode"],ce=t=>({"ng-invalid ng-dirty":t}),U0=()=>({width:"65vw"}),X0=t=>({"text-orange-500":t});function $0(t,e){if(t&1){let n=b();a(0,"span",46),g(1,"i",47),a(2,"input",48,3),h("input",function(r){m(n),d();let l=fe(8);return _(l.filterGlobal(r.target.value,"contains"))}),o()(),a(4,"p-button",49),h("onClick",function(){m(n);let r=d();return _(r.printStock())}),o(),a(5,"p-button",50),h("onClick",function(){m(n);let r=d();return _(r.refreshTable())}),o(),a(6,"p-button",51),h("onClick",function(){m(n);let r=d();return _(r.openItemDialog("add"))}),o()}if(t&2){let n=d(),i=fe(8);s(2),p("value",i.filters.global==null?null:i.filters.global.value),s(3),p("loading",n.tableLoading())}}function W0(t,e){if(t&1){let n=b();a(0,"p-button",52),h("onClick",function(){m(n);let r=d();return _(r.openLowStockDialog())}),o(),a(1,"p-button",53),h("onClick",function(){m(n);let r=d();return _(r.openStockDialog())}),o(),a(2,"p-button",54),h("onClick",function(){m(n);let r=d();return _(r.fetchHistory())}),o(),a(3,"p-button",55),h("onClick",function(){m(n);let r=d();return _(r.openLabelPrint())}),o()}if(t&2){let n=d();s(),p("disabled",!n.selectedItem||n.selectedItem.stock_management==0),s(),p("disabled",!n.selectedItem)("loading",n.historyLoading()),s(),p("disabled",!n.selectedItem||n.selectedItem.barcode=="")}}function Q0(t,e){if(t&1){let n=b();a(0,"p-button",56),h("onClick",function(){m(n);let r=d();return _(r.openItemDialog("edit"))}),o(),a(1,"p-button",57),h("onClick",function(){m(n);let r=d();return _(r.deleteSelectedItem())}),o()}if(t&2){let n=d();p("disabled",!n.selectedItem),s(),p("disabled",!n.selectedItem)}}function Y0(t,e){t&1&&(a(0,"th",69),c(1," Cost "),o())}function K0(t,e){if(t&1&&(a(0,"tr")(1,"th"),c(2,"Exp Dates"),o(),a(3,"th",58),c(4,"Barcode"),o(),a(5,"th",59),c(6," Description "),g(7,"p-sortIcon",60),o(),a(8,"th",58),c(9,"Exp Date"),o(),a(10,"th",61),c(11," Category "),g(12,"p-sortIcon",62),o(),a(13,"th",63),c(14," Group "),g(15,"p-sortIcon",64),o(),a(16,"th",65),c(17," Qty "),g(18,"p-sortIcon",66),o(),y(19,Y0,2,0,"th",67),a(20,"th",68),c(21,"Price"),o()()),t&2){let n=d();s(19),p("ngIf",n.userPermissions().show_cost)}}function J0(t,e){if(t&1&&g(0,"p-button",74),t&2){let n=d(),i=n.$implicit,r=n.expanded;p("severity",r?"danger":"success")("pRowToggler",i)("icon",r?"pi pi-minus":"pi pi-plus")}}function Z0(t,e){if(t&1&&(a(0,"td"),c(1),le(2,"currency"),o()),t&2){let n=d().$implicit;s(),q(" ",Dt(2,1,n.unit_cost_usd,"USD","symbol","1.3-3")," ")}}function ef(t,e){if(t&1&&(a(0,"tr",70)(1,"td"),y(2,J0,1,3,"p-button",71),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),o(),a(13,"td",72),c(14),o(),y(15,Z0,3,6,"td",73),a(16,"td"),c(17),le(18,"currency"),o()()),t&2){let n=e.$implicit,i=d();p("pSelectableRow",n),s(2),p("ngIf",n.has_variants),s(2),x(n.barcode||"---"),s(2),x(n.product_name),s(2),q(" ",n.variants_records&&n.variants_records.length==1?n.variants_records[0].expiry_date:"---"," "),s(2),x(n.category_name||"---"),s(2),x(n.group_name||"---"),s(),p("ngClass",N(16,X0,n.quantity<=n.low_stock_threshold||n.quantity===0)),s(),q(" ",n.stock_management?n.quantity:"--"," "),s(),p("ngIf",i.userPermissions().show_cost),s(2),q(" ",Dt(18,11,n.unit_price_usd,"USD","symbol","1.3-3")," ")}}function tf(t,e){if(t&1){let n=b();a(0,"p-button",78),h("onClick",function(){m(n);let r=d().$implicit,l=d();return _(l.openVariantsDialog("add",r))}),o()}}function nf(t,e){if(t&1){let n=b();a(0,"p-button",79),h("onClick",function(){m(n);let r=d().$implicit,l=d();return _(l.openVariantsDialog("edit",r))}),o(),a(1,"p-button",80),h("onClick",function(){m(n);let r=d(2);return _(r.deleteVariant())}),o()}if(t&2){let n=d(2);p("disabled",!n.selectedVariant),s(),p("disabled",!n.selectedVariant)}}function rf(t,e){t&1&&(a(0,"tr")(1,"th"),c(2,"Expiry Date"),o(),a(3,"th"),c(4,"Quantity"),o()())}function of(t,e){if(t&1&&(a(0,"tr",70)(1,"td"),c(2),o(),a(3,"td"),c(4),o()()),t&2){let n=e.$implicit;p("pSelectableRow",n),s(2),x(n.expiry_date),s(2),q(" ",n.variant_quantity," ")}}function af(t,e){t&1&&(a(0,"tr")(1,"td",81),c(2," No Variants for this product yet! "),o()())}function lf(t,e){if(t&1){let n=b();a(0,"tr")(1,"td",75)(2,"div",76)(3,"p-toolbar"),y(4,tf,1,0,"ng-template",7)(5,nf,2,2,"ng-template",9),o(),a(6,"p-table",77,4),k("selectionChange",function(r){m(n);let l=d();return O(l.selectedVariant,r)||(l.selectedVariant=r),_(r)}),y(8,rf,5,0,"ng-template",11)(9,of,5,3,"ng-template",12)(10,af,3,0,"ng-template",14),o()()()()}if(t&2){let n=e.$implicit,i=d();s(6),p("value",n.variants_records),C("selection",i.selectedVariant)}}function uf(t,e){t&1&&(a(0,"tr")(1,"td",82),c(2,"No items yet!"),o()())}function cf(t,e){if(t&1&&(a(0,"h3"),c(1),o()),t&2){let n=d();s(),q("",n.dialogMode," Items")}}function sf(t,e){t&1&&(a(0,"small",83),c(1,"Barcode already exists!"),o())}function ff(t,e){if(t&1){let n=b();a(0,"div",84)(1,"p-button",85),h("onClick",function(){m(n);let r=d();return _(r.generateBarcode())}),o()()}t&2&&(s(),p("tabindex",-1))}function pf(t,e){t&1&&(a(0,"small",83),c(1,"Name is required."),o())}function df(t,e){t&1&&(a(0,"div",30)(1,"label",88),c(2,"Initial Qty"),o(),g(3,"p-inputNumber",90),o())}function mf(t,e){if(t&1&&(a(0,"div",30)(1,"label"),c(2,"enable expiry dates"),o(),g(3,"br"),a(4,"div",31),g(5,"p-checkbox",86),a(6,"label",87),c(7,"Enable"),o()()(),y(8,df,4,0,"div",34),a(9,"div",30)(10,"label",88),c(11,"Low Stock Threshold"),o(),g(12,"p-inputNumber",89),o()),t&2){let n=d();s(5),p("binary",!0),s(3),p("ngIf",n.dialogMode=="add")}}function _f(t,e){t&1&&(a(0,"small",83),c(1,"Cost is required."),o())}function hf(t,e){if(t&1&&(a(0,"div",30)(1,"label",91),c(2,"Unit Cost"),a(3,"span",26),c(4,"*"),o()(),g(5,"p-inputNumber",92),y(6,_f,2,0,"small",22),o()),t&2){let n=d();s(5),p("maxFractionDigits",3)("ngClass",N(3,ce,n.unit_cost_usd.invalid&&(n.unit_cost_usd.dirty||n.unit_cost_usd.touched||n.submitted))),s(),p("ngIf",n.unit_cost_usd.invalid&&(n.unit_cost_usd.dirty||n.unit_cost_usd.touched||n.submitted))}}function vf(t,e){t&1&&(a(0,"small",83),c(1,"Price is required."),o())}function gf(t,e){if(t&1){let n=b();a(0,"button",93),h("click",function(){m(n);let r=d();return _(r.submitItem())}),o(),a(1,"button",94),h("click",function(){m(n);let r=d();return _(r.closeItemDialog())}),o()}if(t&2){let n=d();p("loading",n.submitItemLoading())}}function yf(t,e){if(t&1&&(a(0,"div",95)(1,"label"),c(2,"Expiry Date"),o(),g(3,"p-dropdown",100),o()),t&2){let n=d(2);s(3),p("autoOptionFocus",!1)("options",n.selectedItem==null?null:n.selectedItem.variants_records)}}function bf(t,e){if(t&1){let n=b();a(0,"form",16),h("ngSubmit",function(){m(n);let r=d();return _(r.submitStock())}),a(1,"div",17)(2,"div",95)(3,"label"),c(4,"Option"),a(5,"span",26),c(6,"*"),o()(),g(7,"p-dropdown",96),o(),a(8,"div",95)(9,"label"),c(10,"Quantity"),a(11,"span",26),c(12,"*"),o()(),g(13,"p-inputNumber",97),o(),y(14,yf,4,2,"div",95),a(15,"div",98)(16,"label"),c(17,"Notes"),o(),g(18,"input",99),o()()()}if(t&2){let n=d();p("formGroup",n.stockForm),s(7),p("autoOptionFocus",!1)("options",n.transactionOptions)("ngClass",N(7,ce,(n.transaction_type==null?null:n.transaction_type.invalid)&&((n.transaction_type==null?null:n.transaction_type.dirty)||(n.transaction_type==null?null:n.transaction_type.touched)||n.submitted))),s(6),p("ngClass",N(9,ce,(n.quantity==null?null:n.quantity.invalid)&&((n.quantity==null?null:n.quantity.dirty)||(n.quantity==null?null:n.quantity.touched)||n.submitted))),s(),It(n.selectedItem!=null&&n.selectedItem.has_variants?14:-1),s(4),p("ngClass",N(11,ce,(n.transaction_notes==null?null:n.transaction_notes.invalid)&&((n.transaction_notes==null?null:n.transaction_notes.dirty)||(n.transaction_notes==null?null:n.transaction_notes.touched)||n.submitted)))}}function Sf(t,e){if(t&1){let n=b();a(0,"p-button",101),h("onClick",function(){m(n);let r=d();return _(r.toggleStockDialog())}),o(),a(1,"p-button",102),h("onClick",function(){m(n);let r=d();return _(r.submitStock())}),o()}}var eo=(()=>{class t{constructor(){this.subscriptions=new Hn,this.barcodeError=!1,this.stockService=S(G),this.fb=S(de),this.confirmationService=S(Ze),this.authService=S(Zn),this.variantsService=S(gi),this.notificationService=S(et),this.printService=S(ft),this.api=S(Jn),this.products=this.stockService.products,this.itemSidebarVisible=this.stockService.itemSidebarVisible,this.tableLoading=this.stockService.tableLoading,this.submitItemLoading=this.stockService.submitItemLoading,this.categories=this.stockService.categories,this.submitted=!1,this.userPermissions=this.authService.userPermissions,this.itemFormValues={stock_management:!0,has_variants:!0},this.itemForm=this.fb.group({product_id:[null],category_id_fk:[{value:null,disabled:!1}],product_name:[null,I.required],barcode:[null],unit_cost_usd:[null,I.required],unit_price_usd:[null,I.required],quantity:[null],product_notes:[null],low_stock_threshold:[null],stock_management:[this.itemFormValues.stock_management],has_variants:[this.itemFormValues.has_variants]}),this.stockDialogVisible=this.stockService.stockDialogVisible,this.transactionOptions=[{name:"Add",value:"ADD"},{name:"Remove",value:"REMOVE"}],this.stockForm=this.fb.group({product_id_fk:[null],transaction_type:[{value:null,disabled:!1},I.required],quantity:[null,I.required],variant_id:[null],transaction_notes:[null,I.required]}),this.historyDialogVisible=this.stockService.historyDialogVisible,this.historyLoading=this.stockService.historyLoading,this.variantsDialogVisible=!1,this.labelPrintDialogVisible=!1,this.lowStockDialogVisible=!1,this.lowProducts=Pt(()=>this.products().filter(n=>n.quantity<=n.low_stock_threshold&&n.quantity>0&&n.low_stock_threshold))}onKeyDown(n){!this.itemSidebarVisible()&&!this.stockDialogVisible()&&!this.variantsDialogVisible&&!this.labelPrintDialogVisible&&!this.lowStockDialogVisible&&this.tableSearch.nativeElement.focus()}ngOnInit(){this.subscriptions.add(this.stockService.barcodeError.subscribe(()=>{this.barcodeInput.nativeElement.select(),this.barcodeError=!0})),this.subscriptions.add(this.stockService.itemCreated.subscribe(()=>{this.resetDialog()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}get category_id_fk(){return this.itemForm.get("category_id_fk")}get product_name(){return this.itemForm.get("product_name")}get unit_cost_usd(){return this.itemForm.get("unit_cost_usd")}get unit_price_usd(){return this.itemForm.get("unit_price_usd")}get stock_management(){return this.itemForm.get("stock_management")}get f(){return this.itemForm.controls}resetStockManagementFields(){this.itemForm.controls.quantity.reset(),this.itemForm.controls.low_stock_threshold.reset(),this.itemForm.controls.has_variants.reset()}focusInput(){this.barcodeInput.nativeElement.focus()}clearBarcode(){this.itemForm.patchValue({barcode:null})}openItemDialog(n){this.dialogMode=n,this.dialogMode=="add"?this.stockService.itemSidebarVisible.set(!0):this.dialogMode=="edit"&&(this.selectedItem.stock_management=this.selectedItem.stock_management==1,this.selectedItem.has_variants=this.selectedItem.has_variants==1,this.itemForm.patchValue(this.selectedItem),this.stockService.itemSidebarVisible.set(!0))}closeItemDialog(){this.stockService.itemSidebarVisible.set(!1)}resetDialog(){this.submitted=!1,this.itemForm.reset(this.itemFormValues)}submitItem(){this.submitted=!0,(!this.itemForm.controls.barcode.value||this.itemForm.controls.barcode.value==="")&&this.itemForm.patchValue({barcode:null}),this.dialogMode=="add"?this.itemForm.valid&&(this.itemForm.controls.has_variants.value||this.itemForm.patchValue({has_variants:!1}),this.stockService.createItem(this.itemForm.value),this.submitted=!1,this.focusInput()):this.itemForm.valid&&(this.stockService.updateItem(this.itemForm.value),this.selectedItem=null)}deleteSelectedItem(){this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected item?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.stockService.deleteItem(this.selectedItem),this.selectedItem=null}})}refreshTable(){this.stockService.getItems(),this.dt2.reset()}clearBarcodeError(){this.barcodeError=!1}get transaction_type(){return this.stockForm.get("transaction_type")}get quantity(){return this.stockForm.get("quantity")}get transaction_notes(){return this.stockForm.get("transaction_notes")}openStockDialog(){this.stockService.stockDialogVisible.set(!0)}toggleStockDialog(){this.stockService.stockDialogVisible.set(!1)}submitStock(){this.submitted=!0,this.stockForm.valid&&(this.stockForm.patchValue({product_id_fk:this.selectedItem?.product_id}),this.stockService.submitStock(this.stockForm.value))}resetStockDialog(){this.submitted=!1,this.stockForm.reset(),this.stockService.stockDialogVisible.set(!1)}fetchHistory(){this.stockService.fetchStockHistory(this.selectedItem.product_id)}closeHistoryDialog(){this.stockService.historyDialogVisible.set(!1)}openVariantsDialog(n,i,r){this.productExpanded=i,this.variantsDialogMode=n,n==="edit"||(this.selectedVariant=null),this.variantsDialogVisible=!0}variantSubmitted(n){this.selectedItem=n}closeVariantDialog(){this.variantsDialogVisible=!1,this.selectedVariant=null,this.productExpanded=null}deleteVariant(){this.selectedVariant.variant_quantity>0?this.notificationService.showInfo("Variant have items, empty it first","home"):this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected variant?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.variantsService.deleteVariant(this.selectedVariant),this.selectedVariant=null}})}printStock(){console.log(this.products());let n=Pt(()=>this.products().filter(i=>i.stock_management).sort((i,r)=>{let l=(i.category_name||"").toLowerCase(),u=(r.category_name||"").toLowerCase();return l===u?i.product_name.localeCompare(r.product_name):l?u?l.localeCompare(u):-1:1}));console.log(n()),this.printService.printStock(n())}openLabelPrint(){let n=this.selectedItem;this.printData={barcode:n.barcode,shortName:n.product_name,price:n.unit_price_usd},this.labelPrintDialogVisible=!0}generateBarcode(){this.clearBarcodeError(),this.stockService.generateBarcode(),this.api.get("stock/generate-barcode").subscribe({next:n=>{this.itemForm.patchValue({barcode:n})}})}openLowStockDialog(){this.lowStockDialogVisible=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["app-inventory"]],viewQuery:function(i,r){if(i&1&&(re(N0,5),re(q0,5),re(j0,5),re(G0,5)),i&2){let l;oe(l=ae())&&(r.tableSearch=l.first),oe(l=ae())&&(r.barcodeInput=l.first),oe(l=ae())&&(r.itemName=l.first),oe(l=ae())&&(r.dt2=l.first)}},hostBindings:function(i,r){i&1&&h("keydown",function(u){return r.onKeyDown(u)},!1,Wn)},decls:69,vars:51,consts:[["dt2",""],["barcodeInput",""],["itemName",""],["tableSearch",""],["vt",""],[1,"grid","m-1"],[1,"col-12"],["pTemplate","left"],["pTemplate","center"],["pTemplate","right"],["styleClass","p-datatable-sm","selectionMode","single","dataKey","product_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","65vh","sortMode","multiple",3,"selectionChange","value","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay","loading","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["position","right","styleClass","w-30rem",3,"visibleChange","onShow","onHide","visible"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-9"],["for","barcode"],[1,"pi","pi-barcode"],["placeholder","Barcode ...","pInputText","","spellcheck","false","formControlName","barcode",1,"w-full","p-inputtext-sm",3,"input","ngClass"],["class","p-error",4,"ngIf"],["class","field col-3 flex align-items-end",4,"ngIf"],[1,"field","col-12"],["for","name"],[1,"text-red-600"],["placeholder","Product Name","id","name","pInputText","","formControlName","product_name","spellcheck","false",1,"w-full","p-inputtext-sm",3,"ngClass"],["for","Category"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","category_id_fk","optionLabel","category_name","optionValue","category_id","placeholder","Select Category ...","filterBy","category_name",3,"autoOptionFocus","showClear","options","filter"],[1,"field","col-6"],[1,"flex","align-items-center","gap-1"],["formControlName","stock_management","inputId","stock_management",3,"onChange","binary"],["for","stock_management"],["class","field col-6",4,"ngIf"],["for","unit_price_usd"],["styleClass","w-full","formControlName","unit_price_usd","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full",3,"maxFractionDigits","ngClass"],["for","product_notes"],["type","text","pInputText","","formControlName","product_notes","spellcheck","false",1,"w-full"],["pTemplate","footer"],["header","Stock Correction","styleClass","p-fluid","position","top",3,"onHide","visible","modal"],["pTemplate","content"],[3,"onClose","visible","product_id"],[3,"OnClose","OnSubmit","visible","dialog_mode","selected_product","selected_variant"],[3,"visibleChange","visible","printData"],[3,"visibleChange","visible","low_products"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm",3,"input","value"],["label","Print","icon","pi pi-print","size","small","severity","contrast","styleClass","mx-2",3,"onClick"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","mx-2 ",3,"onClick","loading"],["label","New","icon","pi pi-plus","severity","success","size","small",3,"onClick"],["label","Low Stock","size","small","severity","warning","icon","pi pi-exclamation-triangle",3,"onClick"],["label","Correct Stock","size","small","severity","info","icon","pi pi-wrench","styleClass","ml-2",3,"onClick","disabled"],["label","History","size","small","severity","contrast","icon","pi pi-history","styleClass","ml-2",3,"onClick","disabled","loading"],["label","Print Labels","icon","pi pi-barcode","size","small","severity","help","styleClass","ml-2",3,"onClick","disabled"],["label","Edit","icon","pi pi-file-edit","size","small","severity","warning",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","size","small","severity","danger",1,"ml-2",3,"onClick","disabled"],["width","10%"],["width","35%","pSortableColumn","product_name"],["field","product_name"],["width","15%","pSortableColumn","category_name"],["field","category_name"],["width","15%","pSortableColumn","group_name"],["field","group_name"],["width","5%","pSortableColumn","quantity"],["field","quantity"],["width","7%",4,"ngIf"],["width","8%"],["width","7%"],[3,"pSelectableRow"],["type","button","size","small","pRipple","",3,"severity","pRowToggler","icon",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],["type","button","size","small","pRipple","",3,"severity","pRowToggler","icon"],["colspan","8"],[1,"p-2"],["styleClass","p-datatable-sm p-datatable-gridlines","dataKey","variant_id","selectionMode","single",3,"selectionChange","value","selection"],["size","small","label","Add Date","severity","success","icon","pi pi-plus",3,"onClick"],["label","Edit Date","icon","pi pi-file-edit","size","small","severity","warning",3,"onClick","disabled"],["label","Delete Date","icon","pi pi-trash","size","small","severity","danger",1,"ml-2",3,"onClick","disabled"],["colspan","3"],["colspan","7"],[1,"p-error"],[1,"field","col-3","flex","align-items-end"],["label","Generate","severity","contrast",3,"onClick","tabindex"],["formControlName","has_variants","inputId","has_variants",3,"binary"],["for","has_variants"],["for","qty"],["styleClass","w-full","formControlName","low_stock_threshold","placeholder","low stock qty",1,"p-inputtext-sm","w-full"],["styleClass","w-full","formControlName","quantity","placeholder","Initial Qty",1,"p-inputtext-sm","w-full"],["for","unit_cost_usd"],["styleClass","w-full","formControlName","unit_cost_usd","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full",3,"maxFractionDigits","ngClass"],["type","submit","pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-success","w-full","mb-3",3,"click","loading"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary","w-full",3,"click"],[1,"field","col-12","md:col-3"],["scrollHeight","400px","appendTo","body","formControlName","transaction_type","optionLabel","name","optionValue","value","placeholder","transaction type ...",3,"autoOptionFocus","options","ngClass"],["formControlName","quantity",3,"ngClass"],[1,"field","col-12","md:col-6"],["type","text","spellcheck","false","pInputText","","formControlName","transaction_notes",1,"w-full",3,"ngClass"],["scrollHeight","400px","appendTo","body","formControlName","variant_id","optionLabel","expiry_date","optionValue","variant_id","placeholder","From Date...",3,"autoOptionFocus","options"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Save","icon","pi pi-check","severity","success","size","small",3,"onClick"]],template:function(i,r){if(i&1){let l=b();a(0,"div",5)(1,"div",6)(2,"p-card")(3,"p-toolbar"),y(4,$0,7,2,"ng-template",7)(5,W0,4,4,"ng-template",8)(6,Q0,2,2,"ng-template",9),o(),a(7,"p-table",10,0),k("selectionChange",function(f){return m(l),O(r.selectedItem,f)||(r.selectedItem=f),_(f)}),y(9,K0,22,1,"ng-template",11)(10,ef,19,18,"ng-template",12)(11,lf,11,2,"ng-template",13)(12,uf,3,0,"ng-template",14),o()()()(),a(13,"p-sidebar",15),k("visibleChange",function(f){return m(l),O(r.itemSidebarVisible,f)||(r.itemSidebarVisible=f),_(f)}),h("onShow",function(){return m(l),_(r.focusInput())})("onHide",function(){return m(l),_(r.resetDialog())}),y(14,cf,2,1,"ng-template",11),a(15,"form",16),h("ngSubmit",function(){return m(l),_(r.submitItem())}),a(16,"div",17)(17,"div",18)(18,"label",19),c(19,"Barcode"),o(),a(20,"p-inputGroup")(21,"p-inputGroupAddon"),g(22,"i",20),o(),a(23,"input",21,1),h("input",function(){return m(l),_(r.clearBarcodeError())}),o()(),y(25,sf,2,0,"small",22),o(),y(26,ff,2,1,"div",23),a(27,"div",24)(28,"label",25),c(29,"Product Name"),a(30,"span",26),c(31,"*"),o()(),g(32,"input",27,2),y(34,pf,2,0,"small",22),o(),a(35,"div",24)(36,"label",28),c(37,"Category"),o(),g(38,"p-dropdown",29),o(),a(39,"div",30)(40,"label"),c(41,"Stock Management"),o(),g(42,"br"),a(43,"div",31)(44,"p-checkbox",32),h("onChange",function(){return m(l),_(r.resetStockManagementFields())}),o(),a(45,"label",33),c(46,"Enable"),o()()(),y(47,mf,13,2),o(),a(48,"div",17),y(49,hf,7,5,"div",34),a(50,"div",30)(51,"label",35),c(52,"Unit price"),a(53,"span",26),c(54,"*"),o()(),g(55,"p-inputNumber",36),y(56,vf,2,0,"small",22),o(),a(57,"div",24)(58,"label",37),c(59,"Notes"),o(),g(60,"input",38),o()()(),y(61,gf,2,1,"ng-template",39),o(),a(62,"p-dialog",40),h("onHide",function(){return m(l),_(r.resetStockDialog())}),y(63,bf,19,13,"ng-template",41)(64,Sf,2,0,"ng-template",39),o(),a(65,"stock-transactions",42),h("onClose",function(){return m(l),_(r.closeHistoryDialog())}),o(),a(66,"variants-dialog",43),h("OnClose",function(){return m(l),_(r.closeVariantDialog())})("OnSubmit",function(f){return m(l),_(r.variantSubmitted(f))}),o(),a(67,"label-print",44),k("visibleChange",function(f){return m(l),O(r.labelPrintDialogVisible,f)||(r.labelPrintDialogVisible=f),_(f)}),o(),a(68,"low-stock-dialog",45),k("visibleChange",function(f){return m(l),O(r.lowStockDialogVisible,f)||(r.lowStockDialogVisible=f),_(f)}),o()}i&2&&(s(7),p("value",r.products()),C("selection",r.selectedItem),p("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(42,H0))("alwaysShowPaginator",!0)("globalFilterFields",w(43,z0))("filterDelay",0)("loading",r.tableLoading())("scrollable",!0),s(6),C("visible",r.itemSidebarVisible),s(2),p("formGroup",r.itemForm),s(8),p("ngClass",N(44,ce,r.barcodeError)),s(2),p("ngIf",r.barcodeError),s(),p("ngIf",!r.f.product_id.value||!(r.selectedItem!=null&&r.selectedItem.barcode)),s(6),p("ngClass",N(46,ce,r.product_name.invalid&&(r.product_name.dirty||r.product_name.touched||r.submitted))),s(2),p("ngIf",r.product_name.invalid&&(r.product_name.dirty||r.product_name.touched||r.submitted)),s(4),p("autoOptionFocus",!1)("showClear",!0)("options",r.categories())("filter",!0),s(6),p("binary",!0),s(3),It(r.stock_management.value?47:-1),s(2),p("ngIf",r.userPermissions().show_cost),s(6),p("maxFractionDigits",3)("ngClass",N(48,ce,r.unit_price_usd.invalid&&(r.unit_price_usd.dirty||r.unit_price_usd.touched||r.submitted))),s(),p("ngIf",r.unit_price_usd.invalid&&(r.unit_price_usd.dirty||r.unit_price_usd.touched||r.submitted)),s(6),V(w(50,U0)),p("visible",r.stockDialogVisible())("modal",!0),s(3),p("visible",r.historyDialogVisible())("product_id",r.selectedItem==null?null:r.selectedItem.product_id),s(),p("visible",r.variantsDialogVisible)("dialog_mode",r.variantsDialogMode)("selected_product",r.productExpanded)("selected_variant",r.selectedVariant),s(),C("visible",r.labelPrintDialogVisible),p("printData",r.printData),s(),C("visible",r.lowStockDialogVisible),p("low_products",r.lowProducts()))},dependencies:[Qe,Ye,Q,pe,$,W,Y,K,Z,M,oi,ee,li,ai,ge,me,j,A,ot,J,ve,nt,fi,yi,Si,mt,vi,st,Tt,Jr,Ke],styles:["[_nghost-%COMP%]  .p-card-content{padding:0!important}[_nghost-%COMP%]  .p-toolbar{padding-top:.6rem!important;padding-bottom:.6rem!important}[_nghost-%COMP%]  .p-button.p-button-icon-only{height:2rem!important;width:1rem!important}"]})}}return t})();var to=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["app-stock-home"]],decls:1,vars:0,template:function(i,r){i&1&&g(0,"router-outlet")},dependencies:[Kn]})}}return t})();var wf=()=>[10,15,50,100],xf=()=>({width:"35vw"}),Ef=()=>({"1199px":"75vw","575px":"85vw"}),Cf=(t,e)=>({" pi-check-circle text-green-600":t,"pi-times-circle text-red-600":e}),Of=t=>({"ng-invalid ng-dirty":t});function kf(t,e){if(t&1){let n=b();a(0,"p-button",11),h("onClick",function(){m(n);let r=d();return _(r.refreshCategories())}),o(),a(1,"p-button",12),h("onClick",function(){m(n);let r=d();return _(r.openCategoryDialog("add"))}),o()}if(t&2){let n=d();p("loading",n.categoriesLoading())}}function Tf(t,e){if(t&1){let n=b();a(0,"p-button",13),h("onClick",function(){m(n);let r=d();return _(r.openCategoryDialog("edit"))}),o(),a(1,"p-button",14),h("onClick",function(){m(n);let r=d();return _(r.deleteSelectedCategory())}),o()}if(t&2){let n=d();p("disabled",!n.selectedCategory()),s(),p("disabled",!n.selectedCategory())}}function If(t,e){t&1&&(a(0,"tr")(1,"th",15),c(2,"Sort"),o(),a(3,"th",16),c(4,"Name"),o(),a(5,"th",17),c(6,"Group"),o(),a(7,"th",18),c(8,"Visible?"),o()())}function Df(t,e){if(t&1&&(a(0,"tr",19)(1,"td"),g(2,"span",20),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),g(8,"i",21),o()()),t&2){let n=e.$implicit,i=e.rowIndex;p("pReorderableRow",i)("pSelectableRow",n),s(4),x(n.category_name),s(2),x(n.group_name||"---"),s(2),p("ngClass",Qn(5,Cf,n.show_on_sell,!n.show_on_sell))}}function Pf(t,e){t&1&&(a(0,"tr")(1,"td",22),c(2,"No Categories yet!"),o()())}function Rf(t,e){if(t&1){let n=b();a(0,"form",23),h("ngSubmit",function(){m(n);let r=d();return _(r.submitCategory())}),a(1,"div",24)(2,"div",25)(3,"label",26),c(4,"Category Name"),o(),g(5,"input",27),o(),a(6,"div",25)(7,"label",26),c(8,"Select Group"),o(),g(9,"p-dropdown",28),o(),a(10,"div",29),g(11,"p-inputSwitch",30),a(12,"label",31),c(13,"Show on sell page?"),o()()()()}if(t&2){let n=d();p("formGroup",n.categoryForm),s(5),p("ngClass",N(6,Of,(n.category_name==null?null:n.category_name.invalid)&&((n.category_name==null?null:n.category_name.dirty)||(n.category_name==null?null:n.category_name.touched)))),s(4),p("autoOptionFocus",!1)("showClear",!0)("options",n.groups())("filter",!0)}}function Vf(t,e){if(t&1){let n=b();a(0,"p-button",32),h("onClick",function(){m(n);let r=d();return _(r.categoryDialogVisible.set(!1))}),o(),a(1,"p-button",33),h("onClick",function(){m(n);let r=d();return _(r.submitCategory())}),o()}}var no=(()=>{class t{constructor(){this.stockService=S(G),this.confirmationService=S(Ze),this.notificationService=S(et),this.categoryDialogVisible=this.stockService.categoryDialogVisible,this.groups=this.stockService.groups,this.groupsLoading=this.stockService.groupsLoading,this.categories=this.stockService.categories,this.categoriesLoading=this.stockService.categoriesLoading,this.selectedCategory=this.stockService.selectedCategory,this.categoryForm=new ei({category_id:new Ie,group_id_fk:new Ie,category_name:new Ie(null,I.required),show_on_sell:new Ie(!1)})}sortCategories(){this.stockService.sortCategories()}selectCategory(){}refreshCategories(){this.stockService.getCategories()}get category_name(){return this.categoryForm.get("category_name")}openCategoryDialog(n){this.dialogMode=n,this.dialogMode=="add"?this.stockService.categoryDialogVisible.set(!0):(this.categoryForm.patchValue({category_id:this.selectedCategory()?.category_id,category_name:this.selectedCategory()?.category_name,show_on_sell:this.selectedCategory()?.show_on_sell==1}),this.stockService.categoryDialogVisible.set(!0))}submitCategory(){this.dialogMode=="add"?this.categoryForm.valid&&(this.stockService.createCategory(this.categoryForm.value),this.stockService.categoryDialogVisible.set(!1)):this.dialogMode=="edit"&&this.categoryForm.valid&&(this.stockService.updateCategory(this.categoryForm.value),this.stockService.selectedCategory.set(null))}deleteSelectedCategory(){this.stockService.filteredItems().length!=0?this.notificationService.showError("Delete all category items before proceeding!","categories"):this.confirmationService.confirm({key:"home",message:`Are you sure that you want to delete "${this.selectedCategory()?.category_name}"?`,header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.stockService.deleteCategory(this.selectedCategory().category_id)}})}resetDialog(){this.categoryForm.reset({category_name:null,show_on_sell:!1})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["categories"]],decls:11,vars:17,consts:[["header","Categories"],["styleClass","mb-4 p-2"],["pTemplate","left"],["pTemplate","right"],["selectionMode","single","dataKey","category_id","styleClass","p-datatable-sm","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","55vh",3,"selectionChange","onRowReorder","value","selection","loading","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Category","styleClass","p-fluid",3,"onHide","visible","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","mr-2 ",3,"onClick","loading"],["label","New Category","icon","pi pi-plus","severity","success","size","small",3,"onClick"],["label","Edit","icon","pi pi-file-edit","severity","warning","size","small",1,"mr-2",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","size","small","severity","danger",3,"onClick","disabled"],["width","10%"],["width","50%"],["width","25%"],["width","15%"],[3,"pReorderableRow","pSelectableRow"],["pReorderableRowHandle","",1,"pi","pi-bars"],[1,"pi",3,"ngClass"],["colspan","3"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"field","col-6"],["for","name"],["type","text","pInputText","","formControlName","category_name","spellcheck","false",1,"p-inputtext-sm",3,"ngClass"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","group_id_fk","optionLabel","group_name","optionValue","group_id","placeholder","Select Group ...","filterBy","group_name",3,"autoOptionFocus","showClear","options","filter"],[1,"col-12","flex","align-items-center","justify-content-center","gap-2"],["id","showOnSell","formControlName","show_on_sell"],["for","showOnSell"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Save","icon","pi pi-check","severity","success","size","small",3,"onClick"]],template:function(i,r){i&1&&(a(0,"p-panel",0)(1,"p-toolbar",1),y(2,kf,2,1,"ng-template",2)(3,Tf,2,2,"ng-template",3),o(),a(4,"p-table",4),k("selectionChange",function(u){return O(r.selectedCategory,u)||(r.selectedCategory=u),u}),h("onRowReorder",function(){return r.sortCategories()}),y(5,If,9,0,"ng-template",5)(6,Df,9,8,"ng-template",6)(7,Pf,3,0,"ng-template",7),o()(),a(8,"p-dialog",8),h("onHide",function(){return r.resetDialog()}),y(9,Rf,14,8,"ng-template",9)(10,Vf,2,0,"ng-template",10),o()),i&2&&(s(4),p("value",r.categories()),C("selection",r.selectedCategory),p("loading",r.categoriesLoading())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(14,wf))("alwaysShowPaginator",!0)("scrollable",!0),s(4),V(w(15,xf)),p("visible",r.categoryDialogVisible())("modal",!0)("breakpoints",w(16,Ef)))},dependencies:[Qe,Q,pe,$,W,Y,K,Z,M,ee,ui,ci,ge,j,A,ot,J,ii,pt]})}}return t})();var Af=()=>({width:"35vw"}),Bf=()=>({"1199px":"85vw","575px":"95vw"});function Ff(t,e){if(t&1){let n=b();a(0,"form",7),h("ngSubmit",function(){m(n);let r=d();return _(r.submit())}),a(1,"div",8)(2,"label",9),c(3,"Exchange Rate"),o(),g(4,"p-inputNumber",10),o()()}if(t&2){let n=d();p("formGroup",n.rateForm),s(4),p("min",1e3)}}function Lf(t,e){if(t&1){let n=b();a(0,"button",11),h("click",function(){m(n);let r=d();return _(r.toggleDialog(!1))}),o(),a(1,"button",12),h("click",function(){m(n);let r=d();return _(r.submit())}),o()}}var io=(()=>{class t{constructor(){this.stockService=S(G),this.formBuilder=S(de),this.exchangeRate=this.stockService.exchangeRate,this.rateDialogVisible=this.stockService.rateDialogVisible,this.dialogVisible=!1,Yn(()=>{this.rateForm=this.formBuilder.group({rate_value:[this.exchangeRate().rate_value]})})}toggleDialog(n){this.stockService.rateDialogVisible.set(n)}submit(){this.rateForm.valid&&this.stockService.updateExchangeRate(this.rateForm.value)}resetDialog(){this.rateForm.reset({rate_value:this.exchangeRate().rate_value}),this.stockService.rateDialogVisible.set(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["exchange-rate"]],decls:12,vars:10,consts:[[1,"p-toolbar-group-start"],[1,"text-green-600"],[1,"p-toolbar-group-end"],["icon","pi pi-file-edit","styleClass","p-button-warning","label","Edit",3,"onClick"],["header","Exchange Rate","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"field","mt-1"],["for","name"],["inputId","integeronly","formControlName","rate_value",3,"min"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-secondary",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-success",3,"click"]],template:function(i,r){i&1&&(a(0,"p-toolbar")(1,"div",0)(2,"h3"),c(3," Dollar Exchange: "),a(4,"i",1),c(5),le(6,"lira"),o()()(),a(7,"div",2)(8,"p-button",3),h("onClick",function(){return r.toggleDialog(!0)}),o()()(),a(9,"p-dialog",4),k("visibleChange",function(u){return O(r.rateDialogVisible,u)||(r.rateDialogVisible=u),u}),h("onHide",function(){return r.resetDialog()}),y(10,Ff,5,2,"ng-template",5)(11,Lf,2,0,"ng-template",6),o()),i&2&&(s(5),x(We(6,6,r.exchangeRate().rate_value)),s(4),V(w(8,Af)),C("visible",r.rateDialogVisible),p("modal",!0)("breakpoints",w(9,Bf)))},dependencies:[Q,$,W,Y,K,M,ge,me,j,A,ve,hi]})}}return t})();var ro=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["stock-settings"]],decls:6,vars:0,consts:[[1,"grid","m-1"],[1,"col-12","md:col-6"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1),g(2,"exchange-rate")(3,"br")(4,"categories"),o(),g(5,"div",1),o())},dependencies:[no,io]})}}return t})();var qf=[{path:"",component:to,children:[{path:"items",data:{breadcrumb:"Inventory"},component:eo},{path:"settings",data:{breadcrumb:"Settings"},component:ro},{path:"**",redirectTo:"/stock/items"}]}],oo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Xe({type:t})}static{this.\u0275inj=Ue({imports:[Rt.forChild(qf),Rt]})}}return t})();var h1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Xe({type:t})}static{this.\u0275inj=Ue({imports:[Je,ni,tt,oo,ut,si,_e,he,at,rt,lt,it,di,pi,ri,dt,bi,wi,mt,ct,st,Tt]})}}return t})();export{h1 as StockModule};
