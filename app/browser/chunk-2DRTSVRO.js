import{a as dn,b as mn}from"./chunk-3FQJRYH7.js";import{a as vn}from"./chunk-U2HIDVUW.js";import{a as wn,b as gt}from"./chunk-R5TBYHGB.js";import{a as Sn,b as Cn,c as En,d as xn}from"./chunk-TFLCFXZP.js";import{a as vt}from"./chunk-35NGRNBH.js";import{a as yn}from"./chunk-RRWPY7RN.js";import{a as W}from"./chunk-CXRP5GN6.js";import{a as at}from"./chunk-GOWH2OVL.js";import{a as yt,b as bt}from"./chunk-6IHP5HLK.js";import{a as hn,b as gn}from"./chunk-UD4Z4JHS.js";import{a as bn,b as ht}from"./chunk-VUEERN5G.js";import{a as ln,b as un}from"./chunk-6W2INIPT.js";import{a as Ee,b as fn}from"./chunk-UPEO3OJJ.js";import{b as Ce,c as ft,f as U,g as dt,h as mt,i as X,j as cn,o as sn,p as pn,q as _t}from"./chunk-5RWI34IA.js";import{b as _n}from"./chunk-X2LN5D3L.js";import"./chunk-LSU6PTXH.js";import"./chunk-5HBZH4F2.js";import"./chunk-LQIUUWFA.js";import{a as ut,b as ct}from"./chunk-VZUVB6OR.js";import{i as Se,j as pt}from"./chunk-IQYDCUJX.js";import{$a as B,Aa as o,Ac as ve,Ba as v,Bc as an,C as Yi,Cb as he,Cc as lt,Db as it,Fa as b,Ga as h,Ha as d,K as Ke,Lc as ye,Mc as H,N as C,Na as le,Nb as tn,Nc as be,O as T,Oa as ue,Oc as z,P as Je,Pa as ce,Pc as st,Qa as Y,Ra as c,Sa as w,Ta as I,U as Ze,Ub as jt,V as m,Va as E,W as _,Wa as x,X as Ki,Xa as O,Za as et,_ as Z,_a as S,_b as nt,ab as Zi,e as g,ed as V,fd as we,g as so,ga as Ji,ha as s,hb as j,hc as P,i as Qi,ib as tt,kb as de,kc as rt,lc as ot,nc as ge,oa as fe,pc as R,ra as y,rc as G,sc as ee,ta as p,tb as qt,tc as nn,ub as en,uc as Ne,vc as rn,wa as D,wb as me,wc as te,xc as ie,ya as Lt,yb as _e,yc as ne,za as a,zc as on}from"./chunk-ZWYFQ3XA.js";var M=g(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});function So(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Co=function t(e,i){So(this,t),this.data=e,this.text=i.text||e,this.options=i};Gt.default=Co});var Tn=g(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.CODE39=void 0;var Eo=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),xo=M(),Oo=ko(xo);function ko(t){return t&&t.__esModule?t:{default:t}}function To(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Io(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Do(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Po=function(t){Do(e,t);function e(i,n){return To(this,e),i=i.toUpperCase(),n.mod43&&(i+=Mo(Ao(i))),Io(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Eo(e,[{key:"encode",value:function(){for(var n=Ht("*"),r=0;r<this.data.length;r++)n+=Ht(this.data[r])+"0";return n+=Ht("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(Oo.default),On=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Ro=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Ht(t){return Vo(kn(t))}function Vo(t){return Ro[t].toString(2)}function Mo(t){return On[t]}function kn(t){return On.indexOf(t)}function Ao(t){for(var e=0,i=0;i<t.length;i++)e+=kn(t[i]);return e=e%43,e}Ct.CODE39=Po});var Te=g(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var Le;function zt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var In=k.SET_A=0,Dn=k.SET_B=1,Pn=k.SET_C=2,_f=k.SHIFT=98,Fo=k.START_A=103,Bo=k.START_B=104,No=k.START_C=105,hf=k.MODULO=103,gf=k.STOP=106,vf=k.FNC1=207,yf=k.SET_BY_CODE=(Le={},zt(Le,Fo,In),zt(Le,Bo,Dn),zt(Le,No,Pn),Le),bf=k.SWAP={101:In,100:Dn,99:Pn},wf=k.A_START_CHAR="\xD0",Sf=k.B_START_CHAR="\xD1",Cf=k.C_START_CHAR="\xD2",Ef=k.A_CHARS="[\0-_\xC8-\xCF]",xf=k.B_CHARS="[ -\x7F\xC8-\xCF]",Of=k.C_CHARS="(\xCF*[0-9]{2}\xCF*)",kf=k.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var qe=g(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var Lo=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),qo=M(),jo=Go(qo),N=Te();function Go(t){return t&&t.__esModule?t:{default:t}}function Ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xo=function(t){Uo(e,t);function e(i,n){Ho(this,e);var r=zo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.substring(1),n));return r.bytes=i.split("").map(function(l){return l.charCodeAt(0)}),r}return Lo(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,r=n.shift()-105,l=N.SET_BY_CODE[r];if(l===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(N.FNC1);var u=e.next(n,1,l);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(r)+u.result+e.getBar((u.checksum+r)%N.MODULO)+e.getBar(N.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return N.BARS[n]?N.BARS[n].toString():""}},{key:"correctIndex",value:function(n,r){if(r===N.SET_A){var l=n.shift();return l<32?l+64:l-32}else return r===N.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,r,l){if(!n.length)return{result:"",checksum:0};var u=void 0,f=void 0;if(n[0]>=200){f=n.shift()-105;var F=N.SWAP[f];F!==void 0?u=e.next(n,r+1,F):((l===N.SET_A||l===N.SET_B)&&f===N.SHIFT&&(n[0]=l===N.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),u=e.next(n,r+1,l))}else f=e.correctIndex(n,l),u=e.next(n,r+1,l);var J=e.getBar(f),co=f*r;return{result:J+u.result,checksum:co+u.checksum}}}]),e}(jo.default);Ut.default=Xo});var Fn=g(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});var re=Te(),Rn=function(e){return e.match(new RegExp("^"+re.A_CHARS+"*"))[0].length},Vn=function(e){return e.match(new RegExp("^"+re.B_CHARS+"*"))[0].length},Mn=function(e){return e.match(new RegExp("^"+re.C_CHARS+"*"))[0]};function Xt(t,e){var i=e?re.A_CHARS:re.B_CHARS,n=t.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+"\xCC"+An(t.substring(n[1].length));var r=t.match(new RegExp("^"+i+"+"))[0];return r.length===t.length?t:r+String.fromCharCode(e?205:206)+Xt(t.substring(r.length),!e)}function An(t){var e=Mn(t),i=e.length;if(i===t.length)return t;t=t.substring(i);var n=Rn(t)>=Vn(t);return e+String.fromCharCode(n?206:205)+Xt(t,n)}Wt.default=function(t){var e=void 0,i=Mn(t).length;if(i>=2)e=re.C_START_CHAR+An(t);else{var n=Rn(t)>Vn(t);e=(n?re.A_START_CHAR:re.B_START_CHAR)+Xt(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,l){return"\xCB"+l})}});var Nn=g(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});var Wo=qe(),$o=Bn(Wo),Qo=Fn(),Yo=Bn(Qo);function Bn(t){return t&&t.__esModule?t:{default:t}}function Ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Jo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zo=function(t){Jo(e,t);function e(i,n){if(Ko(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var r=$t(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Yo.default)(i),n));else var r=$t(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return $t(r)}return e}($o.default);Qt.default=Zo});var qn=g(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});var ea=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ta=qe(),ia=na(ta),Ln=Te();function na(t){return t&&t.__esModule?t:{default:t}}function ra(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var la=function(t){aa(e,t);function e(i,n){return ra(this,e),oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Ln.A_START_CHAR+i,n))}return ea(e,[{key:"valid",value:function(){return new RegExp("^"+Ln.A_CHARS+"+$").test(this.data)}}]),e}(ia.default);Yt.default=la});var Gn=g(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});var ua=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ca=qe(),sa=pa(ca),jn=Te();function pa(t){return t&&t.__esModule?t:{default:t}}function fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function da(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ma(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _a=function(t){ma(e,t);function e(i,n){return fa(this,e),da(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,jn.B_START_CHAR+i,n))}return ua(e,[{key:"valid",value:function(){return new RegExp("^"+jn.B_CHARS+"+$").test(this.data)}}]),e}(sa.default);Kt.default=_a});var zn=g(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var ha=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ga=qe(),va=ya(ga),Hn=Te();function ya(t){return t&&t.__esModule?t:{default:t}}function ba(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ca=function(t){Sa(e,t);function e(i,n){return ba(this,e),wa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Hn.C_START_CHAR+i,n))}return ha(e,[{key:"valid",value:function(){return new RegExp("^"+Hn.C_CHARS+"+$").test(this.data)}}]),e}(va.default);Jt.default=Ca});var Un=g(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.CODE128C=Q.CODE128B=Q.CODE128A=Q.CODE128=void 0;var Ea=Nn(),xa=Et(Ea),Oa=qn(),ka=Et(Oa),Ta=Gn(),Ia=Et(Ta),Da=zn(),Pa=Et(Da);function Et(t){return t&&t.__esModule?t:{default:t}}Q.CODE128=xa.default;Q.CODE128A=ka.default;Q.CODE128B=Ia.default;Q.CODE128C=Pa.default});var Ie=g(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});var Ff=oe.SIDE_BIN="101",Bf=oe.MIDDLE_BIN="01010",Nf=oe.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Lf=oe.EAN2_STRUCTURE=["LL","LG","GL","GG"],qf=oe.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],jf=oe.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var De=g(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var Ra=Ie(),Va=function(e,i,n){var r=e.split("").map(function(u,f){return Ra.BINARIES[i[f]]}).map(function(u,f){return u?u[e[f]]:""});if(n){var l=e.length-1;r=r.map(function(u,f){return f<l?u+n:u})}return r.join("")};Zt.default=Va});var ti=g(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var Ma=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Pe=Ie(),Aa=De(),Xn=Wn(Aa),Fa=M(),Ba=Wn(Fa);function Wn(t){return t&&t.__esModule?t:{default:t}}function Na(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function La(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ja=function(t){qa(e,t);function e(i,n){Na(this,e);var r=La(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return Ma(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,r){return this.text.substr(n,r)}},{key:"leftEncode",value:function(n,r){return(0,Xn.default)(n,r)}},{key:"rightText",value:function(n,r){return this.text.substr(n,r)}},{key:"rightEncode",value:function(n,r){return(0,Xn.default)(n,r)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:Pe.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:n},{data:Pe.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:n},{data:Pe.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){var n=[Pe.SIDE_BIN,this.leftEncode(),Pe.MIDDLE_BIN,this.rightEncode(),Pe.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),e}(Ba.default);ei.default=ja});var Qn=g(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});var Ga=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),je=function t(e,i,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(r===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,i,n)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(n)}},Ha=Ie(),za=ti(),Ua=Xa(za);function Xa(t){return t&&t.__esModule?t:{default:t}}function Wa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $n=function(e){var i=e.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,r,l){return l%2?n+r*3:n+r},0);return(10-i%10)%10},Ya=function(t){Qa(e,t);function e(i,n){Wa(this,e),i.search(/^[0-9]{12}$/)!==-1&&(i+=$n(i));var r=$a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.lastChar=n.lastChar,r}return Ga(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===$n(this.data)}},{key:"leftText",value:function(){return je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),r=Ha.EAN13_STRUCTURE[this.data[0]];return je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,r)}},{key:"rightText",value:function(){return je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=je(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(Ua.default);ii.default=Ya});var Kn=g(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});var Ka=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),xt=function t(e,i,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(r===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,i,n)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(n)}},Ja=ti(),Za=el(Ja);function el(t){return t&&t.__esModule?t:{default:t}}function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function il(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yn=function(e){var i=e.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,r,l){return l%2?n+r:n+r*3},0);return(10-i%10)%10},rl=function(t){nl(e,t);function e(i,n){return tl(this,e),i.search(/^[0-9]{7}$/)!==-1&&(i+=Yn(i)),il(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Ka(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Yn(this.data)}},{key:"leftText",value:function(){return xt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return xt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return xt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return xt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),e}(Za.default);ni.default=rl});var Zn=g(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var ol=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),al=Ie(),ll=De(),ul=Jn(ll),cl=M(),sl=Jn(cl);function Jn(t){return t&&t.__esModule?t:{default:t}}function pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ml=function(e){var i=e.split("").map(function(n){return+n}).reduce(function(n,r,l){return l%2?n+r*9:n+r*3},0);return i%10},_l=function(t){dl(e,t);function e(i,n){return pl(this,e),fl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return ol(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=al.EAN5_STRUCTURE[ml(this.data)];return{data:"1011"+(0,ul.default)(this.data,n,"01"),text:this.text}}}]),e}(sl.default);ri.default=_l});var tr=g(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});var hl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),gl=Ie(),vl=De(),yl=er(vl),bl=M(),wl=er(bl);function er(t){return t&&t.__esModule?t:{default:t}}function Sl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function El(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xl=function(t){El(e,t);function e(i,n){return Sl(this,e),Cl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return hl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=gl.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,yl.default)(this.data,n,"01"),text:this.text}}}]),e}(wl.default);oi.default=xl});var li=g(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});var Ol=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Ot.checksum=ai;var kl=De(),Re=ir(kl),Tl=M(),Il=ir(Tl);function ir(t){return t&&t.__esModule?t:{default:t}}function Dl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Rl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vl=function(t){Rl(e,t);function e(i,n){Dl(this,e),i.search(/^[0-9]{11}$/)!==-1&&(i+=ai(i));var r=Pl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.displayValue=n.displayValue,n.fontSize>n.width*10?r.fontSize=n.width*10:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return Ol(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==ai(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,Re.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,Re.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,Re.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,Re.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,Re.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,Re.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),e}(Il.default);function ai(t){var e=0,i;for(i=1;i<11;i+=2)e+=parseInt(t[i]);for(i=0;i<11;i+=2)e+=parseInt(t[i])*3;return(10-e%10)%10}Ot.default=Vl});var or=g(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var Ml=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Al=De(),Fl=rr(Al),Bl=M(),Nl=rr(Bl),Ll=li();function rr(t){return t&&t.__esModule?t:{default:t}}function ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ui(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gl=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Hl=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],zl=function(t){jl(e,t);function e(i,n){ql(this,e);var r=ui(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));if(r.isValid=!1,i.search(/^[0-9]{6}$/)!==-1)r.middleDigits=i,r.upcA=nr(i,"0"),r.text=n.text||""+r.upcA[0]+i+r.upcA[r.upcA.length-1],r.isValid=!0;else if(i.search(/^[01][0-9]{7}$/)!==-1)if(r.middleDigits=i.substring(1,i.length-1),r.upcA=nr(r.middleDigits,i[0]),r.upcA[r.upcA.length-1]===i[i.length-1])r.isValid=!0;else return ui(r);else return ui(r);return r.displayValue=n.displayValue,n.fontSize>n.width*10?r.fontSize=n.width*10:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return Ml(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],r=this.upcA[this.upcA.length-1],l=Hl[parseInt(r)][parseInt(n)];return(0,Fl.default)(this.middleDigits,l)}}]),e}(Nl.default);function nr(t,e){for(var i=parseInt(t[t.length-1]),n=Gl[i],r="",l=0,u=0;u<n.length;u++){var f=n[u];f==="X"?r+=t[l++]:r+=f}return r=""+e+r,""+r+(0,Ll.checksum)(r)}ci.default=zl});var ar=g(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.UPCE=A.UPC=A.EAN2=A.EAN5=A.EAN8=A.EAN13=void 0;var Ul=Qn(),Xl=Ve(Ul),Wl=Kn(),$l=Ve(Wl),Ql=Zn(),Yl=Ve(Ql),Kl=tr(),Jl=Ve(Kl),Zl=li(),eu=Ve(Zl),tu=or(),iu=Ve(tu);function Ve(t){return t&&t.__esModule?t:{default:t}}A.EAN13=Xl.default;A.EAN8=$l.default;A.EAN5=Yl.default;A.EAN2=Jl.default;A.UPC=eu.default;A.UPCE=iu.default});var lr=g(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var Jf=Ge.START_BIN="1010",Zf=Ge.END_BIN="11101",ed=Ge.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var pi=g(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var nu=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),kt=lr(),ru=M(),ou=au(ru);function au(t){return t&&t.__esModule?t:{default:t}}function lu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var su=function(t){cu(e,t);function e(){return lu(this,e),uu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return nu(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,r=this.data.match(/.{2}/g).map(function(l){return n.encodePair(l)}).join("");return{data:kt.START_BIN+r+kt.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var r=kt.BINARIES[n[1]];return kt.BINARIES[n[0]].split("").map(function(l,u){return(l==="1"?"111":"1")+(r[u]==="1"?"000":"0")}).join("")}}]),e}(ou.default);si.default=su});var cr=g(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});var pu=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),fu=pi(),du=mu(fu);function mu(t){return t&&t.__esModule?t:{default:t}}function _u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ur=function(e){var i=e.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,r,l){return n+r*(3-l%2*2)},0);return Math.ceil(i/10)*10-i},vu=function(t){gu(e,t);function e(i,n){return _u(this,e),i.search(/^[0-9]{13}$/)!==-1&&(i+=ur(i)),hu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return pu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===ur(this.data)}}]),e}(du.default);fi.default=vu});var pr=g(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.ITF14=Me.ITF=void 0;var yu=pi(),bu=sr(yu),wu=cr(),Su=sr(wu);function sr(t){return t&&t.__esModule?t:{default:t}}Me.ITF=bu.default;Me.ITF14=Su.default});var Ae=g(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var Cu=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Eu=M(),xu=Ou(Eu);function Ou(t){return t&&t.__esModule?t:{default:t}}function ku(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Iu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Du=function(t){Iu(e,t);function e(i,n){return ku(this,e),Tu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Cu(e,[{key:"encode",value:function(){for(var n="110",r=0;r<this.data.length;r++){var l=parseInt(this.data[r]),u=l.toString(2);u=Pu(u,4-u.length);for(var f=0;f<u.length;f++)n+=u[f]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(xu.default);function Pu(t,e){for(var i=0;i<e;i++)t="0"+t;return t}di.default=Du});var He=g(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.mod10=Ru;Tt.mod11=Vu;function Ru(t){for(var e=0,i=0;i<t.length;i++){var n=parseInt(t[i]);(i+t.length)%2===0?e+=n:e+=n*2%10+Math.floor(n*2/10)}return(10-e%10)%10}function Vu(t){for(var e=0,i=[2,3,4,5,6,7],n=0;n<t.length;n++){var r=parseInt(t[t.length-1-n]);e+=i[n%i.length]*r}return(11-e%11)%11}});var fr=g(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var Mu=Ae(),Au=Bu(Mu),Fu=He();function Bu(t){return t&&t.__esModule?t:{default:t}}function Nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ju=function(t){qu(e,t);function e(i,n){return Nu(this,e),Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,Fu.mod10)(i),n))}return e}(Au.default);mi.default=ju});var dr=g(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var Gu=Ae(),Hu=Uu(Gu),zu=He();function Uu(t){return t&&t.__esModule?t:{default:t}}function Xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $u(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qu=function(t){$u(e,t);function e(i,n){return Xu(this,e),Wu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,zu.mod11)(i),n))}return e}(Hu.default);_i.default=Qu});var _r=g(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});var Yu=Ae(),Ku=Ju(Yu),mr=He();function Ju(t){return t&&t.__esModule?t:{default:t}}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ec(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ic=function(t){tc(e,t);function e(i,n){return Zu(this,e),i+=(0,mr.mod10)(i),i+=(0,mr.mod10)(i),ec(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(Ku.default);hi.default=ic});var gr=g(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var nc=Ae(),rc=oc(nc),hr=He();function oc(t){return t&&t.__esModule?t:{default:t}}function ac(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cc=function(t){uc(e,t);function e(i,n){return ac(this,e),i+=(0,hr.mod11)(i),i+=(0,hr.mod10)(i),lc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(rc.default);gi.default=cc});var vr=g(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.MSI1110=L.MSI1010=L.MSI11=L.MSI10=L.MSI=void 0;var sc=Ae(),pc=ze(sc),fc=fr(),dc=ze(fc),mc=dr(),_c=ze(mc),hc=_r(),gc=ze(hc),vc=gr(),yc=ze(vc);function ze(t){return t&&t.__esModule?t:{default:t}}L.MSI=pc.default;L.MSI10=dc.default;L.MSI11=_c.default;L.MSI1010=gc.default;L.MSI1110=yc.default});var yr=g(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.pharmacode=void 0;var bc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),wc=M(),Sc=Cc(wc);function Cc(t){return t&&t.__esModule?t:{default:t}}function Ec(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Oc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kc=function(t){Oc(e,t);function e(i,n){Ec(this,e);var r=xc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.number=parseInt(i,10),r}return bc(e,[{key:"encode",value:function(){for(var n=this.number,r="";!isNaN(n)&&n!=0;)n%2===0?(r="11100"+r,n=(n-2)/2):(r="100"+r,n=(n-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(Sc.default);It.pharmacode=kc});var br=g(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.codabar=void 0;var Tc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ic=M(),Dc=Pc(Ic);function Pc(t){return t&&t.__esModule?t:{default:t}}function Rc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ac=function(t){Mc(e,t);function e(i,n){Rc(this,e),i.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(i="A"+i+"A");var r=Vc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return Tc(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],r=this.getEncodings(),l=0;l<this.data.length;l++)n.push(r[this.data.charAt(l)]),l!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(Dc.default);Dt.codabar=Ac});var wr=g(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});var md=Ue.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xFF"],_d=Ue.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],hd=Ue.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7F":["(%)","T"]}});var yi=g(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var Fc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Pt=wr(),Bc=M(),Nc=Lc(Bc);function Lc(t){return t&&t.__esModule?t:{default:t}}function qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hc=function(t){Gc(e,t);function e(i,n){return qc(this,e),jc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Fc(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(f){return Pt.MULTI_SYMBOLS[f]||f}),r=n.map(function(f){return e.getEncoding(f)}).join(""),l=e.checksum(n,20),u=e.checksum(n.concat(l),15);return{text:this.text,data:e.getEncoding("\xFF")+r+e.getEncoding(l)+e.getEncoding(u)+e.getEncoding("\xFF")+"1"}}}],[{key:"getEncoding",value:function(n){return Pt.BINARIES[e.symbolValue(n)]}},{key:"getSymbol",value:function(n){return Pt.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return Pt.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,r){var l=n.slice().reverse().reduce(function(u,f,F){var J=F%r+1;return u+e.symbolValue(f)*J},0);return e.getSymbol(l%47)}}]),e}(Nc.default);vi.default=Hc});var Sr=g(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});var zc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Uc=yi(),Xc=Wc(Uc);function Wc(t){return t&&t.__esModule?t:{default:t}}function $c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kc=function(t){Yc(e,t);function e(i,n){return $c(this,e),Qc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return zc(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Xc.default);bi.default=Kc});var Er=g(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.CODE93FullASCII=Fe.CODE93=void 0;var Jc=yi(),Zc=Cr(Jc),es=Sr(),ts=Cr(es);function Cr(t){return t&&t.__esModule?t:{default:t}}Fe.CODE93=Zc.default;Fe.CODE93FullASCII=ts.default});var xr=g(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.GenericBarcode=void 0;var is=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ns=M(),rs=os(ns);function os(t){return t&&t.__esModule?t:{default:t}}function as(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function us(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cs=function(t){us(e,t);function e(i,n){return as(this,e),ls(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return is(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(rs.default);Rt.GenericBarcode=cs});var Tr=g(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});var ss=Tn(),Vt=Un(),Be=ar(),Or=pr(),Xe=vr(),ps=yr(),fs=br(),kr=Er(),ds=xr();wi.default={CODE39:ss.CODE39,CODE128:Vt.CODE128,CODE128A:Vt.CODE128A,CODE128B:Vt.CODE128B,CODE128C:Vt.CODE128C,EAN13:Be.EAN13,EAN8:Be.EAN8,EAN5:Be.EAN5,EAN2:Be.EAN2,UPC:Be.UPC,UPCE:Be.UPCE,ITF14:Or.ITF14,ITF:Or.ITF,MSI:Xe.MSI,MSI10:Xe.MSI10,MSI11:Xe.MSI11,MSI1010:Xe.MSI1010,MSI1110:Xe.MSI1110,pharmacode:ps.pharmacode,codabar:fs.codabar,CODE93:kr.CODE93,CODE93FullASCII:kr.CODE93FullASCII,GenericBarcode:ds.GenericBarcode}});var We=g(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var ms=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};Si.default=function(t,e){return ms({},t,e)}});var Ir=g(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.default=_s;function _s(t){var e=[];function i(n){if(Array.isArray(n))for(var r=0;r<n.length;r++)i(n[r]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}return i(t),e}});var Dr=g(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.default=hs;function hs(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var Oi=g(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.default=gs;function gs(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in e)e.hasOwnProperty(i)&&(i=e[i],typeof t[i]=="string"&&(t[i]=parseInt(t[i],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var Ti=g(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});var vs={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};ki.default=vs});var Vr=g(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var ys=Oi(),bs=Rr(ys),ws=Ti(),Pr=Rr(ws);function Rr(t){return t&&t.__esModule?t:{default:t}}function Ss(t){var e={};for(var i in Pr.default)Pr.default.hasOwnProperty(i)&&(t.hasAttribute("jsbarcode-"+i.toLowerCase())&&(e[i]=t.getAttribute("jsbarcode-"+i.toLowerCase())),t.hasAttribute("data-"+i.toLowerCase())&&(e[i]=t.getAttribute("data-"+i.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,bs.default)(e),e}Ii.default=Ss});var Di=g(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.getTotalWidthOfEncodings=q.calculateEncodingAttributes=q.getBarcodePadding=q.getEncodingHeight=q.getMaximumHeightOfEncodings=void 0;var Cs=We(),Es=xs(Cs);function xs(t){return t&&t.__esModule?t:{default:t}}function Mr(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Ar(t,e,i){if(i.displayValue&&e<t){if(i.textAlign=="center")return Math.floor((t-e)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(t-e)}return 0}function Os(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],l=(0,Es.default)(e,r.options),u;l.displayValue?u=Is(r.text,l,i):u=0;var f=r.data.length*l.width;r.width=Math.ceil(Math.max(u,f)),r.height=Mr(r,l),r.barcodePadding=Ar(u,f,l)}}function ks(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].width;return e}function Ts(t){for(var e=0,i=0;i<t.length;i++)t[i].height>e&&(e=t[i].height);return e}function Is(t,e,i){var n;if(i)n=i;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var r=n.measureText(t);if(!r)return 0;var l=r.width;return l}q.getMaximumHeightOfEncodings=Ts;q.getEncodingHeight=Mr;q.getBarcodePadding=Ar;q.calculateEncodingAttributes=Os;q.getTotalWidthOfEncodings=ks});var Fr=g(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});var Ds=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ps=We(),Rs=Vs(Ps),Pi=Di();function Vs(t){return t&&t.__esModule?t:{default:t}}function Ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var As=function(){function t(e,i,n){Ms(this,t),this.canvas=e,this.encodings=i,this.options=n}return Ds(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var n=(0,Rs.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(n,this.encodings[i]),this.drawCanvasText(n,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,Pi.calculateEncodingAttributes)(this.encodings,this.options,i);var n=(0,Pi.getTotalWidthOfEncodings)(this.encodings),r=(0,Pi.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,n){var r=this.canvas.getContext("2d"),l=n.data,u;i.textPosition=="top"?u=i.marginTop+i.fontSize+i.textMargin:u=i.marginTop,r.fillStyle=i.lineColor;for(var f=0;f<l.length;f++){var F=f*i.width+n.barcodePadding;l[f]==="1"?r.fillRect(F,u,i.width,i.height):l[f]&&r.fillRect(F,u,i.width,i.height*l[f])}}},{key:"drawCanvasText",value:function(i,n){var r=this.canvas.getContext("2d"),l=i.fontOptions+" "+i.fontSize+"px "+i.font;if(i.displayValue){var u,f;i.textPosition=="top"?f=i.marginTop+i.fontSize-i.textMargin:f=i.height+i.textMargin+i.marginTop+i.fontSize,r.font=l,i.textAlign=="left"||n.barcodePadding>0?(u=0,r.textAlign="left"):i.textAlign=="right"?(u=n.width-1,r.textAlign="right"):(u=n.width/2,r.textAlign="center"),r.fillText(n.text,u,f)}}},{key:"moveCanvasDrawing",value:function(i){var n=this.canvas.getContext("2d");n.translate(i.width,0)}},{key:"restoreCanvas",value:function(){var i=this.canvas.getContext("2d");i.restore()}}]),t}();Ri.default=As});var Br=g(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var Fs=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Bs=We(),Ns=Ls(Bs),Vi=Di();function Ls(t){return t&&t.__esModule?t:{default:t}}function qs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Mt="http://www.w3.org/2000/svg",js=function(){function t(e,i,n){qs(this,t),this.svg=e,this.encodings=i,this.options=n,this.document=n.xmlDocument||document}return Fs(t,[{key:"render",value:function(){var i=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var r=this.encodings[n],l=(0,Ns.default)(this.options,r.options),u=this.createGroup(i,l.marginTop,this.svg);this.setGroupOptions(u,l),this.drawSvgBarcode(u,l,r),this.drawSVGText(u,l,r),i+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Vi.calculateEncodingAttributes)(this.encodings,this.options);var i=(0,Vi.getTotalWidthOfEncodings)(this.encodings),n=(0,Vi.getMaximumHeightOfEncodings)(this.encodings),r=i+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,n),this.options.background&&this.drawRect(0,0,r,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(i,n,r){var l=r.data,u;n.textPosition=="top"?u=n.fontSize+n.textMargin:u=0;for(var f=0,F=0,J=0;J<l.length;J++)F=J*n.width+r.barcodePadding,l[J]==="1"?f++:f>0&&(this.drawRect(F-n.width*f,u,n.width*f,n.height,i),f=0);f>0&&this.drawRect(F-n.width*(f-1),u,n.width*f,n.height,i)}},{key:"drawSVGText",value:function(i,n,r){var l=this.document.createElementNS(Mt,"text");if(n.displayValue){var u,f;l.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?f=n.fontSize-n.textMargin:f=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||r.barcodePadding>0?(u=0,l.setAttribute("text-anchor","start")):n.textAlign=="right"?(u=r.width-1,l.setAttribute("text-anchor","end")):(u=r.width/2,l.setAttribute("text-anchor","middle")),l.setAttribute("x",u),l.setAttribute("y",f),l.appendChild(this.document.createTextNode(r.text)),i.appendChild(l)}}},{key:"setSvgAttributes",value:function(i,n){var r=this.svg;r.setAttribute("width",i+"px"),r.setAttribute("height",n+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+i+" "+n),r.setAttribute("xmlns",Mt),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(i,n,r){var l=this.document.createElementNS(Mt,"g");return l.setAttribute("transform","translate("+i+", "+n+")"),r.appendChild(l),l}},{key:"setGroupOptions",value:function(i,n){i.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(i,n,r,l,u){var f=this.document.createElementNS(Mt,"rect");return f.setAttribute("x",i),f.setAttribute("y",n),f.setAttribute("width",r),f.setAttribute("height",l),u.appendChild(f),f}}]),t}();Mi.default=js});var Nr=g(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});var Gs=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function Hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var zs=function(){function t(e,i,n){Hs(this,t),this.object=e,this.encodings=i,this.options=n}return Gs(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Ai.default=zs});var Lr=g(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var Us=Fr(),Xs=Fi(Us),Ws=Br(),$s=Fi(Ws),Qs=Nr(),Ys=Fi(Qs);function Fi(t){return t&&t.__esModule?t:{default:t}}Bi.default={CanvasRenderer:Xs.default,SVGRenderer:$s.default,ObjectRenderer:Ys.default}});var ji=g($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});function Ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Li(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ks=function(t){qi(e,t);function e(i,n){Ni(this,e);var r=Li(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidInputException",r.symbology=i,r.input=n,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return e}(Error),Js=function(t){qi(e,t);function e(){Ni(this,e);var i=Li(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return e}(Error),Zs=function(t){qi(e,t);function e(){Ni(this,e);var i=Li(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return e}(Error);$e.InvalidInputException=Ks;$e.InvalidElementException=Js;$e.NoElementException=Zs});var jr=g(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0=Vr(),Gi=qr(t0),i0=Lr(),Qe=qr(i0),n0=ji();function qr(t){return t&&t.__esModule?t:{default:t}}function Hi(t){if(typeof t=="string")return r0(t);if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(Hi(t[i]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return o0(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Gi.default)(t),renderer:Qe.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Gi.default)(t),renderer:Qe.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Qe.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":e0(t))==="object"&&!t.nodeName)return{element:t,renderer:Qe.default.ObjectRenderer};throw new n0.InvalidElementException}}function r0(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var i=[],n=0;n<e.length;n++)i.push(Hi(e[n]));return i}}function o0(t){var e=document.createElement("canvas");return{element:e,options:(0,Gi.default)(t),renderer:Qe.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}zi.default=Hi});var Gr=g(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var a0=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function l0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u0=function(){function t(e){l0(this,t),this.api=e}return a0(t,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var n=i.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(r){return this.handleCatch(r),this.api}}}]),t}();Ui.default=u0});var Yr=g((Bd,Qr)=>{"use strict";var c0=Tr(),se=ae(c0),s0=We(),Ye=ae(s0),p0=Ir(),zr=ae(p0),f0=Dr(),Hr=ae(f0),d0=jr(),m0=ae(d0),_0=Oi(),h0=ae(_0),g0=Gr(),v0=ae(g0),Ur=ji(),y0=Ti(),Xr=ae(y0);function ae(t){return t&&t.__esModule?t:{default:t}}var K=function(){},At=function(e,i,n){var r=new K;if(typeof e>"u")throw Error("No element to render on was provided.");return r._renderProperties=(0,m0.default)(e),r._encodings=[],r._options=Xr.default,r._errorHandler=new v0.default(r),typeof i<"u"&&(n=n||{},n.format||(n.format=$r()),r.options(n)[n.format](i,n).render()),r};At.getModule=function(t){return se.default[t]};for(Xi in se.default)se.default.hasOwnProperty(Xi)&&b0(se.default,Xi);var Xi;function b0(t,e){K.prototype[e]=K.prototype[e.toUpperCase()]=K.prototype[e.toLowerCase()]=function(i,n){var r=this;return r._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var l=(0,Ye.default)(r._options,n);l=(0,h0.default)(l);var u=t[e],f=Wr(i,u,l);return r._encodings.push(f),r})}}function Wr(t,e,i){t=""+t;var n=new e(t,i);if(!n.valid())throw new Ur.InvalidInputException(n.constructor.name,t);var r=n.encode();r=(0,zr.default)(r);for(var l=0;l<r.length;l++)r[l].options=(0,Ye.default)(i,r[l].options);return r}function $r(){return se.default.CODE128?"CODE128":Object.keys(se.default)[0]}K.prototype.options=function(t){return this._options=(0,Ye.default)(this._options,t),this};K.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};K.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var i=(0,Ye.default)(this._options,t.options);i.format=="auto"&&(i.format=$r()),this._errorHandler.wrapBarcodeCall(function(){var n=i.value,r=se.default[i.format.toUpperCase()],l=Wr(n,r,i);Wi(t,l,i)})}}};K.prototype.render=function(){if(!this._renderProperties)throw new Ur.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Wi(this._renderProperties[t],this._encodings,this._options);else Wi(this._renderProperties,this._encodings,this._options);return this};K.prototype._defaults=Xr.default;function Wi(t,e,i){e=(0,zr.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,Ye.default)(i,e[n].options),(0,Hr.default)(e[n].options);(0,Hr.default)(i);var r=t.renderer,l=new r(t.element,e,i);l.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=At);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var i=[];return jQuery(this).each(function(){i.push(this)}),At(i,t,e)});Qr.exports=At});var po=()=>({width:"80vw"}),fo=()=>({"1199px":"90vw","575px":"95vw"}),mo=()=>[10,15,50,100],_o=()=>["product_name","barcode"];function ho(t,e){t&1&&(a(0,"tr")(1,"th"),c(2,"Transaction #"),o(),a(3,"th"),c(4,"Datetime"),o(),a(5,"th"),c(6,"Type"),o(),a(7,"th"),c(8,"Quantity"),o(),a(9,"th"),c(10,"Balance"),o(),a(11,"th"),c(12,"Expiry Date"),o()())}function go(t,e){if(t&1&&(a(0,"tr",8)(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),v(6,"p-tag",9),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),o()()),t&2){let i=e.$implicit,n=d(2);p("pSelectableRow",i),s(2),w(i.transaction_notes||"---"),s(2),w(i.transaction_datetime),s(2),p("value",i.transaction_type)("severity",n.getSeverity(i.transaction_type)),s(2),w(i.quantity),s(2),w(i.balance),s(2),w(i.expiry_date||"---")}}function vo(t,e){t&1&&(a(0,"tr")(1,"td",10),c(2,"No items yet!"),o()())}function yo(t,e){if(t&1&&(a(0,"p-table",4,0),y(2,ho,13,0,"ng-template",5)(3,go,13,8,"ng-template",6)(4,vo,3,0,"ng-template",7),o()),t&2){let i=d();p("value",i.stockHistory())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",S(8,mo))("alwaysShowPaginator",!0)("globalFilterFields",S(9,_o))("filterDelay",0)}}function bo(t,e){if(t&1){let i=b();a(0,"p-button",11),h("onClick",function(){m(i);let r=d();return _(r.closeDialog())}),o()}}var St=(()=>{class t{constructor(){this.visible=!1,this.onClose=new Z,this.stockService=C(W),this.stockHistory=this.stockService.stockHistory}closeDialog(){this.visible=!1,this.onClose.emit()}fetchProductHistory(){this.stockService.fetchStockHistory(this.product_id)}getSeverity(i){switch(i){case"SALE":return"danger";case"SUPPLY":return"success";case"RETURN":return"success";case"DELETE":return"success";case"DISPOSE":return"danger";case"ADD":return"success";case"REMOVE":return"danger";default:return"contrast"}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["stock-transactions"]],inputs:{product_id:"product_id",visible:"visible"},outputs:{onClose:"onClose"},standalone:!0,features:[et],decls:3,vars:10,consts:[["dt2",""],["position","top","header","Transaction History","styleClass","p-fluid",3,"visibleChange","onHide","onShow","modal","visible","breakpoints","closeOnEscape","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],["styleClass","p-datatable-sm","dataKey","transaction_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSelectableRow"],[3,"value","severity"],["colspan","7"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"]],template:function(n,r){n&1&&(a(0,"p-dialog",1),O("visibleChange",function(u){return x(r.visible,u)||(r.visible=u),u}),h("onHide",function(){return r.closeDialog()})("onShow",function(){return r.fetchProductHistory()}),y(1,yo,5,10,"ng-template",2)(2,bo,1,0,"ng-template",3),o()),n&2&&(D(S(8,po)),p("modal",!0),E("visible",r.visible),p("breakpoints",S(9,fo))("closeOnEscape",!1)("closable",!0)("maximizable",!0))},dependencies:[we,V,P,be,H,_t,U,X,gn,hn]})}}return t})();var Jr=so(Yr());var C0=["barcodePreview"],E0=()=>({width:"55vw"}),x0=()=>({"1199px":"85vw","575px":"90vw"});function O0(t,e){if(t&1&&(a(0,"h3",27),c(1),o()),t&2){let i=d(2);s(),I(" ",i.f.shortName.value," ")}}function k0(t,e){if(t&1&&(a(0,"h3",28),c(1),j(2,"currency"),o()),t&2){let i=d(2);s(),I(" ",tt(2,1,i.f.price.value)," ")}}function T0(t,e){if(t&1){let i=b();a(0,"form",4),h("ngSubmit",function(){m(i);let r=d();return _(r.submitPrint())}),a(1,"div",5)(2,"div",6)(3,"label",7),c(4,"Barcode"),o(),v(5,"input",8),o(),a(6,"div",6)(7,"label",9),c(8,"Short Name"),o(),v(9,"input",10),o(),a(10,"div",6)(11,"label",11),c(12,"Price"),o(),v(13,"p-inputNumber",12),o()(),a(14,"div",5)(15,"div",6)(16,"div",13),v(17,"p-inputSwitch",14),a(18,"label",15),c(19,"Display Barcode Value"),o()()(),a(20,"div",6)(21,"div",16),v(22,"p-inputSwitch",17),a(23,"label",18),c(24,"Show Name"),o()()(),a(25,"div",6)(26,"div",19),v(27,"p-inputSwitch",20),a(28,"label",21),c(29,"Show Price"),o()()()()(),a(30,"div",22)(31,"div",23)(32,"p-card")(33,"div",24),Ki(),v(34,"svg",null,0),o(),y(36,O0,2,1,"h3",25)(37,k0,3,3,"h3",26),o()()()}if(t&2){let i=d();p("formGroup",i.printForm),s(36),p("ngIf",i.f.showName.value),s(),p("ngIf",i.f.showPrice.value)}}function I0(t,e){if(t&1){let i=b();a(0,"p-button",29),h("onClick",function(){m(i);let r=d();return _(r.closePrintDialog())}),o(),a(1,"p-button",30),h("onClick",function(){m(i);let r=d();return _(r.submitPrint())}),o()}}var Nt=(()=>{class t{constructor(){this.printService=C(vt),this.fb=C(ve),this.visible=!1,this.printData=null,this.visibleChange=new Z,this.printForm=this.fb.group({barcode:[null,R.required],displayBarcodeValue:[!0,R.required],showName:[!1,R.required],shortName:[null],showPrice:[!0,R.required],price:[null]})}ngOnInit(){this.printForm.valueChanges.subscribe(()=>{this.updateBarcode()})}ngOnChanges(i){i.visible&&this.visible&&(this.printForm.patchValue(this.printData),setTimeout(()=>{this.updateBarcode()},10))}updateBarcode(){let i=this.printForm.get("barcode")?.value||"",n=this.printForm.get("displayBarcodeValue")?.value;this.barcodePreview?.nativeElement&&(0,Jr.default)(this.barcodePreview.nativeElement,i||" ",{format:"CODE128",lineColor:"#000000",fontSize:14,displayValue:n,height:60,width:1.5})}get f(){return this.printForm.controls}select(i){i.select()}closePrintDialog(){this.visibleChange.emit(!1)}submitPrint(){if(this.printForm.valid){let i={printerName:"XP-365B",barcode:this.f.barcode.value,displayBarcodeValue:this.f.displayBarcodeValue.value,shortName:this.f.showName.value?this.f.shortName.value:null,price:this.f.showPrice.value?this.f.price.value:null};this.printService.labelPrint(i),this.closePrintDialog()}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["label-print"]],viewQuery:function(n,r){if(n&1&&le(C0,5),n&2){let l;ue(l=ce())&&(r.barcodePreview=l.first)}},inputs:{visible:"visible",printData:"printData"},outputs:{visibleChange:"visibleChange"},standalone:!0,features:[Ze,et],decls:3,vars:9,consts:[["barcodePreview",""],["position","top","header","Label Print Form","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-4"],["for","barcode"],["autoSelect","","id","barcode","placeholder","Barcode","pInputText","","spellcheck","false","formControlName","barcode","required","",1,"w-full","p-inputtext-sm"],["for","shortName"],["autoSelect","","id","shortName","type","text","pInputText","","formControlName","shortName","spellcheck","false",1,"w-full","p-inputtext-sm"],["for","price"],["autoSelect","","id","price","styleClass","w-full","formControlName","price","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full"],[1,"flex","align-items-center","justify-content-start","gap-2"],["id","displayBarcodeValue","formControlName","displayBarcodeValue"],["for","displayBarcodeValue"],[1,"flex","align-items-center","justify-content-center","gap-2"],["id","showName","formControlName","showName"],["for","showName"],[1,"flex","align-items-center","justify-content-end","gap-2"],["id","showPrice","formControlName","showPrice"],["for","showPrice"],[1,"grid","mb-2"],[1,"col-4","col-offset-4"],[1,"flex","justify-content-center"],["class","text-center mt-0 mb-1 font-bold text-black",4,"ngIf"],["class","text-center m-0 font-bold text-black",4,"ngIf"],[1,"text-center","mt-0","mb-1","font-bold","text-black"],[1,"text-center","m-0","font-bold","text-black"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Print","type","submit","icon","pi pi-print","severity","contrast","size","small",3,"onClick"]],template:function(n,r){n&1&&(a(0,"p-dialog",1),O("visibleChange",function(u){return x(r.visible,u)||(r.visible=u),u}),h("onHide",function(){return r.closePrintDialog()}),y(1,T0,38,3,"ng-template",2)(2,I0,2,0,"ng-template",3),o()),n&2&&(D(S(7,E0)),E("visible",r.visible),p("modal",!0)("breakpoints",S(8,x0))("closable",!1)("maximizable",!0))},dependencies:[lt,te,ge,G,ee,on,ie,ne,it,_e,he,we,V,P,be,H,st,z,ft,Ce,pt,ht,ct,ut,bt,yt,vn]})}}return t})();var P0=()=>({width:"95vw",height:"75vh"}),R0=()=>[10,15,50,100],V0=()=>["product_name","quantity"];function M0(t,e){if(t&1){let i=b();a(0,"span",10),v(1,"i",11),a(2,"input",12,1),h("input",function(r){m(i),d();let l=Y(1);return _(l.filterGlobal(r.target.value,"contains"))}),o()()}if(t&2){d();let i=Y(1);s(2),p("value",i.filters.global==null?null:i.filters.global.value)}}function A0(t,e){t&1&&(a(0,"tr")(1,"th",13),c(2,"Description"),o(),a(3,"th",14),c(4,"Category"),o(),a(5,"th",15),c(6,"Qty"),o(),a(7,"th",15),c(8,"Threshold"),o()())}function F0(t,e){if(t&1&&(a(0,"tr",16)(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o()()),t&2){let i=e.$implicit;p("pSelectableRow",i),s(2),w(i.product_name),s(2),w(i.category_name||"---"),s(2),w(i.quantity),s(2),w(i.low_stock_threshold)}}function B0(t,e){t&1&&(a(0,"tr")(1,"td",17),c(2,"No items yet!"),o()())}function N0(t,e){if(t&1){let i=b();a(0,"p-table",5,0),O("selectionChange",function(r){m(i);let l=d();return x(l.selectedItem,r)||(l.selectedItem=r),_(r)}),y(2,M0,4,1,"ng-template",6)(3,A0,9,0,"ng-template",7)(4,F0,9,5,"ng-template",8)(5,B0,3,0,"ng-template",9),o()}if(t&2){let i=d();p("value",i.low_products),E("selection",i.selectedItem),p("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",S(9,R0))("alwaysShowPaginator",!0)("globalFilterFields",S(10,V0))("filterDelay",0)}}function L0(t,e){if(t&1){let i=b();a(0,"button",18),h("click",function(){m(i);let r=d();return _(r.closeDialog())}),o()}}var Zr=(()=>{class t{constructor(){this.visible=!1,this.low_products=[],this.visibleChange=new Z,this.stockService=C(W),this.selectedItem=null}closeDialog(){this.visible=!1,this.visibleChange.emit(!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["low-stock-dialog"]],inputs:{visible:"visible",low_products:"low_products"},outputs:{visibleChange:"visibleChange"},decls:3,vars:7,consts:[["dt2",""],["tableSearch",""],["header","Low In Stock Items","position","top",3,"visibleChange","onHide","visible","modal","closable","maximizable"],["pTemplate","body"],["pTemplate","footer"],["styleClass","p-datatable-sm","selectionMode","single","dataKey","product_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"selectionChange","value","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body","track-by","product_id"],["pTemplate","emptymessage"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm",3,"input","value"],["width","25%"],["width","15%"],["width","5%"],[3,"pSelectableRow"],["colspan","9"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary",3,"click"]],template:function(n,r){n&1&&(a(0,"p-dialog",2),O("visibleChange",function(u){return x(r.visible,u)||(r.visible=u),u}),h("onHide",function(){return r.closeDialog()}),y(1,N0,6,11,"ng-template",3)(2,L0,1,0,"ng-template",4),o()),n&2&&(D(S(6,P0)),E("visible",r.visible),p("modal",!0)("closable",!0)("maximizable",!0))},dependencies:[U,P,X,ye,V,z]})}}return t})();var j0=()=>({width:"95vw",height:"75vh"}),G0=()=>[1,2,3,4,5,6],H0=()=>[10,15,50,100],z0=()=>["product_name","barcode"],U0=t=>({"text-orange-500":t});function X0(t,e){t&1&&(a(0,"th",30),c(1," Cost "),o())}function W0(t,e){if(t&1&&(a(0,"tr")(1,"th",17),c(2,"Barcode"),o(),a(3,"th",18),c(4," Description "),v(5,"p-sortIcon",19),o(),a(6,"th",20),c(7," Exp Date "),v(8,"p-sortIcon",21),o(),a(9,"th",22),c(10," Category "),v(11,"p-sortIcon",23),o(),a(12,"th",24),c(13," Group "),v(14,"p-sortIcon",25),o(),a(15,"th",26),c(16," Qty "),v(17,"p-sortIcon",27),o(),y(18,X0,2,0,"th",28),a(19,"th",29),c(20,"Price"),o()()),t&2){let i=d(2);s(18),p("ngIf",i.userPermissions().show_cost)}}function $0(t,e){if(t&1&&(a(0,"td"),c(1),j(2,"currency"),o()),t&2){let i=d().$implicit;s(),I(" ",de(2,1,i.unit_cost_usd,"USD","symbol","1.3-3")," ")}}function Q0(t,e){if(t&1&&(a(0,"tr",31)(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td",32),c(12),o(),y(13,$0,3,6,"td",33),a(14,"td"),c(15),j(16,"currency"),o()()),t&2){let i=e.$implicit,n=d(2);p("pSelectableRow",i),s(2),w(i.barcode||"---"),s(2),w(i.product_name),s(2),I(" ",i.expiry_date," "),s(2),w(i.category_name||"---"),s(2),w(i.group_name||"---"),s(),p("ngClass",B(15,U0,i.quantity<=i.low_stock_threshold||i.quantity===0)),s(),I(" ",i.stock_management?i.quantity:"--"," "),s(),p("ngIf",n.userPermissions().show_cost),s(2),I(" ",de(16,10,i.unit_price_usd,"USD","symbol","1.3-3")," ")}}function Y0(t,e){t&1&&(a(0,"tr")(1,"th"),c(2,"Expiry Date"),o(),a(3,"th"),c(4,"Quantity"),o()())}function K0(t,e){if(t&1&&(a(0,"tr",31)(1,"td"),c(2),o(),a(3,"td"),c(4),o()()),t&2){let i=e.$implicit;p("pSelectableRow",i),s(2),w(i.expiry_date),s(2),I(" ",i.variant_quantity," ")}}function J0(t,e){t&1&&(a(0,"tr")(1,"td",37),c(2," No Variants for this product yet! "),o()())}function Z0(t,e){if(t&1&&(a(0,"tr")(1,"td",34)(2,"div",35)(3,"p-table",36,2),y(5,Y0,5,0,"ng-template",14)(6,K0,5,3,"ng-template",4)(7,J0,3,0,"ng-template",16),o()()()()),t&2){let i=e.$implicit;s(3),p("value",i.variants_records)}}function ep(t,e){t&1&&(a(0,"tr")(1,"td",38),c(2,"No items yet!"),o()())}function tp(t,e){if(t&1){let i=b();a(0,"div",6)(1,"div",7)(2,"span",8),v(3,"i",9),a(4,"input",10,0),h("input",function(r){m(i);let l=Y(9);return _(l.filterGlobal(r.target.value,"contains"))}),o()()(),a(6,"div",11)(7,"p-dropdown",12),O("ngModelChange",function(r){m(i);let l=d();return x(l.dateRange,r)||(l.dateRange=r),_(r)}),h("ngModelChange",function(){m(i);let r=d();return _(r.fetchProducts())}),o()()(),a(8,"p-table",13,1),y(10,W0,21,1,"ng-template",14)(11,Q0,17,17,"ng-template",4)(12,Z0,8,1,"ng-template",15)(13,ep,3,0,"ng-template",16),o()}if(t&2){let i=Y(9),n=d();s(4),p("value",i.filters.global==null?null:i.filters.global.value),s(3),p("options",S(14,G0)),E("ngModel",n.dateRange),p("autoOptionFocus",!1),s(),p("value",n.expiredProducts())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",S(15,H0))("alwaysShowPaginator",!0)("globalFilterFields",S(16,z0))("filterDelay",0)("loading",n.loading())("scrollable",!0)}}function ip(t,e){if(t&1){let i=b();a(0,"button",39),h("click",function(){m(i);let r=d();return _(r.closeDialog())}),o()}}var to=(()=>{class t{constructor(){this.visible=!1,this.visibleChange=new Z,this.api=C(ot),this.authService=C(at),this.userPermissions=this.authService.userPermissions,this.dateRange=fe(2),this.expiredProducts=fe([]),this.loading=fe(!1)}ngOnChanges(i){i.visible&&this.visible&&this.fetchProducts()}fetchProducts(){this.loading.set(!0),this.api.get(`stock/expired/${this.dateRange()}`).pipe(Yi(()=>{this.loading.set(!1)})).subscribe(i=>{this.expiredProducts.set(i)})}closeDialog(){this.visible=!1,this.visibleChange.emit(!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["expired-dialog"]],inputs:{visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[Ze],decls:3,vars:8,consts:[["tableSearch",""],["dt2",""],["vt",""],["position","top",3,"visibleChange","onHide","header","visible","modal","closable","maximizable"],["pTemplate","body"],["pTemplate","footer"],[1,"grid","mt-2"],[1,"col-6","md:col-3"],[1,"p-input-icon-left","w-full"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm","w-full",3,"input","value"],[1,"col-6","md:col-2"],["placeholder","Select Date Range","styleClass","p-inputtext-sm w-full",3,"ngModelChange","options","ngModel","autoOptionFocus"],["styleClass","p-datatable-sm","dataKey","product_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","65vh","sortMode","multiple",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay","loading","scrollable"],["pTemplate","header"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["width","10%"],["width","35%","pSortableColumn","product_name"],["field","product_name"],["width","10%","pSortableColumn","expiry_date"],["field","expiry_date"],["width","15%","pSortableColumn","category_name"],["field","category_name"],["width","15%","pSortableColumn","group_name"],["field","group_name"],["width","5%","pSortableColumn","quantity"],["field","quantity"],["width","7%",4,"ngIf"],["width","8%"],["width","7%"],[3,"pSelectableRow"],[3,"ngClass"],[4,"ngIf"],["colspan","8"],[1,"p-2"],["styleClass","p-datatable-sm p-datatable-gridlines","dataKey","variant_id",3,"value"],["colspan","3"],["colspan","7"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary",3,"click"]],template:function(n,r){n&1&&(a(0,"p-dialog",3),O("visibleChange",function(u){return x(r.visible,u)||(r.visible=u),u}),h("onHide",function(){return r.closeDialog()}),y(1,tp,14,17,"ng-template",4)(2,ip,1,0,"ng-template",5),o()),n&2&&(D(S(7,j0)),p("header","Products with either expired dates or will expire within "+r.dateRange()+" months"),E("visible",r.visible),p("modal",!0)("closable",!0)("maximizable",!0))},dependencies:[me,_e,G,rn,U,P,dt,X,mt,ye,V,Se,z,he]})}}return t})();var rp=["tableSearch"],op=["barcodeInput"],ap=["itemName"],lp=["dt2"],up=()=>[10,15,50,100],cp=()=>["product_name","barcode"],pe=t=>({"ng-invalid ng-dirty":t}),sp=()=>({width:"65vw"}),pp=t=>({"text-orange-500":t});function fp(t,e){t&1&&(a(0,"th",72),c(1," Cost "),o())}function dp(t,e){if(t&1&&(a(0,"tr")(1,"th"),c(2,"Exp Dates"),o(),a(3,"th",61),c(4,"Barcode"),o(),a(5,"th",62),c(6," Description "),v(7,"p-sortIcon",63),o(),a(8,"th",61),c(9,"Exp Date"),o(),a(10,"th",64),c(11," Category "),v(12,"p-sortIcon",65),o(),a(13,"th",66),c(14," Group "),v(15,"p-sortIcon",67),o(),a(16,"th",68),c(17," Qty "),v(18,"p-sortIcon",69),o(),y(19,fp,2,0,"th",70),a(20,"th",71),c(21,"Price"),o()()),t&2){let i=d();s(19),p("ngIf",i.userPermissions().show_cost)}}function mp(t,e){if(t&1&&v(0,"p-button",77),t&2){let i=d(),n=i.$implicit,r=i.expanded;p("severity",r?"danger":"success")("pRowToggler",n)("icon",r?"pi pi-minus":"pi pi-plus")}}function _p(t,e){if(t&1&&(a(0,"td"),c(1),j(2,"currency"),o()),t&2){let i=d().$implicit;s(),I(" ",de(2,1,i.unit_cost_usd,"USD","symbol","1.3-3")," ")}}function hp(t,e){if(t&1&&(a(0,"tr",73)(1,"td"),y(2,mp,1,3,"p-button",74),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),o(),a(13,"td",75),c(14),o(),y(15,_p,3,6,"td",76),a(16,"td"),c(17),j(18,"currency"),o()()),t&2){let i=e.$implicit,n=d();p("pSelectableRow",i),s(2),p("ngIf",i.has_variants),s(2),w(i.barcode||"---"),s(2),w(i.product_name),s(2),I(" ",i.variants_records&&i.variants_records.length==1?i.variants_records[0].expiry_date:"---"," "),s(2),w(i.category_name||"---"),s(2),w(i.group_name||"---"),s(),p("ngClass",B(16,pp,i.quantity<=i.low_stock_threshold||i.quantity===0)),s(),I(" ",i.stock_management?i.quantity:"--"," "),s(),p("ngIf",n.userPermissions().show_cost),s(2),I(" ",de(18,11,i.unit_price_usd,"USD","symbol","1.3-3")," ")}}function gp(t,e){if(t&1){let i=b();a(0,"p-button",83),h("onClick",function(){m(i);let r=d().$implicit,l=d();return _(l.openVariantsDialog("add",r))}),o()}}function vp(t,e){if(t&1){let i=b();a(0,"p-button",84),h("onClick",function(){m(i);let r=d().$implicit,l=d();return _(l.openVariantsDialog("edit",r))}),o(),a(1,"p-button",85),h("onClick",function(){m(i);let r=d(2);return _(r.deleteVariant())}),o()}if(t&2){let i=d(2);p("disabled",!i.selectedVariant),s(),p("disabled",!i.selectedVariant)}}function yp(t,e){t&1&&(a(0,"tr")(1,"th"),c(2,"Expiry Date"),o(),a(3,"th"),c(4,"Quantity"),o()())}function bp(t,e){if(t&1&&(a(0,"tr",73)(1,"td"),c(2),o(),a(3,"td"),c(4),o()()),t&2){let i=e.$implicit;p("pSelectableRow",i),s(2),w(i.expiry_date),s(2),I(" ",i.variant_quantity," ")}}function wp(t,e){t&1&&(a(0,"tr")(1,"td",86),c(2," No Variants for this product yet! "),o()())}function Sp(t,e){if(t&1){let i=b();a(0,"tr")(1,"td",78)(2,"div",79)(3,"p-toolbar"),y(4,gp,1,0,"ng-template",80)(5,vp,2,2,"ng-template",81),o(),a(6,"p-table",82,4),O("selectionChange",function(r){m(i);let l=d();return x(l.selectedVariant,r)||(l.selectedVariant=r),_(r)}),y(8,yp,5,0,"ng-template",25)(9,bp,5,3,"ng-template",26)(10,wp,3,0,"ng-template",28),o()()()()}if(t&2){let i=e.$implicit,n=d();s(6),p("value",i.variants_records),E("selection",n.selectedVariant)}}function Cp(t,e){t&1&&(a(0,"tr")(1,"td",87),c(2,"No items yet!"),o()())}function Ep(t,e){if(t&1&&(a(0,"h3"),c(1),o()),t&2){let i=d();s(),I("",i.dialogMode," Items")}}function xp(t,e){t&1&&(a(0,"small",88),c(1,"Barcode already exists!"),o())}function Op(t,e){if(t&1){let i=b();a(0,"div",89)(1,"p-button",90),h("onClick",function(){m(i);let r=d();return _(r.generateBarcode())}),o()()}t&2&&(s(),p("tabindex",-1))}function kp(t,e){t&1&&(a(0,"small",88),c(1,"Name is required."),o())}function Tp(t,e){t&1&&(a(0,"div",44)(1,"label",93),c(2,"Initial Qty"),o(),v(3,"p-inputNumber",95),o())}function Ip(t,e){if(t&1&&(a(0,"div",44)(1,"label"),c(2,"enable expiry dates"),o(),v(3,"br"),a(4,"div",45),v(5,"p-checkbox",91),a(6,"label",92),c(7,"Enable"),o()()(),y(8,Tp,4,0,"div",48),a(9,"div",44)(10,"label",93),c(11,"Low Stock Threshold"),o(),v(12,"p-inputNumber",94),o()),t&2){let i=d();s(5),p("binary",!0),s(3),p("ngIf",i.dialogMode=="add")}}function Dp(t,e){t&1&&(a(0,"small",88),c(1,"Cost is required."),o())}function Pp(t,e){if(t&1&&(a(0,"div",44)(1,"label",96),c(2,"Unit Cost"),a(3,"span",40),c(4,"*"),o()(),v(5,"p-inputNumber",97),y(6,Dp,2,0,"small",36),o()),t&2){let i=d();s(5),p("maxFractionDigits",3)("ngClass",B(3,pe,i.unit_cost_usd.invalid&&(i.unit_cost_usd.dirty||i.unit_cost_usd.touched||i.submitted))),s(),p("ngIf",i.unit_cost_usd.invalid&&(i.unit_cost_usd.dirty||i.unit_cost_usd.touched||i.submitted))}}function Rp(t,e){t&1&&(a(0,"small",88),c(1,"Price is required."),o())}function Vp(t,e){if(t&1){let i=b();a(0,"p-button",98),h("onClick",function(){m(i);let r=d();return _(r.submitItem())}),o(),a(1,"p-button",99),h("onClick",function(){m(i);let r=d();return _(r.closeItemDialog())}),o()}if(t&2){let i=d();p("loading",i.submitItemLoading())}}function Mp(t,e){if(t&1&&(a(0,"div",100)(1,"label"),c(2,"Expiry Date"),o(),v(3,"p-dropdown",105),o()),t&2){let i=d(2);s(3),p("autoOptionFocus",!1)("options",i.selectedItem==null?null:i.selectedItem.variants_records)}}function Ap(t,e){if(t&1){let i=b();a(0,"form",30),h("ngSubmit",function(){m(i);let r=d();return _(r.submitStock())}),a(1,"div",31)(2,"div",100)(3,"label"),c(4,"Option"),a(5,"span",40),c(6,"*"),o()(),v(7,"p-dropdown",101),o(),a(8,"div",100)(9,"label"),c(10,"Quantity"),a(11,"span",40),c(12,"*"),o()(),v(13,"p-inputNumber",102),o(),y(14,Mp,4,2,"div",100),a(15,"div",103)(16,"label"),c(17,"Notes"),o(),v(18,"input",104),o()()()}if(t&2){let i=d();p("formGroup",i.stockForm),s(7),p("autoOptionFocus",!1)("options",i.transactionOptions)("ngClass",B(7,pe,(i.transaction_type==null?null:i.transaction_type.invalid)&&((i.transaction_type==null?null:i.transaction_type.dirty)||(i.transaction_type==null?null:i.transaction_type.touched)||i.submitted))),s(6),p("ngClass",B(9,pe,(i.quantity==null?null:i.quantity.invalid)&&((i.quantity==null?null:i.quantity.dirty)||(i.quantity==null?null:i.quantity.touched)||i.submitted))),s(),Lt(i.selectedItem!=null&&i.selectedItem.has_variants?14:-1),s(4),p("ngClass",B(11,pe,(i.transaction_notes==null?null:i.transaction_notes.invalid)&&((i.transaction_notes==null?null:i.transaction_notes.dirty)||(i.transaction_notes==null?null:i.transaction_notes.touched)||i.submitted)))}}function Fp(t,e){if(t&1){let i=b();a(0,"p-button",106),h("onClick",function(){m(i);let r=d();return _(r.toggleStockDialog())}),o(),a(1,"p-button",107),h("onClick",function(){m(i);let r=d();return _(r.submitStock())}),o()}}var no=(()=>{class t{constructor(){this.subscriptions=new Qi,this.barcodeError=!1,this.stockService=C(W),this.fb=C(ve),this.confirmationService=C(nt),this.authService=C(at),this.variantsService=C(wn),this.notificationService=C(rt),this.printService=C(vt),this.api=C(ot),this.products=this.stockService.products,this.itemSidebarVisible=this.stockService.itemSidebarVisible,this.tableLoading=this.stockService.tableLoading,this.submitItemLoading=this.stockService.submitItemLoading,this.categories=this.stockService.categories,this.submitted=!1,this.userPermissions=this.authService.userPermissions,this.itemFormValues={stock_management:!0,has_variants:!0},this.itemForm=this.fb.group({product_id:[null],category_id_fk:[{value:null,disabled:!1}],product_name:[null,R.required],barcode:[null],unit_cost_usd:[null,R.required],unit_price_usd:[null,R.required],quantity:[null],product_notes:[null],low_stock_threshold:[null],stock_management:[this.itemFormValues.stock_management],has_variants:[this.itemFormValues.has_variants]}),this.stockDialogVisible=this.stockService.stockDialogVisible,this.transactionOptions=[{name:"Add",value:"ADD"},{name:"Remove",value:"REMOVE"}],this.stockForm=this.fb.group({product_id_fk:[null],transaction_type:[{value:null,disabled:!1},R.required],quantity:[null,R.required],variant_id:[null],transaction_notes:[null,R.required]}),this.historyDialogVisible=this.stockService.historyDialogVisible,this.historyLoading=this.stockService.historyLoading,this.variantsDialogVisible=!1,this.labelPrintDialogVisible=!1,this.lowStockDialogVisible=!1,this.lowProducts=qt(()=>this.products().filter(i=>i.quantity<=i.low_stock_threshold&&i.quantity>0&&i.low_stock_threshold)),this.expiredDialogVisible=fe(!1)}onKeyDown(i){!this.itemSidebarVisible()&&!this.stockDialogVisible()&&!this.variantsDialogVisible&&!this.labelPrintDialogVisible&&!this.lowStockDialogVisible&&!this.expiredDialogVisible()&&this.tableSearch.nativeElement.focus()}ngOnInit(){this.subscriptions.add(this.stockService.barcodeError.subscribe(()=>{this.barcodeInput.nativeElement.select(),this.barcodeError=!0})),this.subscriptions.add(this.stockService.itemCreated.subscribe(()=>{this.resetDialog()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}get category_id_fk(){return this.itemForm.get("category_id_fk")}get product_name(){return this.itemForm.get("product_name")}get unit_cost_usd(){return this.itemForm.get("unit_cost_usd")}get unit_price_usd(){return this.itemForm.get("unit_price_usd")}get stock_management(){return this.itemForm.get("stock_management")}get f(){return this.itemForm.controls}resetStockManagementFields(){this.itemForm.controls.quantity.reset(),this.itemForm.controls.low_stock_threshold.reset(),this.itemForm.controls.has_variants.reset()}focusInput(){this.barcodeInput.nativeElement.focus()}clearBarcode(){this.itemForm.patchValue({barcode:null})}openItemDialog(i){this.dialogMode=i,this.dialogMode=="add"?this.stockService.itemSidebarVisible.set(!0):this.dialogMode=="edit"&&(this.selectedItem.stock_management=this.selectedItem.stock_management==1,this.selectedItem.has_variants=this.selectedItem.has_variants==1,this.itemForm.patchValue(this.selectedItem),this.stockService.itemSidebarVisible.set(!0))}closeItemDialog(){this.stockService.itemSidebarVisible.set(!1)}resetDialog(){this.submitted=!1,this.itemForm.reset(this.itemFormValues)}submitItem(){this.submitted=!0,(!this.itemForm.controls.barcode.value||this.itemForm.controls.barcode.value==="")&&this.itemForm.patchValue({barcode:null}),this.dialogMode=="add"?this.itemForm.valid&&(this.itemForm.controls.has_variants.value||this.itemForm.patchValue({has_variants:!1}),this.stockService.createItem(this.itemForm.value),this.submitted=!1,this.focusInput()):this.itemForm.valid&&(this.stockService.updateItem(this.itemForm.value),this.selectedItem=null)}deleteSelectedItem(){this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected item?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.stockService.deleteItem(this.selectedItem),this.selectedItem=null}})}refreshTable(){this.stockService.getItems(),this.dt2.reset()}clearBarcodeError(){this.barcodeError=!1}get transaction_type(){return this.stockForm.get("transaction_type")}get quantity(){return this.stockForm.get("quantity")}get transaction_notes(){return this.stockForm.get("transaction_notes")}openStockDialog(){this.stockService.stockDialogVisible.set(!0)}toggleStockDialog(){this.stockService.stockDialogVisible.set(!1)}submitStock(){this.submitted=!0,this.stockForm.valid&&(this.stockForm.patchValue({product_id_fk:this.selectedItem?.product_id}),this.stockService.submitStock(this.stockForm.value))}resetStockDialog(){this.submitted=!1,this.stockForm.reset(),this.stockService.stockDialogVisible.set(!1)}fetchHistory(){this.stockService.fetchStockHistory(this.selectedItem.product_id)}closeHistoryDialog(){this.stockService.historyDialogVisible.set(!1)}openVariantsDialog(i,n,r){this.productExpanded=n,this.variantsDialogMode=i,i==="edit"||(this.selectedVariant=null),this.variantsDialogVisible=!0}variantSubmitted(i){this.selectedItem=i}closeVariantDialog(){this.variantsDialogVisible=!1,this.selectedVariant=null,this.productExpanded=null}deleteVariant(){this.selectedVariant.variant_quantity>0?this.notificationService.showInfo("Variant have items, empty it first","home"):this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected variant?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.variantsService.deleteVariant(this.selectedVariant),this.selectedVariant=null}})}printStock(){console.log(this.products());let i=qt(()=>this.products().filter(n=>n.stock_management).sort((n,r)=>{let l=(n.category_name||"").toLowerCase(),u=(r.category_name||"").toLowerCase();return l===u?n.product_name.localeCompare(r.product_name):l?u?l.localeCompare(u):-1:1}));console.log(i()),this.printService.printStock(i())}openLabelPrint(){let i=this.selectedItem;this.printData={barcode:i.barcode,shortName:i.product_name,price:i.unit_price_usd},this.labelPrintDialogVisible=!0}generateBarcode(){this.clearBarcodeError(),this.stockService.generateBarcode(),this.api.get("stock/generate-barcode").subscribe({next:i=>{this.itemForm.patchValue({barcode:i})}})}openLowStockDialog(){this.lowStockDialogVisible=!0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["app-inventory"]],viewQuery:function(n,r){if(n&1&&(le(rp,5),le(op,5),le(ap,5),le(lp,5)),n&2){let l;ue(l=ce())&&(r.tableSearch=l.first),ue(l=ce())&&(r.barcodeInput=l.first),ue(l=ce())&&(r.itemName=l.first),ue(l=ce())&&(r.dt2=l.first)}},hostBindings:function(n,r){n&1&&h("keydown",function(u){return r.onKeyDown(u)},!1,Ji)},decls:92,vars:60,consts:[["tableSearch",""],["dt2",""],["barcodeInput",""],["itemName",""],["vt",""],[1,"grid","m-1"],[1,"col-12"],[1,"grid"],[1,"col-12","md:col-2"],[1,"p-input-icon-left","w-full"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm","w-full",3,"input","value"],[1,"col-4","md:col-1"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","w-full",3,"onClick","loading"],["label","New","icon","pi pi-plus","severity","success","size","small","styleClass","w-full",3,"onClick"],["label","Print","icon","pi pi-print","size","small","severity","contrast","styleClass","w-full",3,"onClick"],[1,"col-6","md:col-1"],["label","Low Qty","size","small","severity","warning","icon","pi pi-exclamation-triangle","styleClass","w-full",3,"onClick"],["label","Expire Soon","size","small","severity","danger","icon","pi pi-calendar-clock","styleClass","w-full",3,"onClick"],["label","Correct Qty","size","small","severity","info","icon","pi pi-wrench","styleClass","w-full",3,"onClick","disabled"],["label","Print Labels","icon","pi pi-barcode","size","small","severity","help","styleClass","w-full",3,"onClick","disabled"],["label","History","size","small","severity","contrast","icon","pi pi-history","styleClass","w-full",3,"onClick","disabled","loading"],["label","Edit","icon","pi pi-file-edit","size","small","severity","warning","styleClass","w-full",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","size","small","severity","danger","styleClass","w-full",1,"ml-2",3,"onClick","disabled"],["styleClass","p-datatable-sm","selectionMode","single","dataKey","product_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","65vh","sortMode","multiple",3,"selectionChange","value","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay","loading","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["position","right","styleClass","w-30rem",3,"visibleChange","onShow","onHide","visible"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-9"],["for","barcode"],[1,"pi","pi-barcode"],["placeholder","Barcode ...","pInputText","","spellcheck","false","formControlName","barcode",1,"w-full","p-inputtext-sm",3,"input","ngClass"],["class","p-error",4,"ngIf"],["class","field col-3 flex align-items-end",4,"ngIf"],[1,"field","col-12"],["for","name"],[1,"text-red-600"],["placeholder","Product Name","id","name","pInputText","","formControlName","product_name","spellcheck","false",1,"w-full","p-inputtext-sm",3,"ngClass"],["for","Category"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","category_id_fk","optionLabel","category_name","optionValue","category_id","placeholder","Select Category ...","filterBy","category_name",3,"autoOptionFocus","showClear","options","filter"],[1,"field","col-6"],[1,"flex","align-items-center","gap-1"],["formControlName","stock_management","inputId","stock_management",3,"onChange","binary"],["for","stock_management"],["class","field col-6",4,"ngIf"],["for","unit_price_usd"],["styleClass","w-full","formControlName","unit_price_usd","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full",3,"maxFractionDigits","ngClass"],["for","product_notes"],["type","text","pInputText","","formControlName","product_notes","spellcheck","false",1,"w-full"],["pTemplate","footer"],["header","Stock Correction","styleClass","p-fluid","position","top",3,"onHide","visible","modal"],["pTemplate","content"],[3,"onClose","visible","product_id"],[3,"OnClose","OnSubmit","visible","dialog_mode","selected_product","selected_variant"],[3,"visibleChange","visible","printData"],[3,"visibleChange","visible","low_products"],[3,"visibleChange","visible"],["width","10%"],["width","35%","pSortableColumn","product_name"],["field","product_name"],["width","15%","pSortableColumn","category_name"],["field","category_name"],["width","15%","pSortableColumn","group_name"],["field","group_name"],["width","5%","pSortableColumn","quantity"],["field","quantity"],["width","7%",4,"ngIf"],["width","8%"],["width","7%"],[3,"pSelectableRow"],["type","button","size","small","pRipple","",3,"severity","pRowToggler","icon",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],["type","button","size","small","pRipple","",3,"severity","pRowToggler","icon"],["colspan","8"],[1,"p-2"],["pTemplate","left"],["pTemplate","right"],["styleClass","p-datatable-sm p-datatable-gridlines","dataKey","variant_id","selectionMode","single",3,"selectionChange","value","selection"],["size","small","label","Add Date","severity","success","icon","pi pi-plus",3,"onClick"],["label","Edit Date","icon","pi pi-file-edit","size","small","severity","warning",3,"onClick","disabled"],["label","Delete Date","icon","pi pi-trash","size","small","severity","danger",1,"ml-2",3,"onClick","disabled"],["colspan","3"],["colspan","7"],[1,"p-error"],[1,"field","col-3","flex","align-items-end"],["label","Generate","severity","contrast",3,"onClick","tabindex"],["formControlName","has_variants","inputId","has_variants",3,"binary"],["for","has_variants"],["for","qty"],["styleClass","w-full","formControlName","low_stock_threshold","placeholder","low stock qty",1,"p-inputtext-sm","w-full"],["styleClass","w-full","formControlName","quantity","placeholder","Initial Qty",1,"p-inputtext-sm","w-full"],["for","unit_cost_usd"],["styleClass","w-full","formControlName","unit_cost_usd","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full",3,"maxFractionDigits","ngClass"],["type","submit","label","Save","icon","pi pi-check","styleClass","w-full mb-3","severity","success",3,"onClick","loading"],["label","Close","icon","pi pi-times","styleClass","w-full","severity","secondary",3,"onClick"],[1,"field","col-12","md:col-3"],["scrollHeight","400px","appendTo","body","formControlName","transaction_type","optionLabel","name","optionValue","value","placeholder","transaction type ...",3,"autoOptionFocus","options","ngClass"],["formControlName","quantity",3,"ngClass"],[1,"field","col-12","md:col-6"],["type","text","spellcheck","false","pInputText","","formControlName","transaction_notes",1,"w-full",3,"ngClass"],["scrollHeight","400px","appendTo","body","formControlName","variant_id","optionLabel","expiry_date","optionValue","variant_id","placeholder","From Date...",3,"autoOptionFocus","options"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Save","icon","pi pi-check","severity","success","size","small",3,"onClick"]],template:function(n,r){if(n&1){let l=b();a(0,"div",5)(1,"div",6)(2,"p-card")(3,"div",7)(4,"div",8)(5,"span",9),v(6,"i",10),a(7,"input",11,0),h("input",function(f){m(l);let F=Y(30);return _(F.filterGlobal(f.target.value,"contains"))}),o()()(),a(9,"div",12)(10,"p-button",13),h("onClick",function(){return m(l),_(r.refreshTable())}),o()(),a(11,"div",12)(12,"p-button",14),h("onClick",function(){return m(l),_(r.openItemDialog("add"))}),o()(),a(13,"div",12)(14,"p-button",15),h("onClick",function(){return m(l),_(r.printStock())}),o()(),a(15,"div",16)(16,"p-button",17),h("onClick",function(){return m(l),_(r.openLowStockDialog())}),o()(),a(17,"div",16)(18,"p-button",18),h("onClick",function(){return m(l),_(r.expiredDialogVisible.set(!0))}),o()(),a(19,"div",16)(20,"p-button",19),h("onClick",function(){return m(l),_(r.openStockDialog())}),o()(),a(21,"div",16)(22,"p-button",20),h("onClick",function(){return m(l),_(r.openLabelPrint())}),o()(),a(23,"div",12)(24,"p-button",21),h("onClick",function(){return m(l),_(r.fetchHistory())}),o()(),a(25,"div",12)(26,"p-button",22),h("onClick",function(){return m(l),_(r.openItemDialog("edit"))}),o()(),a(27,"div",12)(28,"p-button",23),h("onClick",function(){return m(l),_(r.deleteSelectedItem())}),o()()(),a(29,"p-table",24,1),O("selectionChange",function(f){return m(l),x(r.selectedItem,f)||(r.selectedItem=f),_(f)}),y(31,dp,22,1,"ng-template",25)(32,hp,19,18,"ng-template",26)(33,Sp,11,2,"ng-template",27)(34,Cp,3,0,"ng-template",28),o()()()(),a(35,"p-sidebar",29),O("visibleChange",function(f){return m(l),x(r.itemSidebarVisible,f)||(r.itemSidebarVisible=f),_(f)}),h("onShow",function(){return m(l),_(r.focusInput())})("onHide",function(){return m(l),_(r.resetDialog())}),y(36,Ep,2,1,"ng-template",25),a(37,"form",30),h("ngSubmit",function(){return m(l),_(r.submitItem())}),a(38,"div",31)(39,"div",32)(40,"label",33),c(41,"Barcode"),o(),a(42,"p-inputGroup")(43,"p-inputGroupAddon"),v(44,"i",34),o(),a(45,"input",35,2),h("input",function(){return m(l),_(r.clearBarcodeError())}),o()(),y(47,xp,2,0,"small",36),o(),y(48,Op,2,1,"div",37),a(49,"div",38)(50,"label",39),c(51,"Product Name"),a(52,"span",40),c(53,"*"),o()(),v(54,"input",41,3),y(56,kp,2,0,"small",36),o(),a(57,"div",38)(58,"label",42),c(59,"Category"),o(),v(60,"p-dropdown",43),o(),a(61,"div",44)(62,"label"),c(63,"Stock Management"),o(),v(64,"br"),a(65,"div",45)(66,"p-checkbox",46),h("onChange",function(){return m(l),_(r.resetStockManagementFields())}),o(),a(67,"label",47),c(68,"Enable"),o()()(),y(69,Ip,13,2),o(),a(70,"div",31),y(71,Pp,7,5,"div",48),a(72,"div",44)(73,"label",49),c(74,"Unit price"),a(75,"span",40),c(76,"*"),o()(),v(77,"p-inputNumber",50),y(78,Rp,2,0,"small",36),o(),a(79,"div",38)(80,"label",51),c(81,"Notes"),o(),v(82,"input",52),o()()(),y(83,Vp,2,1,"ng-template",53),o(),a(84,"p-dialog",54),h("onHide",function(){return m(l),_(r.resetStockDialog())}),y(85,Ap,19,13,"ng-template",55)(86,Fp,2,0,"ng-template",53),o(),a(87,"stock-transactions",56),h("onClose",function(){return m(l),_(r.closeHistoryDialog())}),o(),a(88,"variants-dialog",57),h("OnClose",function(){return m(l),_(r.closeVariantDialog())})("OnSubmit",function(f){return m(l),_(r.variantSubmitted(f))}),o(),a(89,"label-print",58),O("visibleChange",function(f){return m(l),x(r.labelPrintDialogVisible,f)||(r.labelPrintDialogVisible=f),_(f)}),o(),a(90,"low-stock-dialog",59),O("visibleChange",function(f){return m(l),x(r.lowStockDialogVisible,f)||(r.lowStockDialogVisible=f),_(f)}),o(),a(91,"expired-dialog",60),O("visibleChange",function(f){return m(l),x(r.expiredDialogVisible,f)||(r.expiredDialogVisible=f),_(f)}),o()}if(n&2){let l=Y(30);s(7),p("value",l.filters.global==null?null:l.filters.global.value),s(3),p("loading",r.tableLoading()),s(10),p("disabled",!r.selectedItem||r.selectedItem.stock_management==0),s(2),p("disabled",!r.selectedItem||r.selectedItem.barcode==""),s(2),p("disabled",!r.selectedItem)("loading",r.historyLoading()),s(2),p("disabled",!r.selectedItem),s(2),p("disabled",!r.selectedItem),s(),p("value",r.products()),E("selection",r.selectedItem),p("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",S(51,up))("alwaysShowPaginator",!0)("globalFilterFields",S(52,cp))("filterDelay",0)("loading",r.tableLoading())("scrollable",!0),s(6),E("visible",r.itemSidebarVisible),s(2),p("formGroup",r.itemForm),s(8),p("ngClass",B(53,pe,r.barcodeError)),s(2),p("ngIf",r.barcodeError),s(),p("ngIf",!r.f.product_id.value||!(r.selectedItem!=null&&r.selectedItem.barcode)),s(6),p("ngClass",B(55,pe,r.product_name.invalid&&(r.product_name.dirty||r.product_name.touched||r.submitted))),s(2),p("ngIf",r.product_name.invalid&&(r.product_name.dirty||r.product_name.touched||r.submitted)),s(4),p("autoOptionFocus",!1)("showClear",!0)("options",r.categories())("filter",!0),s(6),p("binary",!0),s(3),Lt(r.stock_management.value?69:-1),s(2),p("ngIf",r.userPermissions().show_cost),s(6),p("maxFractionDigits",3)("ngClass",B(57,pe,r.unit_price_usd.invalid&&(r.unit_price_usd.dirty||r.unit_price_usd.touched||r.submitted))),s(),p("ngIf",r.unit_price_usd.invalid&&(r.unit_price_usd.dirty||r.unit_price_usd.touched||r.submitted)),s(6),D(S(59,sp)),p("visible",r.stockDialogVisible())("modal",!0),s(3),p("visible",r.historyDialogVisible())("product_id",r.selectedItem==null?null:r.selectedItem.product_id),s(),p("visible",r.variantsDialogVisible)("dialog_mode",r.variantsDialogMode)("selected_product",r.productExpanded)("selected_variant",r.selectedVariant),s(),E("visible",r.labelPrintDialogVisible),p("printData",r.printData),s(),E("visible",r.lowStockDialogVisible),p("low_products",r.lowProducts()),s(),E("visible",r.expiredDialogVisible)}},dependencies:[me,_e,te,ge,G,ee,ie,ne,U,P,dt,X,cn,mt,Ee,H,V,Se,z,Ce,ut,dn,Sn,En,St,bn,gt,Nt,Zr,to,he],styles:["[_nghost-%COMP%]  .p-card-content{padding:0!important}[_nghost-%COMP%]  .p-toolbar{padding-top:.6rem!important;padding-bottom:.6rem!important}[_nghost-%COMP%]  .p-button.p-button-icon-only{height:2rem!important;width:1rem!important}"]})}}return t})();var ro=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["app-stock-home"]],decls:1,vars:0,template:function(n,r){n&1&&v(0,"router-outlet")},dependencies:[tn]})}}return t})();var Bp=()=>[10,15,50,100],Np=()=>({width:"35vw"}),Lp=()=>({"1199px":"75vw","575px":"85vw"}),qp=(t,e)=>({" pi-check-circle text-green-600":t,"pi-times-circle text-red-600":e}),jp=t=>({"ng-invalid ng-dirty":t});function Gp(t,e){if(t&1){let i=b();a(0,"p-button",11),h("onClick",function(){m(i);let r=d();return _(r.refreshCategories())}),o(),a(1,"p-button",12),h("onClick",function(){m(i);let r=d();return _(r.openCategoryDialog("add"))}),o()}if(t&2){let i=d();p("loading",i.categoriesLoading())}}function Hp(t,e){if(t&1){let i=b();a(0,"p-button",13),h("onClick",function(){m(i);let r=d();return _(r.openCategoryDialog("edit"))}),o(),a(1,"p-button",14),h("onClick",function(){m(i);let r=d();return _(r.deleteSelectedCategory())}),o()}if(t&2){let i=d();p("disabled",!i.selectedCategory()),s(),p("disabled",!i.selectedCategory())}}function zp(t,e){t&1&&(a(0,"tr")(1,"th",15),c(2,"Sort"),o(),a(3,"th",16),c(4,"Name"),o(),a(5,"th",17),c(6,"Group"),o(),a(7,"th",18),c(8,"Visible?"),o()())}function Up(t,e){if(t&1&&(a(0,"tr",19)(1,"td"),v(2,"span",20),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),v(8,"i",21),o()()),t&2){let i=e.$implicit,n=e.rowIndex;p("pReorderableRow",n)("pSelectableRow",i),s(4),w(i.category_name),s(2),w(i.group_name||"---"),s(2),p("ngClass",Zi(5,qp,i.show_on_sell,!i.show_on_sell))}}function Xp(t,e){t&1&&(a(0,"tr")(1,"td",22),c(2,"No Categories yet!"),o()())}function Wp(t,e){if(t&1){let i=b();a(0,"form",23),h("ngSubmit",function(){m(i);let r=d();return _(r.submitCategory())}),a(1,"div",24)(2,"div",25)(3,"label",26),c(4,"Category Name"),o(),v(5,"input",27),o(),a(6,"div",25)(7,"label",26),c(8,"Select Group"),o(),v(9,"p-dropdown",28),o(),a(10,"div",29),v(11,"p-inputSwitch",30),a(12,"label",31),c(13,"Show on sell page?"),o()()()()}if(t&2){let i=d();p("formGroup",i.categoryForm),s(5),p("ngClass",B(6,jp,(i.category_name==null?null:i.category_name.invalid)&&((i.category_name==null?null:i.category_name.dirty)||(i.category_name==null?null:i.category_name.touched)))),s(4),p("autoOptionFocus",!1)("showClear",!0)("options",i.groups())("filter",!0)}}function $p(t,e){if(t&1){let i=b();a(0,"p-button",32),h("onClick",function(){m(i);let r=d();return _(r.categoryDialogVisible.set(!1))}),o(),a(1,"p-button",33),h("onClick",function(){m(i);let r=d();return _(r.submitCategory())}),o()}}var oo=(()=>{class t{constructor(){this.stockService=C(W),this.confirmationService=C(nt),this.notificationService=C(rt),this.categoryDialogVisible=this.stockService.categoryDialogVisible,this.groups=this.stockService.groups,this.groupsLoading=this.stockService.groupsLoading,this.categories=this.stockService.categories,this.categoriesLoading=this.stockService.categoriesLoading,this.selectedCategory=this.stockService.selectedCategory,this.categoryForm=new nn({category_id:new Ne,group_id_fk:new Ne,category_name:new Ne(null,R.required),show_on_sell:new Ne(!1)})}sortCategories(){this.stockService.sortCategories()}selectCategory(){}refreshCategories(){this.stockService.getCategories()}get category_name(){return this.categoryForm.get("category_name")}openCategoryDialog(i){this.dialogMode=i,this.dialogMode=="add"?this.stockService.categoryDialogVisible.set(!0):(this.categoryForm.patchValue({category_id:this.selectedCategory()?.category_id,category_name:this.selectedCategory()?.category_name,show_on_sell:this.selectedCategory()?.show_on_sell==1}),this.stockService.categoryDialogVisible.set(!0))}submitCategory(){this.dialogMode=="add"?this.categoryForm.valid&&(this.stockService.createCategory(this.categoryForm.value),this.stockService.categoryDialogVisible.set(!1)):this.dialogMode=="edit"&&this.categoryForm.valid&&(this.stockService.updateCategory(this.categoryForm.value),this.stockService.selectedCategory.set(null))}deleteSelectedCategory(){this.stockService.filteredItems().length!=0?this.notificationService.showError("Delete all category items before proceeding!","categories"):this.confirmationService.confirm({key:"home",message:`Are you sure that you want to delete "${this.selectedCategory()?.category_name}"?`,header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.stockService.deleteCategory(this.selectedCategory().category_id)}})}resetDialog(){this.categoryForm.reset({category_name:null,show_on_sell:!1})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["categories"]],decls:11,vars:17,consts:[["header","Categories"],["styleClass","mb-4 p-2"],["pTemplate","left"],["pTemplate","right"],["selectionMode","single","dataKey","category_id","styleClass","p-datatable-sm","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","55vh",3,"selectionChange","onRowReorder","value","selection","loading","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Category","styleClass","p-fluid",3,"onHide","visible","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","mr-2 ",3,"onClick","loading"],["label","New Category","icon","pi pi-plus","severity","success","size","small",3,"onClick"],["label","Edit","icon","pi pi-file-edit","severity","warning","size","small",1,"mr-2",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","size","small","severity","danger",3,"onClick","disabled"],["width","10%"],["width","50%"],["width","25%"],["width","15%"],[3,"pReorderableRow","pSelectableRow"],["pReorderableRowHandle","",1,"pi","pi-bars"],[1,"pi",3,"ngClass"],["colspan","3"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"field","col-6"],["for","name"],["type","text","pInputText","","formControlName","category_name","spellcheck","false",1,"p-inputtext-sm",3,"ngClass"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","group_id_fk","optionLabel","group_name","optionValue","group_id","placeholder","Select Group ...","filterBy","group_name",3,"autoOptionFocus","showClear","options","filter"],[1,"col-12","flex","align-items-center","justify-content-center","gap-2"],["id","showOnSell","formControlName","show_on_sell"],["for","showOnSell"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Save","icon","pi pi-check","severity","success","size","small",3,"onClick"]],template:function(n,r){n&1&&(a(0,"p-panel",0)(1,"p-toolbar",1),y(2,Gp,2,1,"ng-template",2)(3,Hp,2,2,"ng-template",3),o(),a(4,"p-table",4),O("selectionChange",function(u){return x(r.selectedCategory,u)||(r.selectedCategory=u),u}),h("onRowReorder",function(){return r.sortCategories()}),y(5,zp,9,0,"ng-template",5)(6,Up,9,8,"ng-template",6)(7,Xp,3,0,"ng-template",7),o()(),a(8,"p-dialog",8),h("onHide",function(){return r.resetDialog()}),y(9,Wp,14,8,"ng-template",9)(10,$p,2,0,"ng-template",10),o()),n&2&&(s(4),p("value",r.categories()),E("selection",r.selectedCategory),p("loading",r.categoriesLoading())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",S(14,Bp))("alwaysShowPaginator",!0)("scrollable",!0),s(4),D(S(15,Np)),p("visible",r.categoryDialogVisible())("modal",!0)("breakpoints",S(16,Lp)))},dependencies:[me,te,ge,G,ee,ie,ne,U,P,X,sn,pn,Ee,H,V,Se,z,ln,yt]})}}return t})();var Yp=()=>({width:"35vw"}),Kp=()=>({"1199px":"85vw","575px":"95vw"});function Jp(t,e){if(t&1){let i=b();a(0,"form",7),h("ngSubmit",function(){m(i);let r=d();return _(r.submit())}),a(1,"div",8)(2,"label",9),c(3,"Exchange Rate"),o(),v(4,"p-inputNumber",10),o()()}if(t&2){let i=d();p("formGroup",i.rateForm),s(4),p("min",1e3)}}function Zp(t,e){if(t&1){let i=b();a(0,"button",11),h("click",function(){m(i);let r=d();return _(r.toggleDialog(!1))}),o(),a(1,"button",12),h("click",function(){m(i);let r=d();return _(r.submit())}),o()}}var ao=(()=>{class t{constructor(){this.stockService=C(W),this.formBuilder=C(ve),this.exchangeRate=this.stockService.exchangeRate,this.rateDialogVisible=this.stockService.rateDialogVisible,this.dialogVisible=!1,en(()=>{this.rateForm=this.formBuilder.group({rate_value:[this.exchangeRate().rate_value]})})}toggleDialog(i){this.stockService.rateDialogVisible.set(i)}submit(){this.rateForm.valid&&this.stockService.updateExchangeRate(this.rateForm.value)}resetDialog(){this.rateForm.reset({rate_value:this.exchangeRate().rate_value}),this.stockService.rateDialogVisible.set(!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["exchange-rate"]],decls:12,vars:10,consts:[[1,"p-toolbar-group-start"],[1,"text-green-600"],[1,"p-toolbar-group-end"],["icon","pi pi-file-edit","styleClass","p-button-warning","label","Edit",3,"onClick"],["header","Exchange Rate","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"field","mt-1"],["for","name"],["inputId","integeronly","formControlName","rate_value",3,"min"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-secondary",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-success",3,"click"]],template:function(n,r){n&1&&(a(0,"p-toolbar")(1,"div",0)(2,"h3"),c(3," Dollar Exchange: "),a(4,"i",1),c(5),j(6,"lira"),o()()(),a(7,"div",2)(8,"p-button",3),h("onClick",function(){return r.toggleDialog(!0)}),o()()(),a(9,"p-dialog",4),O("visibleChange",function(u){return x(r.rateDialogVisible,u)||(r.rateDialogVisible=u),u}),h("onHide",function(){return r.resetDialog()}),y(10,Jp,5,2,"ng-template",5)(11,Zp,2,0,"ng-template",6),o()),n&2&&(s(5),w(tt(6,6,r.exchangeRate().rate_value)),s(4),D(S(8,Yp)),E("visible",r.rateDialogVisible),p("modal",!0)("breakpoints",S(9,Kp)))},dependencies:[te,G,ee,ie,ne,P,Ee,ye,H,V,Ce,yn]})}}return t})();var lo=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=T({type:t,selectors:[["stock-settings"]],decls:6,vars:0,consts:[[1,"grid","m-1"],[1,"col-12","md:col-6"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1),v(2,"exchange-rate")(3,"br")(4,"categories"),o(),v(5,"div",1),o())},dependencies:[oo,ao]})}}return t})();var tf=[{path:"",component:ro,children:[{path:"items",data:{breadcrumb:"Inventory"},component:no},{path:"settings",data:{breadcrumb:"Settings"},component:lo},{path:"**",redirectTo:"/stock/items"}]}],uo=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Je({type:t})}static{this.\u0275inj=Ke({imports:[jt.forChild(tf),jt]})}}return t})();var N1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Je({type:t})}static{this.\u0275inj=Ke({imports:[it,an,lt,uo,_t,fn,be,we,pt,st,ft,ct,_n,mn,un,bt,Cn,xn,St,ht,gt,Nt]})}}return t})();export{N1 as StockModule};
